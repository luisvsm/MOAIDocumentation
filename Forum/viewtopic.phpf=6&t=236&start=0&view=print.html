<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta name="robots" content="noindex" />

<title>Moai Forum | The mobile platform for pro game developers &bull; View topic - GUI</title>

<link href="styles/proFormell/theme/print.css" rel="stylesheet" type="text/css" />
<link type="image/vnd.microsoft.icon" rel="shortcut icon" href="styles/proFormell/theme/images/favicon.ico">
</head>

<body id="phpbb">
<div id="wrap">
	<a id="top" name="top" accesskey="t"></a>

	<div id="page-header">
		<h1>Moai Forum | The mobile platform for pro game developers</h1>
		<p>The mobile platform for pro game developers<br /><a href="index.html">/forums/</a></p>

		<h2>GUI</h2>
		<p><a href="gui-t236/index.html">/forums/gui-t236/</a></p>
	</div>

	<div id="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>3</strong></div>
		
			<div class="post">
				<h3>GUI</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sun Dec 04, 2011 3:12 pm</strong></div>
				<div class="author">by <strong>derickdong</strong></div>
				<div class="content">I've been working on a project for a while that needed a decent GUI, so I put one together. I wrote most of it a while back (against MOAI 0.7), and have been fixing/extending it as I went along. Its still fairly simple, and lacks a lot of the bells and whistles of more mature systems, but I figured some other people may find it useful.
<br />
<br />
<br />
<br />I've only used and tested this on Windows (XP). Input handling for mobile devices isn't hooked up at all (although it shouldn't be difficult to add).
<br />
<br />
<br />
<br />Currently, there is support for the following widgets:
<br />
<br />- Button - your basic push button; also supports images
<br />
<br />- Check Box - select and unselect
<br />
<br />- Edit Box - accepts user keyboard input
<br />
<br />- Image - static image
<br />
<br />- Label - static text
<br />
<br />- Progress Bar - displays a bar that indicates progress
<br />
<br />- Radio Button - select and unselect; only one in the group can be selected at a time
<br />
<br />- Scroll Bar - scroll through a list of items; horizontal and vertical
<br />
<br />- Slider - selection of a numeric value by adjusting the slider; horizontal and vertical
<br />
<br />- Text Box - a scrollable box of text
<br />
<br />- Widget List - a list box; supports multiple selections and the ability to specify a column's widget type
<br />
<br />
<br />
<br />Here's a link to the download:
<br />
<br /><a href="http://code.google.com/p/moaigui/downloads/list" target="_blank">http://code.google.com/p/moaig.....loads/list</a>
<br />
<br />
<br />
<br />Included in the download are several samples. If anyone has any suggestions/comments/problems, let me know.</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>GUI</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sun Dec 04, 2011 3:21 pm</strong></div>
				<div class="author">by <strong>todd</strong></div>
				<div class="content">Wow! That's excellent Derick - thank you.</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>GUI</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sun Dec 04, 2011 8:49 pm</strong></div>
				<div class="author">by <strong>patrick</strong></div>
				<div class="content">Nice work!
<br />
<br />I see you went with the MIT license. Mind if we include this in our contrib folder?</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>GUI</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sun Dec 04, 2011 11:31 pm</strong></div>
				<div class="author">by <strong>derickdong</strong></div>
				<div class="content">Not at all. Is there anything I needed to do?</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>GUI</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Mon Dec 05, 2011 7:38 am</strong></div>
				<div class="author">by <strong>ibisum</strong></div>
				<div class="content">Wow this is a really nice contribution to the moai scene .. Very useful!  Thank you very much for sharing it .. </div>
			</div>
			<hr />
		
			<div class="post">
				<h3>GUI</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Tue Dec 06, 2011 4:33 pm</strong></div>
				<div class="author">by <strong>patrick</strong></div>
				<div class="content">Nothing more to do. I'll just copy it in there as-is. Ping me if/when you want to update it. :)</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>GUI</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Fri Dec 16, 2011 7:47 pm</strong></div>
				<div class="author">by <strong>bonozogames</strong></div>
				<div class="content">(I did not find any screen shots to review.)</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>GUI</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sat Dec 31, 2011 6:50 pm</strong></div>
				<div class="author">by <strong>bonozogames</strong></div>
				<div class="content">Here's a screen shot of one of the samples ("variousfromlayout.lua")
<br />
<br /><a rel="nofollow" href="http://postimage.org/image/x7gx020pz/" target="_blank">http://s15.postimage.org/452mx.....oaigui.png</a></div>
			</div>
			<hr />
		
			<div class="post">
				<h3>GUI</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Wed Jan 04, 2012 5:39 am</strong></div>
				<div class="author">by <strong>Dwi</strong></div>
				<div class="content">nice :) , otw try <img src="http://192.168.20.226:3000/wp-content/forum-smileys/sf-cool.gif" alt="Cool" /></div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: GUI</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Fri Mar 16, 2012 4:02 pm</strong></div>
				<div class="author">by <strong>applelifer</strong></div>
				<div class="content">Any plans to port this to iOS. I would really like it. Thanks! Moai is awesome!</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: GUI</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Tue Mar 20, 2012 9:19 am</strong></div>
				<div class="author">by <strong>ibisum</strong></div>
				<div class="content">Just wondering if there has been any changes to this lately, particularly regarding the layer handling of events?  When I tried to use this, it was in combination with the scene.lua library also published, but these two frameworks aren't compatible with each other due to the way layer events were being handled in each library.  So, if there is a way to use scenes and the guilibrary, I'd love to hear it!</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: GUI</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Wed Mar 21, 2012 11:17 pm</strong></div>
				<div class="author">by <strong>derickdong</strong></div>
				<div class="content"><blockquote><div><cite>applelifer wrote:</cite>Any plans to port this to iOS. I would really like it. Thanks! Moai is awesome!</div></blockquote><br />Is there something specific that's not working on that platform? Unfortunately, I don't having anything that could run it, so you're going to have to give me more information about the issue(s) before I'm able to do anything. It was written using MOAI's Lua implementation, so it should run on anything MOAI supports. Unless you are referring to input handling for mobile devices, in which case, I haven't gotten around to adding anything.<br /><br /><blockquote><div><cite>ibisum wrote:</cite>Just wondering if there has been any changes to this lately, particularly regarding the layer handling of events?  When I tried to use this, it was in combination with the scene.lua library also published, but these two frameworks aren't compatible with each other due to the way layer events were being handled in each library.  So, if there is a way to use scenes and the guilibrary, I'd love to hear it!</div></blockquote><br />I haven't worked with this scene.lua library to which you are referring. I'm going to guess the situation is:<br />1. Create a scene - a layer is added<br />2. Create the gui - a layer is added<br />3. At some point later you're creating a second scene, which adds a third layer, on top of the gui's layer. This prevents the gui from properly receiving events.<br /><br />With the way MOAI is designed, I believe a GUI system must always be the top layer. Otherwise, events will be caught by any layers above it. Unfortunately, MOAI currently doesn't have a way to remove a specific layer from the layer rendering stack. I -think- MOAILayerBridge2D could be used to fix this, as it looks like it was intended for HUD elements. However, from what I've seen, MOAILayerBridge2D only deals with rendering, and not input handling. I could be wrong, though, as I haven't really delved into its functionality.<br /><br />A possibility (although hardly ideal) would be to maintain an intermediate layer stack. This would be how you would want the layers ordered, and the stack you would deal with. Whenever a change to it is made, all the layers would be popped off MOAI's layer stack, and the layers would be pushed back on according to the intermediate stack.</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: GUI</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Thu Mar 22, 2012 6:55 pm</strong></div>
				<div class="author">by <strong>Mud</strong></div>
				<div class="content"><blockquote><div><cite>derickdong wrote:</cite>Is there something specific that's not working on that platform? Unfortunately, I don't having anything that could run it, so you're going to have to give me more information about the issue(s) before I'm able to do anything. It was written using MOAI's Lua implementation, so it should run on anything MOAI supports. Unless you are referring to input handling for mobile devices, in which case, I haven't gotten around to adding anything.</div></blockquote><br /><br />I tried it on my iPad. I mapped touch events into the same code as your mouse listener, but there was some kind of coordinate translation issue. I could sometimes get buttons/sliders/etc. to react by touching radically wrong positions on the screen. <img src="images/smilies/icon_e_smile.gif" alt=":)" title="Smile" /> I took a few guesses at what translation was required and gave up.<br /><br />P.S. You can pick up an iPad 1 for under $200. <img src="images/smilies/icon_e_wink.gif" alt=";)" title="Wink" /></div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: GUI</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Fri Mar 23, 2012 9:28 am</strong></div>
				<div class="author">by <strong>ibisum</strong></div>
				<div class="content">Also, there was the layer/partition bug in MOAI found recently that might have had some effect on this issue, no?</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: GUI</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Fri Apr 20, 2012 3:41 am</strong></div>
				<div class="author">by <strong>Jubaz</strong></div>
				<div class="content">Hi! I'm newbie on Lua and MOAI. I tried to run some of the examples and got this error:<br />I'm getting this error: PANIC: unprotected error in call to Lua API (.\gui\text.lua:58: attempt to call method 'getScale' (a nil value))<br /><br />Do you know what's happening?</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: GUI</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Fri Apr 20, 2012 6:30 am</strong></div>
				<div class="author">by <strong>anddrewscott</strong></div>
				<div class="content">Text:getScale() was removed in the latest version. <br />Remove that line and it should work fine by using the default font size.</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: GUI</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Fri Apr 20, 2012 4:25 pm</strong></div>
				<div class="author">by <strong>Jubaz</strong></div>
				<div class="content">Ahh, thanks.<br />But I got the same error on the line: self._textBox:setStringColor(1, #self._string, r, g, b, a)<br />I removed this line, but the components were not displaying correctly.</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: GUI</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Fri Apr 20, 2012 6:40 pm</strong></div>
				<div class="author">by <strong>derickdong</strong></div>
				<div class="content">As stated in the original post, this was written against version 0.7. There have been a number of changes to MOAI since then, particularly in v1.0. I've recently updated to the newest version, and have most of the gui code working again. One of the main problems I'm having is how MOAI deals with decks when they don't have an assigned texture. Previously, they wouldn't be rendered. Now, they are rendered, and seem to use whatever texture state information was last used.<br /><br />I haven't really been looking at it too much lately, as I was waiting to see how things were going to pan out with v1.0. Now that it looks to be more or less stable, I'll try to go back to it when I get a chance.</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: GUI</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Fri Apr 20, 2012 6:57 pm</strong></div>
				<div class="author">by <strong>Jubaz</strong></div>
				<div class="content">Oh, nice.<br />Thank you, Derick.<br />Tell us here if you fix them, please. These components would be very useful. <img src="images/smilies/icon_e_smile.gif" alt=":)" title="Smile" /></div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: GUI</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sat Apr 21, 2012 11:33 am</strong></div>
				<div class="author">by <strong>ibisum</strong></div>
				<div class="content">derickdong, I am currently working on getting the moaigui stuff caught up with moai-1.0, but it seems you've already done this work?  Is there some way we can sync our work through a repo and thus bring the moaigui stuff up to scratch with the 1.0 release together?  I am using this framework rather extensively for some of my MOAI projects, and getting everything brought up to functional on moai-1.0 is a pretty high priority for me - so I'd be happy to work on whatever is needed.  Heck, its my day job at this point. <img src="images/smilies/icon_e_wink.gif" alt=";)" title="Wink" /><br /><br />Edit, just wanted to say that the repo in your google code site is empty .. maybe you can set up a 1.0-fixing branch and we can work together?</div>
			</div>
			<hr />
		
	</div>

	<div id="page-footer">
		<div class="page-number">All times are UTC <br />Page <strong>1</strong> of <strong>3</strong></div>
		<div class="copyright">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</div>
	</div>
</div>

</body>
</html>