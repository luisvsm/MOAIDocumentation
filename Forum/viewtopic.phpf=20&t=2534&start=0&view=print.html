<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta name="robots" content="noindex" />

<title>Moai Forum &bull; View topic - What is the easiest way to build for linux?</title>

<link href="styles/proFormell/theme/print.css" rel="stylesheet" type="text/css" />
<link type="image/vnd.microsoft.icon" rel="shortcut icon" href="styles/proFormell/theme/images/favicon.ico">
</head>

<body id="phpbb">
<div id="wrap">
	<a id="top" name="top" accesskey="t"></a>

	<div id="page-header">
		<h1>Moai Forum</h1>
		<p>The mobile platform for pro game developers<br /><a href="index.html">/forums/</a></p>

		<h2>What is the easiest way to build for linux?</h2>
		<p><a href="what-is-the-easiest-way-to-build-for-linux-t2534/index.html">/forums/what-is-the-easiest-way-to-build-for-linux-t2534/</a></p>
	</div>

	<div id="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
		
			<div class="post">
				<h3>What is the easiest way to build for linux?</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Mon Feb 24, 2014 1:46 am</strong></div>
				<div class="author">by <strong>ezraanderson</strong></div>
				<div class="content">~<br />1. What is the easiest way to build my heavily modified source code for Linux?<br />2. Can this be accomplished with windows?<br /><br />I do have Linux installed but I would prefer to stay in my comfort zone by using windows for as much as I can. I would like to stay with my 1.4p0 source code that's has been modified for my game, so its not really possible for me to start pulling other branches.</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: What is the easiest way to build for linux?</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Mon Feb 24, 2014 2:54 am</strong></div>
				<div class="author">by <strong>halfnelson</strong></div>
				<div class="content">I don't think you are going to be able to do this without using linux.  The linux build is setup with CMake. I can't remember what the state of the CMake build system is like in 1.4p0. But the cmake scripts aren't too hard to understand. Just ensure that each cmakelists.txt under the cmake folder have any extra files you have added recorded as source files. Then bin\build-linux_64 or whichever it happens to be</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: What is the easiest way to build for linux?</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Mon Feb 24, 2014 4:16 am</strong></div>
				<div class="author">by <strong>ezraanderson</strong></div>
				<div class="content">~<br /><blockquote class="uncited"><div>I can't remember what the state of the CMake build system is like in 1.4p0.</div></blockquote><br />Sadly there are no cmake scripts at all for 1.4p0.<br /><br /><blockquote class="uncited"><div>I don't think you are going to be able to do this without using linux. </div></blockquote><br /><br />I did a bunch of googleing about cross compiling to Linux and everybody has the same opinion it can be done but its not worth the effort if you can just uses Linux, which is fine I do have Linux experience and Ubuntu running on its own dedicated computer.<br /><br /><span style="font-weight: bold">I spent some time looking at moaiforge and the and MOAI development branch.</span><br />1. Are the pretty much the same?<br />2. Do they have the GC bug pulled in?<br /><ul><li> <!-- m --><a class="postlink" href="https://github.com/moai/moai-dev/tree/1.5-stable">https://github.com/moai/moai-dev/tree/1.5-stable</a><!-- m --></li><li> <!-- m --><a class="postlink" href="https://github.com/moaiforge/moai-sdk/tree/1.5-stable">https://github.com/moaiforge/moai-sdk/tree/1.5-stable</a><!-- m --></li></ul><br />I might have to move my code up or make my own cmake scripts, neither seems very appealing <img src="images/smilies/icon_e_sad.gif" alt=":(" title="Sad" /></div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: What is the easiest way to build for linux?</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Mon Feb 24, 2014 4:36 am</strong></div>
				<div class="author">by <strong>halfnelson</strong></div>
				<div class="content">they are pretty much the same as of a day or two ago. For cmake scripts that work with 1.4 checkout the 1.4-stable branch on moaiforge. This was 1.4p0 + cmake stuff but without api breaking gc mods stuff. Also, do you have a github with your version. If your mods are limited to a host, or to new modules, then 1.5 should be able to build them in without a massive merge using the plugin and custom host infrastructure. I can help split them up for you if they would benefit the community.</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: What is the easiest way to build for linux?</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Mon Feb 24, 2014 5:23 am</strong></div>
				<div class="author">by <strong>ezraanderson</strong></div>
				<div class="content">~<br /><blockquote class="uncited"><div> 1.4-stable branch on moaiforge.</div></blockquote><br /><br />Cool, that's what I will try.<br /><br /><blockquote class="uncited"><div>Do you have a github with your version</div></blockquote><br /><br />Nope, Its high on my priority list though to be more efficient with github.<br /><br /><blockquote class="uncited"><div>If your mods are limited to a host, or to new modules,</div></blockquote><br /><br />Nope and Nope, Its mostly edits in MOAICore, MOAISim, BOX2d, UNTZ, LUAJIT and my own SDL Host. This is where github would be very useful in tracking and updating my project.<br /><br /><br />Thanks for the help:)</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: What is the easiest way to build for linux?</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sat Mar 22, 2014 10:53 pm</strong></div>
				<div class="author">by <strong>molul</strong></div>
				<div class="content">I think I'll continue this thread, as my question is the same as the OP <img src="images/smilies/icon_e_smile.gif" alt=":)" title="Smile" /> <br /><br />I've tried the following:<br /><br />-Downloaded moai-dev git repo.<br />-Did &quot;git checkout 1.4-stable&quot; to switch the the 1.4 branch.<br />-cd cmake<br />-cmake .<br />-make<br /><br />That's more or less what I've seen in many places. However, I don't know what to do next. I don't have a &quot;build&quot; folder with Moai binaries. Actually, I don't think there's any binary anywhere. What am I missing?</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: What is the easiest way to build for linux?</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sun Mar 23, 2014 4:08 am</strong></div>
				<div class="author">by <strong>halfnelson</strong></div>
				<div class="content">it should be checkout 1.4-stable<br />then ./bin/build-linux_x64 from the repository root<br />this creates the build folder under the cmake folder<br />and launches the build with all the required settings.<br /><br />if you don't run the shell script above, i am really not sure what it will end up doing or where it will put the binaries. probably under cmake/host-glut or cmake/host-sdl</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: What is the easiest way to build for linux?</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sun Mar 23, 2014 12:26 pm</strong></div>
				<div class="author">by <strong>molul</strong></div>
				<div class="content">Thanks for the reply. I tried that and got the error &quot;package sdl not found&quot;. However, if I try to get libsdl through apt-get install, it says I already have it :-/</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: What is the easiest way to build for linux?</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sun Mar 23, 2014 4:36 pm</strong></div>
				<div class="author">by <strong>ibisum</strong></div>
				<div class="content">You need all the *-dev packages, not just libsdl, but also libsdl-dev and so on.  <br /><br />For me, with all libs already onboard, I simply run bin/build-linux_x64 and find the binaries thus:<br /><br /><dl class="codebox"><dt>Code: <a href="viewtopic.php%3Ff=20&amp;t=2534&amp;start=0&amp;view=print.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">ibisum-linux-box:~/hak/moai/moai-dev <span class="br0">&#123;</span><span class="br0">&#40;</span><span style="">1.5</span>-development<span class="br0">&#41;</span><span class="br0">&#125;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">$ ls -l !$</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">ls -l release/linux/x64/bin/</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">total <span style="">10284</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">-rwxrwxr-x <span style="">1</span> w1x w1x <span style="">10513043</span> Mar <span style="">23</span> <span style="">12</span>:<span style="">59</span> moai</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">ibisum-linux-box:~/hak/moai/moai-dev <span class="br0">&#123;</span><span class="br0">&#40;</span><span style="">1.5</span>-development<span class="br0">&#41;</span><span class="br0">&#125;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /></ol></code></dd></dl><br /><br />.. this is a working binary.  Though, in my case, I cannot for the life of me get MoaiHttpTask configured onboard, dunno what this is all about .. flags are all set to TRUE, but yet: no Task object ..</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: What is the easiest way to build for linux?</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sun Mar 23, 2014 9:38 pm</strong></div>
				<div class="author">by <strong>halfnelson</strong></div>
				<div class="content">@molul : I have a short guide for compiling on android here <a href="https://github.com/moaiforge/moai-sdk/wiki/Linux-build-(ubuntu-13.10)" class="postlink">https://github.com/moaiforge/moai-sdk/wiki/Linux-build-(ubuntu-13.10)</a><br /><br />@ibisum : <a href="https://github.com/moai/moai-dev/pull/842" class="postlink">https://github.com/moai/moai-dev/pull/842</a> should have fixed the linux build wrt http-task. If this is not the case, could you please open an issue?</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: What is the easiest way to build for linux?</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Thu Mar 27, 2014 7:10 pm</strong></div>
				<div class="author">by <strong>molul</strong></div>
				<div class="content">Thanks! I'll take a look at it this weekend <img src="images/smilies/icon_e_smile.gif" alt=":)" title="Smile" /><br /><br />EDIT: I tried what the guide says and I get an error: &quot;error: pathspec 'cmake-development-stable' did not match any file(s)&quot;. But, as I actually needed 1.4-stable branch, I moved to that branch and did the rest and it worked! The bad news is that when running my game, I get an error nearly the beginning: <br /><br />&quot;MOAILuaObject.cpp:493: void MOAILuaObject::PushRefTable(MOAILuaState&amp;): Assertion 'this-&gt;mMemberTable' failed<br /><br />Aborted ('core' generated)&quot;<br /><br />It's weird, because I though the same code would work on the same MOAI version. I don't know if it might be due to running Ubuntu in Virtual Box, so this weekend I'll try installing Ubuntu in another partition to see if it fixes the problem. <br /><br />Thanks a lot for the help, ibisum. At least I could move forward <img src="images/smilies/icon_e_smile.gif" alt=":)" title="Smile" /></div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: What is the easiest way to build for linux?</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Wed Apr 09, 2014 6:53 pm</strong></div>
				<div class="author">by <strong>molul</strong></div>
				<div class="content">I just tried building in a &quot;real&quot; Ubuntu (not in Virtual Box) and it works perfectly. Thank you again! <img src="images/smilies/icon_e_biggrin.gif" alt=":D" title="Very Happy" /></div>
			</div>
			<hr />
		
	</div>

	<div id="page-footer">
		<div class="page-number">All times are UTC <br />Page <strong>1</strong> of <strong>1</strong></div>
		<div class="copyright">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</div>
	</div>
</div>

</body>
</html>