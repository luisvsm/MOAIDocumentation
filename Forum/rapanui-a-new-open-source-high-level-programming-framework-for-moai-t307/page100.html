<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>Moai Forum | The mobile platform for pro game developers &bull; View topic - RapaNui: a new, open-source, high-level programming framework for Moai</title>

<link rel="alternate" type="application/atom+xml" title="Feed - Moai Forum | The mobile platform for pro game developers" href="../feed.php.html" /><link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="../feed.php%3Fmode=forums.html" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="../feed.php%3Fmode=topics.html" /><link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="../feed.php%3Fmode=topics_active.html" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - Made With Moai" href="../feed.php%3Ff=6.html" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - RapaNui: a new, open-source, high-level programming framework for Moai" href="../feed.php%3Ff=6&amp;t=307.html" />

<!--
	phpBB style name: proFormell
	Based on style:   prosilver (this is the default phpBB3 style)
	Inspired by:	  Formell (Joomla Style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:  	  Marc Alexander
	
	NOTE: This page was generated by phpBB, the free open-source bulletin board package.
	      The phpBB Group is not responsible for the content of this page and forum. For more information
	      about phpBB please visit http://www.phpbb.com
-->

<script type="text/javascript">
// <![CDATA[
	var jump_page = 'Enter the page number you wish to go to:';
	var on_page = '6';
	var per_page = '20';
	var base_url = '/forums/rapanui-a-new-open-source-high-level-programming-framework-for-moai-t307/';
	var style_cookie = 'phpBBstyle';
	var style_cookie_settings = '; path=/';
	var onload_functions = new Array();
	var onunload_functions = new Array();
	var is_ie6 = false;

	/**
	* Find a member
	*/
	function find_username(url)
	{
		popup(url, 760, 570, '_usersearch');
		return false;
	}

	/**
	* New function for handling multiple calls to window.onload and window.unload by pentapenguin
	*/
	window.onload = function()
	{
		for (var i = 0; i < onload_functions.length; i++)
		{
			eval(onload_functions[i]);
		}
	}

	window.onunload = function()
	{
		for (var i = 0; i < onunload_functions.length; i++)
		{
			eval(onunload_functions[i]);
		}
	}

// ]]>
</script>
<!--[if lt IE 7]>
<script type="text/javascript">
// <![CDATA[
var is_ie6 = true;
// ]]>
</script>
<![endif]-->


<link href="../styles/proFormell/theme/print.css" rel="stylesheet" type="text/css" media="print" title="printonly" />

<link href="../style.css" rel="stylesheet" type="text/css" media="screen, projection" />



<link href="../styles/proFormell/theme/images/favicon.ico" rel="shortcut icon" />

<script type="text/javascript" src="../styles/prosilver/template/forum_fn.js"></script>
<script src="../styles/prosilver/template/jquery-1.4.4.min.js" type="text/javascript"></script>

<script type="text/javascript">
// <![CDATA[
/**
* New pop-up functions
* based on  http://yensdesign.com/2008/09/how-to-create-a-stunning-and-smooth-popup-using-jquery/
*/

//SETTING UP OUR POPUP
//0 means disabled; 1 means enabled;
var popupStatus = 0;
var openPopup = '';

//loading popup with jQuery magic!
function loadPopup()
{
	//loads popup only if it is disabled
	if(popupStatus==0)
	{
		$('#backgroundPopup').css({'opacity': '0.7'});
		// Now let's make sure we actually see the image
		var scroll = $(window).scrollTop();
		$('#popupPM').animate({marginTop: scroll}, 'fast', function() {
			// Animation complete.
			});
		$('#backgroundPopup').fadeIn('slow');
		$('#popupPM').fadeIn('slow');
		popupStatus = 1;
		openPopup = 'PM';
	}
}

//disabling popup with jQuery magic!
function disablePopup()
{
	//disables popup only if it is enabled
	if(popupStatus==1 && openPopup == 'PM')
	{
		$('#backgroundPopup').fadeOut('slow');
		$('#popupPM').fadeOut('slow');
		popupStatus = 0;
		openPopup = '';
	}
}

//centering popup
function centerPopup()
{
	//request data for centering
	var windowWidth = document.documentElement.clientWidth;
	var windowHeight = document.documentElement.clientHeight;
	var popupHeight = $('#popupPM').height();
	var popupWidth = $('#popupPM').width();
	//centering
	$('#popupPM').css({
	'position': 'absolute',
	'top': windowHeight/2-popupHeight/2,
	'left': windowWidth/2-popupWidth/2
	});
	//only need force for IE6
	$('#backgroundPopup').css({'height': windowHeight});
}

$(document).ready(function(){
	
	resize_images();
	
	
	// IE6 and below PNG fix (not really)
	if(is_ie6)
	{
		replace_png();
	}
	
	//CLOSING POPUP
	//Click the x event!
	$('#popupPMClose').click(function(){
		disablePopup();
	});
	//Click out event!
	$('#backgroundPopup').click(function(){
		disablePopup();
		disableImage();
	});
	//Press Escape event!
	$(document).keypress(function(e){
		if(e.keyCode==27 && popupStatus==1)
		{
			disablePopup();
			disableImage();
		}
	});
	
	
	// Image popup
	$('img', 'dt.attach-image').click(function(){
		image_load($(this).attr('src'), $(this).attr('alt'));
		centerImage();
	});
	
	$('.content img').click(function(){
		var check = $(this).parent().hasClass('content');
		if(check)
		{
			image_load($(this).attr('src'), $(this).attr('alt'));
			centerImage();
		}
	});
	
	// Closing Image popup
	//Click the x event!
	$('#popupImageClose').click(function(){
		disableImage();
	});
	
	//Click image box event
	$('#popupImage').click(function(){
		disableImage();
	});
	
	//Click image event
	$('#ImagePopup img').click(function(){
		disableImage();
	});
	

});

/**
* Replaces weird looking PNG files with the respectie GIF file
* Only run this if the browser is IE6 or below
*/
function replace_png()
{
	// Fix Logo
	var str = $('#logo img').attr('src'); 
	$('#logo img').attr('src', str.substring(0, str.length - 3) + 'gif');
	
	// Fix forum icons
	$('dl.icon').each(function() {
		var str = $(this).css('background-image');
		if(str != '')
		{
			$(this).css('background-image', str.substring(0, str.length - 5) + 'gif")');
		}
	});
}


/**
* Image resizer
*/
function resize_images()
{
	var hello = $('dl.attachbox dd dl.file dt.attach-image img').innerWidth();
	var maxWidth = $('div.content').innerWidth() - 30;
	
	// resize the attached images
	$('img', 'dt.attach-image').each(function(i){
		// check the width of the image
		if ($(this).width() > maxWidth)
		{
			// calculate new image dimensions
			newWidth = maxWidth;
			newHeight = $(this).height() / ( $(this).width() / maxWidth );
			   
			// set new image dimensions
			$(this).height(newHeight).width(newWidth);
		}
	});
	
	// resize the images that were added via [img] bbcode
	$('img', 'div.content').each(function(i){
		// check the width of the image
		$(this).css('max-width', maxWidth); // fix for IE
		if ($(this).width() > maxWidth)
		{
			// calculate new image dimensions
			newWidth = maxWidth;
			newHeight = $(this).height() / ( $(this).width() / maxWidth );
			   
			// set new image dimensions
			$(this).height(newHeight).width(newWidth);
		}
	});
}

/**
* Image pop-up
*/
function image_load(src, alt)
{
	//loads popup only if it is disabled
	if(popupStatus==0)
	{
		$('#ImagePopup').html('<img id="imgpopup" src="http://192.168.20.226:3000/forums/rapanui-a-new-open-source-high-level-programming-framework-for-moai-t307/'&#32;+&#32;src&#32;+&#32;'" alt="' + alt + '" />');
		var windowWidth = document.documentElement.clientWidth;
		var windowHeight = document.documentElement.clientHeight;
		var maxWidth = windowWidth * 0.85;
		var maxHeight = windowHeight * 0.85;
		$('#popupImage img').css('max-width', maxWidth);
		$('#popupImage img').css('max-height', maxHeight);
		$('#backgroundPopup').css({'opacity': '0.7'});
		// Now let's make sure we actually see the image
		var scroll = $(window).scrollTop();
		$('#popupImage').animate({marginTop: scroll}, 'fast', function() {
			// Animation complete.
			});
		$('#backgroundPopup').fadeIn('slow');
		$('#popupImage').fadeIn('slow');
		popupStatus = 1;
		openPopup = 'Image';
	}
}

//centering popup
function centerImage()
{
	//request data for centering
	var windowWidth = document.documentElement.clientWidth;
	var windowHeight = document.documentElement.clientHeight;
	var popupHeight = $('#popupImage').height();
	var popupWidth = $('#popupImage').width();
	var newTop = windowHeight/2-popupHeight/2;
	var newLeft = windowWidth/2-popupWidth/2;
	//centering
	$('#popupImage').css({
	'position': 'absolute',
	'top': newTop,
	'left': newLeft
	});
	
	//only need force for IE6
	$('#backgroundPopup').css({'height': windowHeight});
}

//disabling popup with jQuery magic!
function disableImage()
{
	//disables popup only if it is enabled
	if(popupStatus==1 && openPopup == 'Image')
	{
		$('#backgroundPopup').fadeOut('slow');
		$('#popupImage').fadeOut('slow');
		popupStatus = 0;
		openPopup = '';
	}
}


// ]]>
</script>

</head>

<body id="phpbb" class="section-viewtopic ltr">
<!--- box border START -->
<div id="box">

<div class="top-left"></div><div class="top-center"></div><div class="top-right"></div>
<div id="left-border">
<div id="right-border">


<!--- box border END -->
<div class="inside">
 <div class="notopgap">
<div id="wrap">
	<a id="top" name="top" accesskey="t"></a>
	<div id="page-header">
		<div class="headerbar">
			<div class="inner"><!-- <span class="corners-top"><span></span></span> -->
			<div style="height: 140px ;">
			<div id="site-description">
				<div class="header-pad"><a href="http://getmoai.com" title="" id="logo"><img src="../styles/proFormell/imageset/site-logo.png" width="410" height="98" alt="" title="" /></a></div>
			
		<!--		<p class="site-desc">The mobile platform for pro game developers</p> -->
				<p class="skiplink"><a href="page100.html#start_here">Skip to content</a></p>
			</div>

		
    </div>

			<span class="corners-bottom"><span></span></span></div>
		</div>

		<div class="navbar">
			<div class="inner"><span class="corners-top"><span></span></span>

			<ul class="linklist navlinks">
				<li class="icon-home"><a href="../index.html" accesskey="h">Board index</a>  <strong>&#8249;</strong> <a href="../moai-community-forums.html">Moai Community Forums</a> <strong>&#8249;</strong> <a href="../made-with-moai.html">Made With Moai</a></li>

				<li class="rightside"><a href="page100.html#" onclick="fontsizeup(); return false;" onkeypress="return fontsizeup(event);" class="fontsize" title="Change font size">Change font size</a></li>

				<li class="rightside"><a href="../memberlist.php%3Fmode=email&amp;t=307.html" title="E-mail friend" class="sendemail">E-mail friend</a></li><li class="rightside"><a href="http://192.168.20.226:3000/forums/viewtopic.php?f=6&amp;t=307&amp;start=100&amp;view=print" title="Print view" accesskey="p" class="print">Print view</a></li>
			</ul>

			

			<ul class="linklist rightside">
				<li class="icon-faq"><a href="../faq.php.html" title="Frequently Asked Questions">FAQ</a></li>
				
				
			</ul>

			<span class="corners-bottom"><span></span></span></div>
		</div>
	</div>

	<a name="start_here"></a>
	<div id="page-body">
		
<h2><a href="page100.html">RapaNui: a new, open-source, high-level programming framework for Moai</a></h2>
<!-- NOTE: remove the style="display: none" when you want to have the forum description on the topic body --><div style="display: none !important;">A place for developers to promote games they have created with Moai<br /></div>

<div class="topic-actions">

	<div class="buttons">
	
	</div>

	
		<div class="pagination">
			163 posts
			 &bull; <a href="page100.html#" onclick="jumpto(); return false;" title="Click to jump to page…">Page <strong>6</strong> of <strong>9</strong></a> &bull; <span><a href="index.html">1</a> ... <a href="page40.html">3</a><span class="page-sep">, </span><a href="page60.html">4</a><span class="page-sep">, </span><a href="page80.html">5</a><span class="page-sep">, </span><strong>6</strong><span class="page-sep">, </span><a href="page120.html">7</a><span class="page-sep">, </span><a href="page140.html">8</a><span class="page-sep">, </span><a href="page160.html">9</a></span>
		</div>
	

</div>
<div class="clear"></div>


	<div id="p4537" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 class="first"><a href="page100.html#p4537">Re: RapaNui: a new, open-source, high-level programming fram</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>mattfortunati</strong> &raquo; Wed Jun 13, 2012 7:39 am </p>

			

			<div class="content">Hi BlueByLiquid,<br /><br />the &quot;rapanuidev&quot; branch is the rc version of RapaNui and we are currently using it for our projects, so it's stable (with moai 1.0).<br />We are going to merge everything into the master and add a version 1.0 tag as soon as possible.<br />(we are adding last few features to it, then we'll merge).<br /><br />So, yes, it's the version you should use for your larger projects.<br />Have a nice day,<br /><br />Mattia</div>

			<div id="sig4537" class="signature">twitter: <!-- m --><a class="postlink" href="http://twitter.com/#!/mattiafortunati">http://twitter.com/#!/mattiafortunati</a><!-- m --><br />RapaNui: <!-- m --><a class="postlink" href="https://github.com/ymobe/rapanui">https://github.com/ymobe/rapanui</a><!-- m --><br />website: <!-- m --><a class="postlink" href="http://riordian.altervista.org">http://riordian.altervista.org</a><!-- m --></div>

		</div>

		
			<dl class="postprofile" id="profile4537">
			<dt>
				<img src="../download/file.php%253favatar%253d135_1327245004.png" width="100" height="100" alt="User avatar" /><br />
				<strong>mattfortunati</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 82</dd><dd><strong>Joined:</strong> Sat Apr 23, 2011 1:30 pm</dd>

		</dl>
	

		<div class="back2top"><a href="page100.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p4564" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page100.html#p4564">Re: RapaNui: a new, open-source, high-level programming fram</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>BlueByLiquid</strong> &raquo; Thu Jun 14, 2012 1:16 am </p>

			

			<div class="content">@mattfortunati, Great to hear.</div>

			

		</div>

		
			<dl class="postprofile" id="profile4564">
			<dt>
				<strong>BlueByLiquid</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 98</dd><dd><strong>Joined:</strong> Sat May 12, 2012 3:54 am</dd>

		</dl>
	

		<div class="back2top"><a href="page100.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p5446" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page100.html#p5446">Re: RapaNui: a new, open-source, high-level programming fram</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>ignisdeveloper</strong> &raquo; Sat Jul 21, 2012 5:32 am </p>

			

			<div class="content">First of all, let me say that Rapa Nui looks really awesome. I was able to get some very smooth looking scenes set up in very little time. I am struggling however to find the best way to do slightly more complicated things within a scene. <br /><br />For example, I have a scene with a large map that the user should be able to pan around in. It looks like RNListView and RNPageSwipe almost have the functionality that I need, so I tried to emulate some of the behavior. The tricky thing is figuring out the correct way to do this in the context of building a scene. <br /><br />How would you go about doing this?</div>

			

		</div>

		
			<dl class="postprofile" id="profile5446">
			<dt>
				<img src="http://192.168.20.226:3000/forums/download/file.php?avatar=1004_1342848079.png" width="78" height="84" alt="User avatar" /><br />
				<strong>ignisdeveloper</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 21</dd><dd><strong>Joined:</strong> Sat Jul 21, 2012 5:17 am</dd><dd><strong>Location:</strong> Austin, TX</dd>

		</dl>
	

		<div class="back2top"><a href="page100.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p5448" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page100.html#p5448">Re: RapaNui: a new, open-source, high-level programming fram</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>mattfortunati</strong> &raquo; Sat Jul 21, 2012 9:01 am </p>

			

			<div class="content">Hi ignisdeveloper,<br /><br />&gt;First of all, let me say that Rapa Nui looks really awesome. I was able to get some very smooth looking scenes set up in very &gt;little time.<br /><br />Great to hear!<br /><br />&gt;I have a scene with a large map that the user should be able to pan around in.<br /><br />To do this I will have the map stored in scene field,together with some temp values, like:<br /><dl class="codebox"><dt>Code: <a href="page100.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="lua" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">aScene<span style="color: #66cc66;">.</span>map<span style="color: #66cc66;">=</span>myMap</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">aScene<span style="color: #66cc66;">.</span>tempX<span style="color: #66cc66;">=</span><span style="color: #cc66cc;">0</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">aScene<span style="color: #66cc66;">.</span>tempY<span style="color: #66cc66;">=</span><span style="color: #cc66cc;">0</span></div></li><br /></ol></code></dd></dl><br />then a touch listener calling a scene internal method:<br /><dl class="codebox"><dt>Code: <a href="page100.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="lua" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">RNListeners<span style="color: #66cc66;">:</span>addEventListener<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;touch&quot;</span><span style="color: #66cc66;">,</span>aScene<span style="color: #66cc66;">.</span>touchListener<span style="color: #66cc66;">&#41;</span></div></li><br /></ol></code></dd></dl><br />and the method should change the Map coordinates<br /><dl class="codebox"><dt>Code: <a href="page100.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="lua" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">function</span> aScene<span style="color: #66cc66;">.</span>touchListener<span style="color: #66cc66;">&#40;</span>event<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">if</span> event<span style="color: #66cc66;">.</span>phase<span style="color: #66cc66;">==</span><span style="color: #ff6666;">&quot;began&quot;</span> <span style="color: #aa9900; font-weight: bold;">then</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">aScene<span style="color: #66cc66;">.</span>tempX<span style="color: #66cc66;">,</span>aScene<span style="color: #66cc66;">.</span>tempY<span style="color: #66cc66;">=</span> event<span style="color: #66cc66;">.</span>x<span style="color: #66cc66;">,</span>event<span style="color: #66cc66;">.</span>y</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">if</span> event<span style="color: #66cc66;">.</span>phase<span style="color: #66cc66;">==</span><span style="color: #ff6666;">&quot;moved&quot;</span> <span style="color: #aa9900; font-weight: bold;">then</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">local</span> deltaX<span style="color: #66cc66;">=</span> getDelta<span style="color: #66cc66;">&#40;</span>tempX<span style="color: #66cc66;">,</span>event<span style="color: #66cc66;">.</span>x<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">local</span> deltaY<span style="color: #66cc66;">=</span> getDelta<span style="color: #66cc66;">&#40;</span>tempY<span style="color: #66cc66;">,</span>event<span style="color: #66cc66;">.</span>y<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">aScene<span style="color: #66cc66;">.</span>map<span style="color: #66cc66;">.</span>x<span style="color: #66cc66;">=</span> aScene<span style="color: #66cc66;">.</span>map<span style="color: #66cc66;">.</span>x <span style="color: #66cc66;">-</span> deltaX</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">aScene<span style="color: #66cc66;">.</span>map<span style="color: #66cc66;">.</span>y<span style="color: #66cc66;">=</span> aScene<span style="color: #66cc66;">.</span>map<span style="color: #66cc66;">.</span>y <span style="color: #66cc66;">-</span> deltaY</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">tempX<span style="color: #66cc66;">,</span>tempY<span style="color: #66cc66;">=</span> event<span style="color: #66cc66;">.</span>x<span style="color: #66cc66;">,</span>event<span style="color: #66cc66;">.</span>y</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /></ol></code></dd></dl><br /><br />This way we can check touch delta and move the map according to this.<br />Obviously you need tempX and tempY variables set in the scene, too.<br />I have not tested this but this is the way we use to move things around, usually.<br /><br />Inserting complex code in a scene is quite simple if you see the scene as a class and you are a bit experienced in lua.<br /><br />I hope this may help you!<br /><br />Have a nice day,<br /><br />Mattia</div>

			
				<div class="notice">Last edited by mattfortunati on Sun Jul 22, 2012 2:20 am, edited 1 time in total.
					
				</div>
			<div id="sig5448" class="signature">twitter: <!-- m --><a class="postlink" href="http://twitter.com/#!/mattiafortunati">http://twitter.com/#!/mattiafortunati</a><!-- m --><br />RapaNui: <!-- m --><a class="postlink" href="https://github.com/ymobe/rapanui">https://github.com/ymobe/rapanui</a><!-- m --><br />website: <!-- m --><a class="postlink" href="http://riordian.altervista.org">http://riordian.altervista.org</a><!-- m --></div>

		</div>

		
			<dl class="postprofile" id="profile5448">
			<dt>
				<img src="../download/file.php%253favatar%253d135_1327245004.png" width="100" height="100" alt="User avatar" /><br />
				<strong>mattfortunati</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 82</dd><dd><strong>Joined:</strong> Sat Apr 23, 2011 1:30 pm</dd>

		</dl>
	

		<div class="back2top"><a href="page100.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p5461" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page100.html#p5461">Re: RapaNui: a new, open-source, high-level programming fram</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>ignisdeveloper</strong> &raquo; Sat Jul 21, 2012 8:46 pm </p>

			

			<div class="content">Do you put this code inside of aScene.onCreate()? And do I need to assign the parentGroup as sceneGroup?<br /><br />This is what I have so far.<br /><br /><dl class="codebox"><dt>Code: <a href="page100.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="lua" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #808080; font-style: italic;">--[[</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SCENES MUST HAVE </span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1)a sceneGroup where all instances are inserted</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2)onCreate function in which we create everything</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3)onEnd function in which we clean the instance</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #808080; font-style: italic;">]]</span> <span style="color: #808080; font-style: italic;">--</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">aScene <span style="color: #66cc66;">=</span> <span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">&#125;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">local</span> sceneGroup <span style="color: #66cc66;">=</span> RNGroup<span style="color: #66cc66;">:</span>new<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">aScene<span style="color: #66cc66;">.</span>map <span style="color: #66cc66;">=</span> RNFactory<span style="color: #66cc66;">.</span>createImage<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;assets/images/map/map_bg_01.jpg&quot;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">aScene<span style="color: #66cc66;">.</span>tempX <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">0</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">aScene<span style="color: #66cc66;">.</span>tempY <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">0</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">function</span> aScene<span style="color: #66cc66;">.</span>touchListener<span style="color: #66cc66;">&#40;</span>event<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; <span style="color: #0000aa;">print</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;Touch&quot;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; <span style="color: #aa9900; font-weight: bold;">if</span> event<span style="color: #66cc66;">.</span>phase<span style="color: #66cc66;">==</span><span style="color: #ff6666;">&quot;began&quot;</span> <span style="color: #aa9900; font-weight: bold;">then</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; aScene<span style="color: #66cc66;">.</span>tempX<span style="color: #66cc66;">,</span>aScene<span style="color: #66cc66;">.</span>tempY<span style="color: #66cc66;">=</span> event<span style="color: #66cc66;">.</span>x<span style="color: #66cc66;">,</span>event<span style="color: #66cc66;">.</span>y</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; <span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; <span style="color: #aa9900; font-weight: bold;">if</span> event<span style="color: #66cc66;">.</span>phase<span style="color: #66cc66;">==</span><span style="color: #ff6666;">&quot;moved&quot;</span> <span style="color: #aa9900; font-weight: bold;">then</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> deltaX<span style="color: #66cc66;">=</span> getDelta<span style="color: #66cc66;">&#40;</span>tempX<span style="color: #66cc66;">,</span>event<span style="color: #66cc66;">.</span>x<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> deltaY<span style="color: #66cc66;">=</span> getDelta<span style="color: #66cc66;">&#40;</span>tempY<span style="color: #66cc66;">,</span>event<span style="color: #66cc66;">.</span>y<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; aScene<span style="color: #66cc66;">.</span>map<span style="color: #66cc66;">.</span>x<span style="color: #66cc66;">=</span> aScene<span style="color: #66cc66;">.</span>map<span style="color: #66cc66;">.</span>x <span style="color: #66cc66;">-</span> deltaX</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; aScene<span style="color: #66cc66;">.</span>map<span style="color: #66cc66;">.</span>y<span style="color: #66cc66;">=</span> aScene<span style="color: #66cc66;">.</span>map<span style="color: #66cc66;">.</span>y <span style="color: #66cc66;">-</span> deltaY</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; tempX<span style="color: #66cc66;">,</span>tempY<span style="color: #66cc66;">=</span> event<span style="color: #66cc66;">.</span>x<span style="color: #66cc66;">,</span>event<span style="color: #66cc66;">.</span>y</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; <span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">RNListener<span style="color: #66cc66;">:</span>addEventListener<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;touch&quot;</span><span style="color: #66cc66;">,</span>aScene<span style="color: #66cc66;">.</span>touchListener<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #808080; font-style: italic;">--init Scene</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">function</span> aScene<span style="color: #66cc66;">.</span>onCreate<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> button1 <span style="color: #66cc66;">=</span> RNFactory<span style="color: #66cc66;">.</span>createAnim<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;assets/images/sceneButtons.png&quot;</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">128</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">64</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; button1<span style="color: #66cc66;">.</span>frame <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">1</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; button1<span style="color: #66cc66;">.</span>x <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">1024</span><span style="color: #66cc66;">;</span> button1<span style="color: #66cc66;">.</span>y <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">768</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; button1<span style="color: #66cc66;">:</span>setOnTouchDown<span style="color: #66cc66;">&#40;</span>button1Down<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; button1<span style="color: #66cc66;">:</span>setOnTouchUp<span style="color: #66cc66;">&#40;</span>button1Up<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; sceneGroup<span style="color: #66cc66;">:</span>insert<span style="color: #66cc66;">&#40;</span>button1<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; sceneGroup<span style="color: #66cc66;">:</span>bringToFront<span style="color: #66cc66;">&#40;</span>button1<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">return</span> sceneGroup</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">function</span> button1Down<span style="color: #66cc66;">&#40;</span>event<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; event<span style="color: #66cc66;">.</span>target<span style="color: #66cc66;">.</span>frame <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">2</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">function</span> button1Up<span style="color: #66cc66;">&#40;</span>event<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; event<span style="color: #66cc66;">.</span>target<span style="color: #66cc66;">.</span>frame <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">1</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; director<span style="color: #66cc66;">:</span>showScene<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;scenes/title_scene&quot;</span><span style="color: #66cc66;">,</span> <span style="color: #ff6666;">&quot;fade&quot;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">function</span> aScene<span style="color: #66cc66;">.</span>onEnd<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; sceneGroup<span style="color: #66cc66;">:</span><span style="color: #0000aa;">remove</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">return</span> aScene</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /></ol></code></dd></dl><br />This produces a runtime error:<br /><dl class="codebox"><dt>Code: <a href="page100.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">lua/scenes/map_scene.lua:<span style="">32</span>: attempt to index global 'RNListener' <span class="br0">&#40;</span>a nil value<span class="br0">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">stack traceback:</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; lua/scenes/map_scene.lua:<span style="">32</span> in main chunk</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &amp;#<span style="">91</span>;C&amp;#<span style="">93</span>; in function 'require'</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; rapanui/rapanui-sdk/RNDirector.lua:<span style="">81</span> in function 'showScene'</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; lua/scenes/title_scene.lua:<span style="">61</span> in function 'onTouchUpListener'</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; rapanui/rapanui-sdk/RNObject.lua:<span style="">1184</span> in function 'onEvent'</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; rapanui/rapanui-sdk/RNInputManager.lua:<span style="">400</span> in function 'onEvent'</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; rapanui/rapanui-sdk/RNInputManager.lua:<span style="">224</span> in function &lt;rapanui/rapanui-sdk/RNInputManager.lua:<span style="">215</span>&gt;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /></ol></code></dd></dl><br /><br />My attempts to move your code inside the onCreate function have not been too successful either.<br /><br />I come from a C++ background, so I'm still getting used to the Lua paradigms. Thanks for the help.</div>

			

		</div>

		
			<dl class="postprofile" id="profile5461">
			<dt>
				<img src="http://192.168.20.226:3000/forums/download/file.php?avatar=1004_1342848079.png" width="78" height="84" alt="User avatar" /><br />
				<strong>ignisdeveloper</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 21</dd><dd><strong>Joined:</strong> Sat Jul 21, 2012 5:17 am</dd><dd><strong>Location:</strong> Austin, TX</dd>

		</dl>
	

		<div class="back2top"><a href="page100.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p5462" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page100.html#p5462">Re: RapaNui: a new, open-source, high-level programming fram</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>mattfortunati</strong> &raquo; Sun Jul 22, 2012 2:29 am </p>

			

			<div class="content">Hi,<br /><br />sorry, that error is because I wrote<br />&quot;RNListener&quot; instead of &quot;RNListeners&quot;.<br />I've corrected it in my previous post's snippet.<br />The snippet in my previous post was not intended to be ready to use, because I did not tested it,sorry.<br /><br /><br /><br /><dl class="codebox"><dt>Code: <a href="page100.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="lua" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">aScene <span style="color: #66cc66;">=</span> <span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">&#125;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">local</span> sceneGroup <span style="color: #66cc66;">=</span> RNGroup<span style="color: #66cc66;">:</span>new<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">function</span> aScene<span style="color: #66cc66;">.</span>touchListener<span style="color: #66cc66;">&#40;</span>event<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; <span style="color: #0000aa;">print</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;Touch&quot;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; <span style="color: #aa9900; font-weight: bold;">if</span> event<span style="color: #66cc66;">.</span>phase<span style="color: #66cc66;">==</span><span style="color: #ff6666;">&quot;began&quot;</span> <span style="color: #aa9900; font-weight: bold;">then</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; aScene<span style="color: #66cc66;">.</span>tempX<span style="color: #66cc66;">,</span>aScene<span style="color: #66cc66;">.</span>tempY<span style="color: #66cc66;">=</span> event<span style="color: #66cc66;">.</span>x<span style="color: #66cc66;">,</span>event<span style="color: #66cc66;">.</span>y</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; <span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; <span style="color: #aa9900; font-weight: bold;">if</span> event<span style="color: #66cc66;">.</span>phase<span style="color: #66cc66;">==</span><span style="color: #ff6666;">&quot;moved&quot;</span> <span style="color: #aa9900; font-weight: bold;">then</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> deltaX<span style="color: #66cc66;">=</span> getDelta<span style="color: #66cc66;">&#40;</span>tempX<span style="color: #66cc66;">,</span>event<span style="color: #66cc66;">.</span>x<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> deltaY<span style="color: #66cc66;">=</span> getDelta<span style="color: #66cc66;">&#40;</span>tempY<span style="color: #66cc66;">,</span>event<span style="color: #66cc66;">.</span>y<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; aScene<span style="color: #66cc66;">.</span>map<span style="color: #66cc66;">.</span>x<span style="color: #66cc66;">=</span> aScene<span style="color: #66cc66;">.</span>map<span style="color: #66cc66;">.</span>x <span style="color: #66cc66;">-</span> deltaX</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; aScene<span style="color: #66cc66;">.</span>map<span style="color: #66cc66;">.</span>y<span style="color: #66cc66;">=</span> aScene<span style="color: #66cc66;">.</span>map<span style="color: #66cc66;">.</span>y <span style="color: #66cc66;">-</span> deltaY</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; tempX<span style="color: #66cc66;">,</span>tempY<span style="color: #66cc66;">=</span> event<span style="color: #66cc66;">.</span>x<span style="color: #66cc66;">,</span>event<span style="color: #66cc66;">.</span>y</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; <span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #808080; font-style: italic;">--init Scene</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">function</span> aScene<span style="color: #66cc66;">.</span>onCreate<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">aScene<span style="color: #66cc66;">.</span>map <span style="color: #66cc66;">=</span> RNFactory<span style="color: #66cc66;">.</span>createImage<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;assets/images/map/map_bg_01.jpg&quot;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">aScene<span style="color: #66cc66;">.</span>tempX <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">0</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">aScene<span style="color: #66cc66;">.</span>tempY <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">0</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">sceneGroup<span style="color: #66cc66;">:</span>insert<span style="color: #66cc66;">&#40;</span>aScene<span style="color: #66cc66;">.</span>map<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> button1 <span style="color: #66cc66;">=</span> RNFactory<span style="color: #66cc66;">.</span>createAnim<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;assets/images/sceneButtons.png&quot;</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">128</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">64</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; button1<span style="color: #66cc66;">.</span>frame <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">1</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; button1<span style="color: #66cc66;">.</span>x <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">1024</span><span style="color: #66cc66;">;</span> button1<span style="color: #66cc66;">.</span>y <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">768</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; button1<span style="color: #66cc66;">:</span>setOnTouchDown<span style="color: #66cc66;">&#40;</span>button1Down<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; button1<span style="color: #66cc66;">:</span>setOnTouchUp<span style="color: #66cc66;">&#40;</span>button1Up<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; sceneGroup<span style="color: #66cc66;">:</span>insert<span style="color: #66cc66;">&#40;</span>button1<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; sceneGroup<span style="color: #66cc66;">:</span>bringToFront<span style="color: #66cc66;">&#40;</span>button1<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">aScene<span style="color: #66cc66;">.</span>tListener<span style="color: #66cc66;">=</span>RNListeners<span style="color: #66cc66;">:</span>addEventListener<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;touch&quot;</span><span style="color: #66cc66;">,</span>aScene<span style="color: #66cc66;">.</span>touchListener<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">return</span> sceneGroup</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">function</span> button1Down<span style="color: #66cc66;">&#40;</span>event<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; event<span style="color: #66cc66;">.</span>target<span style="color: #66cc66;">.</span>frame <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">2</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">function</span> button1Up<span style="color: #66cc66;">&#40;</span>event<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; event<span style="color: #66cc66;">.</span>target<span style="color: #66cc66;">.</span>frame <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">1</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; director<span style="color: #66cc66;">:</span>showScene<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;scenes/title_scene&quot;</span><span style="color: #66cc66;">,</span> <span style="color: #ff6666;">&quot;fade&quot;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">function</span> aScene<span style="color: #66cc66;">.</span>onEnd<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; RNListeners<span style="color: #66cc66;">:</span>removeEventListener<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;touch&quot;</span><span style="color: #66cc66;">,</span> aScene<span style="color: #66cc66;">.</span>tListener<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; sceneGroup<span style="color: #66cc66;">:</span><span style="color: #0000aa;">remove</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">return</span> aScene</div></li><br /></ol></code></dd></dl><br /><br />I've changed something in your code other than the RNListeners signature:<br />I've inserted map in sceneGroup and set the listener during onCreate().<br />Also, listener is removed together with scene.<br /><br />I've not tested this neither, but touch function should be correctly called.<br />Let me know!<br /><br />Have a nice day,<br /><br />Mattia</div>

			<div id="sig5462" class="signature">twitter: <!-- m --><a class="postlink" href="http://twitter.com/#!/mattiafortunati">http://twitter.com/#!/mattiafortunati</a><!-- m --><br />RapaNui: <!-- m --><a class="postlink" href="https://github.com/ymobe/rapanui">https://github.com/ymobe/rapanui</a><!-- m --><br />website: <!-- m --><a class="postlink" href="http://riordian.altervista.org">http://riordian.altervista.org</a><!-- m --></div>

		</div>

		
			<dl class="postprofile" id="profile5462">
			<dt>
				<img src="../download/file.php%253favatar%253d135_1327245004.png" width="100" height="100" alt="User avatar" /><br />
				<strong>mattfortunati</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 82</dd><dd><strong>Joined:</strong> Sat Apr 23, 2011 1:30 pm</dd>

		</dl>
	

		<div class="back2top"><a href="page100.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p5463" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page100.html#p5463">Re: RapaNui: a new, open-source, high-level programming fram</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>ignisdeveloper</strong> &raquo; Sun Jul 22, 2012 4:29 am </p>

			

			<div class="content">Thanks a lot for the help with this. I've got basic functionality going now. The touch is way too sensitive at the moment, but I will try to look at your implementation of RNListView to get something smoother working. I do get one error which seems to stem from <dl class="codebox"><dt>Code: <a href="page100.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="lua" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">RNListeners<span style="color: #66cc66;">:</span>removeEventListener<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;touch&quot;</span><span style="color: #66cc66;">,</span> aScene<span style="color: #66cc66;">.</span>tListener<span style="color: #66cc66;">&#41;</span></div></li><br /></ol></code></dd></dl><br />I get the error:<br /><dl class="codebox"><dt>Code: <a href="page100.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">rapanui/rapanui-sdk/RNInputManager.lua:<span style="">157</span>: attempt to perform arithmetic on local 'id' <span class="br0">&#40;</span>a nil value<span class="br0">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">stack traceback:</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; rapanui/rapanui-sdk/RNInputManager.lua:<span style="">157</span> in function &lt;rapanui/rapanui-sdk/RNInputManager.lua:<span style="">151</span>&gt;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">&#40;</span>tail call<span class="br0">&#41;</span> ?</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; rapanui/rapanui-sdk/RNListeners.lua:<span style="">53</span> in function 'removeEventListener'</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; lua/scenes/map_scene.lua:<span style="">61</span> in function 'onEnd'</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; rapanui/rapanui-sdk/RNDirector.lua:<span style="">273</span> in function 'onComplete'</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; rapanui/rapanui-sdk/RNTransition.lua:<span style="">253</span> in function &lt;rapanui/rapanui-sdk/RNTransition.lua:<span style="">253</span>&gt;</div></li><br /></ol></code></dd></dl><br />The error seems to go away when I comment out this line, but I'm not sure if that is the correct recourse. It seems like we would want to remove the event listener when the scene is deleted.</div>

			

		</div>

		
			<dl class="postprofile" id="profile5463">
			<dt>
				<img src="http://192.168.20.226:3000/forums/download/file.php?avatar=1004_1342848079.png" width="78" height="84" alt="User avatar" /><br />
				<strong>ignisdeveloper</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 21</dd><dd><strong>Joined:</strong> Sat Jul 21, 2012 5:17 am</dd><dd><strong>Location:</strong> Austin, TX</dd>

		</dl>
	

		<div class="back2top"><a href="page100.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p5465" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page100.html#p5465">Re: RapaNui: a new, open-source, high-level programming fram</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>mattfortunati</strong> &raquo; Sun Jul 22, 2012 9:18 am </p>

			

			<div class="content">It seems like you are removing the a listener which does not exist any more, because you are passing the wrong id to the removeEventListener function, an id which no longer exists.<br /><br />So, maybe that listener removal is called more than one time while the listener creation is called once;<br />try to put a print after that line and see how many times it's printed.<br />If you put the listener removal into aScene.onEnd, the problem is: &quot;Who is changing the scene? When? How many times?&quot;.<br />If it is like a button, maybe this error occurs because you touch it two times (so onEnd is called two times) and so on.<br /><br />Before changing scene you should check if director is transitioning, like this:<br /><dl class="codebox"><dt>Code: <a href="page100.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="lua" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">function</span> aScene<span style="color: #66cc66;">.</span>eventChangingScene<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span> </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">if</span> director<span style="color: #66cc66;">:</span>isTransitioning<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">==</span><span style="color: #aa9900;">false</span> <span style="color: #aa9900; font-weight: bold;">then</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; director<span style="color: #66cc66;">:</span>changeScene<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;nextScene&quot;</span><span style="color: #66cc66;">,</span><span style="color: #ff6666;">&quot;myMode&quot;</span><span style="color: #66cc66;">&#41;</span> &nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /></ol></code></dd></dl><br /><br /><br />In this sample we correctly add and remove listeners dynamically. Maybe this can help you:<br /><!-- m --><a class="postlink" href="https://github.com/ymobe/rapanui/blob/rapanuidev/rapanui-samples/listeners/rn-listener-touch-remove.lua">https://github.com/ymobe/rapanui/blob/r ... remove.lua</a><!-- m --><br /><br />;D<br /><br />Mattia</div>

			<div id="sig5465" class="signature">twitter: <!-- m --><a class="postlink" href="http://twitter.com/#!/mattiafortunati">http://twitter.com/#!/mattiafortunati</a><!-- m --><br />RapaNui: <!-- m --><a class="postlink" href="https://github.com/ymobe/rapanui">https://github.com/ymobe/rapanui</a><!-- m --><br />website: <!-- m --><a class="postlink" href="http://riordian.altervista.org">http://riordian.altervista.org</a><!-- m --></div>

		</div>

		
			<dl class="postprofile" id="profile5465">
			<dt>
				<img src="../download/file.php%253favatar%253d135_1327245004.png" width="100" height="100" alt="User avatar" /><br />
				<strong>mattfortunati</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 82</dd><dd><strong>Joined:</strong> Sat Apr 23, 2011 1:30 pm</dd>

		</dl>
	

		<div class="back2top"><a href="page100.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p5529" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page100.html#p5529">Re: RapaNui: a new, open-source, high-level programming fram</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>ignisdeveloper</strong> &raquo; Wed Jul 25, 2012 11:26 pm </p>

			

			<div class="content">I figured out what was wrong. Apparently I needed to make the listener a member of sceneGroup rather than aScene. I've included the working code.<br /><dl class="codebox"><dt>Code: <a href="page100.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="lua" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #808080; font-style: italic;">--[[</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #808080; font-style: italic;">SCENES MUST HAVE </span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #808080; font-style: italic;">1)a sceneGroup where all instances are inserted</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #808080; font-style: italic;">2)onCreate function in which we create everything</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #808080; font-style: italic;">3)onEnd function in which we clean the instance</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #808080; font-style: italic;">]]</span> <span style="color: #808080; font-style: italic;">--</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">aScene <span style="color: #66cc66;">=</span> <span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">&#125;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">local</span> sceneGroup <span style="color: #66cc66;">=</span> RNGroup<span style="color: #66cc66;">:</span>new<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">function</span> sceneGroup<span style="color: #66cc66;">.</span>touchListener<span style="color: #66cc66;">&#40;</span>event<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; <span style="color: #aa9900; font-weight: bold;">if</span> event<span style="color: #66cc66;">.</span>phase<span style="color: #66cc66;">==</span><span style="color: #ff6666;">&quot;began&quot;</span> <span style="color: #aa9900; font-weight: bold;">then</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; sceneGroup<span style="color: #66cc66;">.</span>tempX<span style="color: #66cc66;">,</span> sceneGroup<span style="color: #66cc66;">.</span>tempY<span style="color: #66cc66;">=</span> event<span style="color: #66cc66;">.</span>x<span style="color: #66cc66;">,</span>event<span style="color: #66cc66;">.</span>y</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; <span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; <span style="color: #aa9900; font-weight: bold;">if</span> event<span style="color: #66cc66;">.</span>phase<span style="color: #66cc66;">==</span><span style="color: #ff6666;">&quot;moved&quot;</span> <span style="color: #aa9900; font-weight: bold;">then</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> deltaX <span style="color: #66cc66;">=</span> sceneGroup<span style="color: #66cc66;">.</span>tempX <span style="color: #66cc66;">-</span> event<span style="color: #66cc66;">.</span>x</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> deltaY <span style="color: #66cc66;">=</span> sceneGroup<span style="color: #66cc66;">.</span>tempY <span style="color: #66cc66;">-</span> event<span style="color: #66cc66;">.</span>y</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; sceneGroup<span style="color: #66cc66;">.</span>map<span style="color: #66cc66;">.</span>x<span style="color: #66cc66;">=</span> sceneGroup<span style="color: #66cc66;">.</span>map<span style="color: #66cc66;">.</span>x <span style="color: #66cc66;">-</span> <span style="color: #cc66cc;">.1</span><span style="color: #66cc66;">*</span>deltaX</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; sceneGroup<span style="color: #66cc66;">.</span>map<span style="color: #66cc66;">.</span>y<span style="color: #66cc66;">=</span> sceneGroup<span style="color: #66cc66;">.</span>map<span style="color: #66cc66;">.</span>y <span style="color: #66cc66;">-</span> <span style="color: #cc66cc;">.1</span><span style="color: #66cc66;">*</span>deltaY</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; tempX<span style="color: #66cc66;">,</span>tempY<span style="color: #66cc66;">=</span> event<span style="color: #66cc66;">.</span>x<span style="color: #66cc66;">,</span>event<span style="color: #66cc66;">.</span>y</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; <span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #808080; font-style: italic;">--init Scene</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">function</span> aScene<span style="color: #66cc66;">.</span>onCreate<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; sceneGroup<span style="color: #66cc66;">.</span>map <span style="color: #66cc66;">=</span> RNFactory<span style="color: #66cc66;">.</span>createImage<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;assets/images/map/map_bg_01.jpg&quot;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; sceneGroup<span style="color: #66cc66;">.</span>map<span style="color: #66cc66;">:</span>sendToBottom<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; sceneGroup<span style="color: #66cc66;">.</span>tempX <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">0</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; sceneGroup<span style="color: #66cc66;">.</span>tempY <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">0</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; sceneGroup<span style="color: #66cc66;">:</span>insert<span style="color: #66cc66;">&#40;</span>sceneGroup<span style="color: #66cc66;">.</span>map<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> button1 <span style="color: #66cc66;">=</span> RNFactory<span style="color: #66cc66;">.</span>createAnim<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;assets/images/sceneButtons.png&quot;</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">128</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">64</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; button1<span style="color: #66cc66;">.</span>frame <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">1</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; button1<span style="color: #66cc66;">.</span>x <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">1024</span><span style="color: #66cc66;">;</span> button1<span style="color: #66cc66;">.</span>y <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">768</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; button1<span style="color: #66cc66;">:</span>setOnTouchDown<span style="color: #66cc66;">&#40;</span>button1Down<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; button1<span style="color: #66cc66;">:</span>setOnTouchUp<span style="color: #66cc66;">&#40;</span>button1Up<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; sceneGroup<span style="color: #66cc66;">:</span>insert<span style="color: #66cc66;">&#40;</span>button1<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; sceneGroup<span style="color: #66cc66;">:</span>bringToFront<span style="color: #66cc66;">&#40;</span>button1<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; sceneGroup<span style="color: #66cc66;">.</span>touchID<span style="color: #66cc66;">=</span>RNListeners<span style="color: #66cc66;">:</span>addEventListener<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;touch&quot;</span><span style="color: #66cc66;">,</span> sceneGroup<span style="color: #66cc66;">.</span>touchListener<span style="color: #66cc66;">,</span> <span style="color: #ff6666;">&quot;mapListener&quot;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; <span style="color: #aa9900; font-weight: bold;">return</span> sceneGroup</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">function</span> button1Down<span style="color: #66cc66;">&#40;</span>event<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; event<span style="color: #66cc66;">.</span>target<span style="color: #66cc66;">.</span>frame <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">2</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">function</span> button1Up<span style="color: #66cc66;">&#40;</span>event<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; event<span style="color: #66cc66;">.</span>target<span style="color: #66cc66;">.</span>frame <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">1</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; <span style="color: #aa9900; font-weight: bold;">if</span> director<span style="color: #66cc66;">:</span>isTransitioning<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">==</span> <span style="color: #aa9900;">false</span> <span style="color: #aa9900; font-weight: bold;">then</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; director<span style="color: #66cc66;">:</span>showScene<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;scenes/title_scene&quot;</span><span style="color: #66cc66;">,</span> <span style="color: #ff6666;">&quot;fade&quot;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; <span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">function</span> aScene<span style="color: #66cc66;">.</span>onEnd<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; RNListeners<span style="color: #66cc66;">:</span>removeEventListener<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;touch&quot;</span><span style="color: #66cc66;">,</span> sceneGroup<span style="color: #66cc66;">.</span>touchID<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; sceneGroup<span style="color: #66cc66;">:</span><span style="color: #0000aa;">remove</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">return</span> aScene</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /></ol></code></dd></dl><br /><br />Thanks for all of the help.</div>

			

		</div>

		
			<dl class="postprofile" id="profile5529">
			<dt>
				<img src="http://192.168.20.226:3000/forums/download/file.php?avatar=1004_1342848079.png" width="78" height="84" alt="User avatar" /><br />
				<strong>ignisdeveloper</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 21</dd><dd><strong>Joined:</strong> Sat Jul 21, 2012 5:17 am</dd><dd><strong>Location:</strong> Austin, TX</dd>

		</dl>
	

		<div class="back2top"><a href="page100.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p5530" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page100.html#p5530">Re: RapaNui: a new, open-source, high-level programming fram</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>ignisdeveloper</strong> &raquo; Thu Jul 26, 2012 12:45 am </p>

			

			<div class="content">Thanks a lot for all of the help with the touch listeners in scenes. I've run into another issue which could either be a bug, or more likely, I am using things incorrectly. Instead of a fixed map image, I've created a map RNGroup that I then populate with several tiles and move them collectively. I also create a static button which does not move. I am trying to use the bringToFront() function to make sure the button stays on top of the tiles, but it doesn't really seem to be doing much. The button consistently stays above the first layer of tiles, but when I drag the map, the second layer covers up the button. I've attached my code.<br /><dl class="codebox"><dt>Code: <a href="page100.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="lua" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">aScene <span style="color: #66cc66;">=</span> <span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">&#125;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">local</span> sceneGroup <span style="color: #66cc66;">=</span> RNGroup<span style="color: #66cc66;">:</span>new<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">function</span> sceneGroup<span style="color: #66cc66;">.</span>touchListener<span style="color: #66cc66;">&#40;</span>event<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; <span style="color: #aa9900; font-weight: bold;">if</span> event<span style="color: #66cc66;">.</span>phase<span style="color: #66cc66;">==</span><span style="color: #ff6666;">&quot;began&quot;</span> <span style="color: #aa9900; font-weight: bold;">then</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; sceneGroup<span style="color: #66cc66;">.</span>tempX<span style="color: #66cc66;">,</span> sceneGroup<span style="color: #66cc66;">.</span>tempY<span style="color: #66cc66;">=</span> event<span style="color: #66cc66;">.</span>x<span style="color: #66cc66;">,</span>event<span style="color: #66cc66;">.</span>y</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; <span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; <span style="color: #aa9900; font-weight: bold;">if</span> event<span style="color: #66cc66;">.</span>phase<span style="color: #66cc66;">==</span><span style="color: #ff6666;">&quot;moved&quot;</span> <span style="color: #aa9900; font-weight: bold;">then</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> deltaX <span style="color: #66cc66;">=</span> sceneGroup<span style="color: #66cc66;">.</span>tempX <span style="color: #66cc66;">-</span> event<span style="color: #66cc66;">.</span>x</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> deltaY <span style="color: #66cc66;">=</span> sceneGroup<span style="color: #66cc66;">.</span>tempY <span style="color: #66cc66;">-</span> event<span style="color: #66cc66;">.</span>y</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; sceneGroup<span style="color: #66cc66;">.</span>map<span style="color: #66cc66;">.</span>x<span style="color: #66cc66;">=</span> sceneGroup<span style="color: #66cc66;">.</span>map<span style="color: #66cc66;">.</span>x <span style="color: #66cc66;">-</span> <span style="color: #cc66cc;">.05</span><span style="color: #66cc66;">*</span>deltaX</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; sceneGroup<span style="color: #66cc66;">.</span>map<span style="color: #66cc66;">.</span>y<span style="color: #66cc66;">=</span> sceneGroup<span style="color: #66cc66;">.</span>map<span style="color: #66cc66;">.</span>y <span style="color: #66cc66;">-</span> <span style="color: #cc66cc;">.05</span><span style="color: #66cc66;">*</span>deltaY</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; tempX<span style="color: #66cc66;">,</span>tempY<span style="color: #66cc66;">=</span> event<span style="color: #66cc66;">.</span>x<span style="color: #66cc66;">,</span>event<span style="color: #66cc66;">.</span>y</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; <span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #808080; font-style: italic;">--init Scene</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">function</span> aScene<span style="color: #66cc66;">.</span>onCreate<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; sceneGroup<span style="color: #66cc66;">.</span>map <span style="color: #66cc66;">=</span> RNGroup<span style="color: #66cc66;">:</span>new<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> tile1 <span style="color: #66cc66;">=</span> RNFactory<span style="color: #66cc66;">.</span>createImage<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;assets/images/map/map_bg_01.jpg&quot;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; tile1<span style="color: #66cc66;">.</span>x <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">0</span><span style="color: #66cc66;">;</span> tile1<span style="color: #66cc66;">.</span>y <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">0</span><span style="color: #66cc66;">;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> tile2 <span style="color: #66cc66;">=</span> RNFactory<span style="color: #66cc66;">.</span>createImage<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;assets/images/map/map_bg_02.jpg&quot;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; tile2<span style="color: #66cc66;">.</span>x <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">1024</span><span style="color: #66cc66;">;</span> tile2<span style="color: #66cc66;">.</span>y <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">0</span><span style="color: #66cc66;">;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> tile3 <span style="color: #66cc66;">=</span> RNFactory<span style="color: #66cc66;">.</span>createImage<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;assets/images/map/map_bg_03.jpg&quot;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; tile3<span style="color: #66cc66;">.</span>x <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">2048</span><span style="color: #66cc66;">;</span> tile3<span style="color: #66cc66;">.</span>y <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">0</span><span style="color: #66cc66;">;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> tile4 <span style="color: #66cc66;">=</span> RNFactory<span style="color: #66cc66;">.</span>createImage<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;assets/images/map/map_bg_04.jpg&quot;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; tile4<span style="color: #66cc66;">.</span>x <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">0</span><span style="color: #66cc66;">;</span> tile4<span style="color: #66cc66;">.</span>y <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">768</span><span style="color: #66cc66;">;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> tile5 <span style="color: #66cc66;">=</span> RNFactory<span style="color: #66cc66;">.</span>createImage<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;assets/images/map/map_bg_05.jpg&quot;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; tile5<span style="color: #66cc66;">.</span>x <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">1024</span><span style="color: #66cc66;">;</span> tile5<span style="color: #66cc66;">.</span>y <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">768</span><span style="color: #66cc66;">;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> tile6 <span style="color: #66cc66;">=</span> RNFactory<span style="color: #66cc66;">.</span>createImage<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;assets/images/map/map_bg_06.jpg&quot;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; tile6<span style="color: #66cc66;">.</span>x <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">2048</span><span style="color: #66cc66;">;</span> tile6<span style="color: #66cc66;">.</span>y <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">768</span><span style="color: #66cc66;">;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; sceneGroup<span style="color: #66cc66;">.</span>map<span style="color: #66cc66;">:</span>insert<span style="color: #66cc66;">&#40;</span>tile1<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; sceneGroup<span style="color: #66cc66;">.</span>map<span style="color: #66cc66;">:</span>insert<span style="color: #66cc66;">&#40;</span>tile2<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; sceneGroup<span style="color: #66cc66;">.</span>map<span style="color: #66cc66;">:</span>insert<span style="color: #66cc66;">&#40;</span>tile3<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; sceneGroup<span style="color: #66cc66;">.</span>map<span style="color: #66cc66;">:</span>insert<span style="color: #66cc66;">&#40;</span>tile4<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; sceneGroup<span style="color: #66cc66;">.</span>map<span style="color: #66cc66;">:</span>insert<span style="color: #66cc66;">&#40;</span>tile5<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; sceneGroup<span style="color: #66cc66;">.</span>map<span style="color: #66cc66;">:</span>insert<span style="color: #66cc66;">&#40;</span>tile6<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; sceneGroup<span style="color: #66cc66;">.</span>map<span style="color: #66cc66;">.</span>x <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">512</span><span style="color: #66cc66;">;</span> sceneGroup<span style="color: #66cc66;">.</span>map<span style="color: #66cc66;">.</span>y <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">384</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; sceneGroup<span style="color: #66cc66;">.</span>tempX <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">0</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; sceneGroup<span style="color: #66cc66;">.</span>tempY <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">0</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; sceneGroup<span style="color: #66cc66;">:</span>insert<span style="color: #66cc66;">&#40;</span>sceneGroup<span style="color: #66cc66;">.</span>map<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> button1 <span style="color: #66cc66;">=</span> RNFactory<span style="color: #66cc66;">.</span>createAnim<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;assets/images/sceneButtons.png&quot;</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">128</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">64</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; button1<span style="color: #66cc66;">.</span>frame <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">1</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; button1<span style="color: #66cc66;">.</span>x <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">1024</span><span style="color: #66cc66;">;</span> button1<span style="color: #66cc66;">.</span>y <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">768</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; button1<span style="color: #66cc66;">:</span>setOnTouchDown<span style="color: #66cc66;">&#40;</span>button1Down<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; button1<span style="color: #66cc66;">:</span>setOnTouchUp<span style="color: #66cc66;">&#40;</span>button1Up<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; sceneGroup<span style="color: #66cc66;">:</span>insert<span style="color: #66cc66;">&#40;</span>button1<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; button1<span style="color: #66cc66;">:</span>bringToFront<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; <span style="color: #808080; font-style: italic;">--sceneGroup:bringToFront(button1)</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; sceneGroup<span style="color: #66cc66;">.</span>touchID<span style="color: #66cc66;">=</span>RNListeners<span style="color: #66cc66;">:</span>addEventListener<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;touch&quot;</span><span style="color: #66cc66;">,</span> sceneGroup<span style="color: #66cc66;">.</span>touchListener<span style="color: #66cc66;">,</span> <span style="color: #ff6666;">&quot;mapListener&quot;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; <span style="color: #aa9900; font-weight: bold;">return</span> sceneGroup</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">function</span> button1Down<span style="color: #66cc66;">&#40;</span>event<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; event<span style="color: #66cc66;">.</span>target<span style="color: #66cc66;">.</span>frame <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">2</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">function</span> button1Up<span style="color: #66cc66;">&#40;</span>event<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; event<span style="color: #66cc66;">.</span>target<span style="color: #66cc66;">.</span>frame <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">1</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; <span style="color: #aa9900; font-weight: bold;">if</span> director<span style="color: #66cc66;">:</span>isTransitioning<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">==</span> <span style="color: #aa9900;">false</span> <span style="color: #aa9900; font-weight: bold;">then</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; director<span style="color: #66cc66;">:</span>showScene<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;scenes/title_scene&quot;</span><span style="color: #66cc66;">,</span> <span style="color: #ff6666;">&quot;fade&quot;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; <span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">function</span> aScene<span style="color: #66cc66;">.</span>onEnd<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; RNListeners<span style="color: #66cc66;">:</span>removeEventListener<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;touch&quot;</span><span style="color: #66cc66;">,</span> sceneGroup<span style="color: #66cc66;">.</span>touchID<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; sceneGroup<span style="color: #66cc66;">:</span><span style="color: #0000aa;">remove</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">return</span> aScene</div></li><br /></ol></code></dd></dl><br /><br />Does anything look obviously wrong with this?</div>

			

		</div>

		
			<dl class="postprofile" id="profile5530">
			<dt>
				<img src="http://192.168.20.226:3000/forums/download/file.php?avatar=1004_1342848079.png" width="78" height="84" alt="User avatar" /><br />
				<strong>ignisdeveloper</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 21</dd><dd><strong>Joined:</strong> Sat Jul 21, 2012 5:17 am</dd><dd><strong>Location:</strong> Austin, TX</dd>

		</dl>
	

		<div class="back2top"><a href="page100.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p5537" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page100.html#p5537">Re: RapaNui: a new, open-source, high-level programming fram</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>mattfortunati</strong> &raquo; Thu Jul 26, 2012 7:50 am </p>

			

			<div class="content">Hi,<br />I'm happy you fixed most of your problems and you are getting friendly with RapaNui ;D<br /><br />&gt;Does anything look obviously wrong with this?<br />Mh.<br />It's because RNButtons don't have bringToTop() method.<br />It's not your fault, it's just because RapaNui has a lack of documentation. We are sorry for this, we will bring docs out as soon as possible.<br /><br />If you want to bring your button to the top you can use:<br /><dl class="codebox"><dt>Code: <a href="page100.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="lua" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">button1<span style="color: #66cc66;">:</span>setLevel<span style="color: #66cc66;">&#40;</span>value<span style="color: #66cc66;">&#41;</span></div></li><br /></ol></code></dd></dl><br />This will set button1's drawing priority to &quot;value&quot;. Objects with higher priorities are drawn to the top of objects with lower priorities.<br /><dl class="codebox"><dt>Code: <a href="page100.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="lua" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">button1<span style="color: #66cc66;">:</span>setLevel<span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">99999</span><span style="color: #66cc66;">&#41;</span></div></li><br /></ol></code></dd></dl><br />Will keep your button to the top of 99999 other instances.<br /><br />NOTE: when an objects is inserted into a RNGroup, its priority is reset by group. Also you can use <dl class="codebox"><dt>Code: <a href="page100.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="lua" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">RNGroup<span style="color: #66cc66;">:</span>flattern<span style="color: #66cc66;">&#40;</span>value<span style="color: #66cc66;">&#41;</span></div></li><br /></ol></code></dd></dl> to set priority of all objects in that group to &quot;value&quot;. (This way objects in the same group priorities are set following object addition to group.)<br /><br />I hope this can solve your problem ;D<br />Let me know!<br /><br />Have a nice day,<br /><br />Mattia</div>

			<div id="sig5537" class="signature">twitter: <!-- m --><a class="postlink" href="http://twitter.com/#!/mattiafortunati">http://twitter.com/#!/mattiafortunati</a><!-- m --><br />RapaNui: <!-- m --><a class="postlink" href="https://github.com/ymobe/rapanui">https://github.com/ymobe/rapanui</a><!-- m --><br />website: <!-- m --><a class="postlink" href="http://riordian.altervista.org">http://riordian.altervista.org</a><!-- m --></div>

		</div>

		
			<dl class="postprofile" id="profile5537">
			<dt>
				<img src="../download/file.php%253favatar%253d135_1327245004.png" width="100" height="100" alt="User avatar" /><br />
				<strong>mattfortunati</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 82</dd><dd><strong>Joined:</strong> Sat Apr 23, 2011 1:30 pm</dd>

		</dl>
	

		<div class="back2top"><a href="page100.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p5574" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page100.html#p5574">Re: RapaNui: a new, open-source, high-level programming fram</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>ignisdeveloper</strong> &raquo; Fri Jul 27, 2012 5:09 am </p>

			

			<div class="content">That did the trick for me. I just had to make sure I set all layer stuff at the very end, after inserting all my groups and stuff.<br /><br />Thanks for all of the incredible help.</div>

			

		</div>

		
			<dl class="postprofile" id="profile5574">
			<dt>
				<img src="http://192.168.20.226:3000/forums/download/file.php?avatar=1004_1342848079.png" width="78" height="84" alt="User avatar" /><br />
				<strong>ignisdeveloper</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 21</dd><dd><strong>Joined:</strong> Sat Jul 21, 2012 5:17 am</dd><dd><strong>Location:</strong> Austin, TX</dd>

		</dl>
	

		<div class="back2top"><a href="page100.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p5582" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page100.html#p5582">Re: RapaNui: a new, open-source, high-level programming fram</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>mattfortunati</strong> &raquo; Fri Jul 27, 2012 8:48 am </p>

			

			<div class="content">You are welcome!<br />Let me know for any great game you are developing!</div>

			<div id="sig5582" class="signature">twitter: <!-- m --><a class="postlink" href="http://twitter.com/#!/mattiafortunati">http://twitter.com/#!/mattiafortunati</a><!-- m --><br />RapaNui: <!-- m --><a class="postlink" href="https://github.com/ymobe/rapanui">https://github.com/ymobe/rapanui</a><!-- m --><br />website: <!-- m --><a class="postlink" href="http://riordian.altervista.org">http://riordian.altervista.org</a><!-- m --></div>

		</div>

		
			<dl class="postprofile" id="profile5582">
			<dt>
				<img src="../download/file.php%253favatar%253d135_1327245004.png" width="100" height="100" alt="User avatar" /><br />
				<strong>mattfortunati</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 82</dd><dd><strong>Joined:</strong> Sat Apr 23, 2011 1:30 pm</dd>

		</dl>
	

		<div class="back2top"><a href="page100.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p5857" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page100.html#p5857">Re: RapaNui: a new, open-source, high-level programming fram</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>Sergeyka</strong> &raquo; Thu Aug 09, 2012 9:53 am </p>

			

			<div class="content">Mattia, which version of Moai is better to use for rapanui-dev? 1.2 build 56, last snapshot 1.2 (Build 72) or .. ?<br />thanks.</div>

			<div id="sig5857" class="signature">Sometimes I use google translate. For example now =)</div>

		</div>

		
			<dl class="postprofile" id="profile5857">
			<dt>
				<strong>Sergeyka</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 31</dd><dd><strong>Joined:</strong> Mon Feb 13, 2012 7:51 pm</dd><dd><strong>Location:</strong> Russia</dd>

		</dl>
	

		<div class="back2top"><a href="page100.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p5858" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page100.html#p5858">Re: RapaNui: a new, open-source, high-level programming fram</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>mattfortunati</strong> &raquo; Thu Aug 09, 2012 10:08 am </p>

			

			<div class="content">Hi Sergeyka,<br /><br />For our internal projects we use Moai v.1.2 build 35.<br />At the moment RapaNui (master and rapanuidev branch) is developed using that build of Moai, I've not tested further Moai releases or builds.<br /><br />Have a nice day,<br /><br />Mattia</div>

			<div id="sig5858" class="signature">twitter: <!-- m --><a class="postlink" href="http://twitter.com/#!/mattiafortunati">http://twitter.com/#!/mattiafortunati</a><!-- m --><br />RapaNui: <!-- m --><a class="postlink" href="https://github.com/ymobe/rapanui">https://github.com/ymobe/rapanui</a><!-- m --><br />website: <!-- m --><a class="postlink" href="http://riordian.altervista.org">http://riordian.altervista.org</a><!-- m --></div>

		</div>

		
			<dl class="postprofile" id="profile5858">
			<dt>
				<img src="../download/file.php%253favatar%253d135_1327245004.png" width="100" height="100" alt="User avatar" /><br />
				<strong>mattfortunati</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 82</dd><dd><strong>Joined:</strong> Sat Apr 23, 2011 1:30 pm</dd>

		</dl>
	

		<div class="back2top"><a href="page100.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p5864" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page100.html#p5864">Re: RapaNui: a new, open-source, high-level programming fram</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>Sergeyka</strong> &raquo; Fri Aug 10, 2012 1:54 am </p>

			

			<div class="content">Hi Mattia,<br /><br />Does RapaNui work with emulator moai.exe(1.2 Build 35), now?<br />I'm get the error:<br /><dl class="codebox"><dt>Code: <a href="page100.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="text" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">E:\MyMoai\TarTest&gt;d:\moai-sdk\bin\win32\moai.exe &nbsp;&quot;d:\MyMoai\TarTest\config.lua&quot; &quot;E:\MyMoai\TarTest\main.lua &quot;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">E:\MyMoai\TarTest\main.lua :2: module 'rapanui-sdk/rapanui' not found:</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; no field package.preload['rapanui-sdk/rapanui']</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; no file 'C:\Program Files\Lua\5.1\lua\rapanui-sdk/rapanui.luac'</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; no file '.\rapanui-sdk/rapanui.dll'</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; no file 'd:\moai-sdk\bin\win32\rapanui-sdk/rapanui.dll'</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; no file 'd:\moai-sdk\bin\win32\loadall.dll'</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">stack traceback:</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; [C] in function 'require'</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; E:\MyMoai\TarTest\main.lua :2 in main chunk</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /></ol></code></dd></dl><br /><br />had all worked with other versions. The folder rapanui-sdk is present in project.<br />Who is to blame and what to do? <img src="../images/smilies/icon_e_smile.gif" alt=":)" title="Smile" /></div>

			<div id="sig5864" class="signature">Sometimes I use google translate. For example now =)</div>

		</div>

		
			<dl class="postprofile" id="profile5864">
			<dt>
				<strong>Sergeyka</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 31</dd><dd><strong>Joined:</strong> Mon Feb 13, 2012 7:51 pm</dd><dd><strong>Location:</strong> Russia</dd>

		</dl>
	

		<div class="back2top"><a href="page100.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p5865" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page100.html#p5865">Re: RapaNui: a new, open-source, high-level programming fram</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>ibisum</strong> &raquo; Fri Aug 10, 2012 5:58 am </p>

			

			<div class="content">Change all paths in your 'require' and 'module' statements from using the / character, to .. using the \ character.  Since you are on Windows, welcome to this miserable problem ..</div>

			<div id="sig5865" class="signature">;<br />--<br /><!-- e --><a href="mailto:ibisum@gmail.com">ibisum@gmail.com</a><!-- e -->  <br />Got a MOAI snippet?  Please consider adding it to <a href="http://moaisnippets.info" class="postlink">http://moaisnippets.info</a></div>

		</div>

		
			<dl class="postprofile" id="profile5865">
			<dt>
				<img src="../download/file.php%253favatar%253d262_1340630942.png" width="120" height="90" alt="User avatar" /><br />
				<strong>ibisum</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 560</dd><dd><strong>Joined:</strong> Mon Oct 17, 2011 8:11 am</dd><dd><strong>Location:</strong> Vienna, Austria</dd>

		</dl>
	

		<div class="back2top"><a href="page100.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p5868" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page100.html#p5868">Re: RapaNui: a new, open-source, high-level programming fram</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>Sergeyka</strong> &raquo; Fri Aug 10, 2012 6:49 am </p>

			

			<div class="content">ibisum, earlier all worked... Revolution in the moai again?) <br />May be a problem with my system.. Where to find a old versions of Moai? I will to test..<br /><br />p.s. Changed the path in main.lua and all files of folder rapanui-sdk. Dont work.</div>

			<div id="sig5868" class="signature">Sometimes I use google translate. For example now =)</div>

		</div>

		
			<dl class="postprofile" id="profile5868">
			<dt>
				<strong>Sergeyka</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 31</dd><dd><strong>Joined:</strong> Mon Feb 13, 2012 7:51 pm</dd><dd><strong>Location:</strong> Russia</dd>

		</dl>
	

		<div class="back2top"><a href="page100.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p5874" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page100.html#p5874">Re: RapaNui: a new, open-source, high-level programming fram</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>mattfortunati</strong> &raquo; Fri Aug 10, 2012 11:04 am </p>

			

			<div class="content">Hi Sergeyka,<br /><br />&gt;Does RapaNui work with emulator moai.exe(1.2 Build 35), now?<br />I've tested it again right now, and it seems there isn't any problem. Everything is working fine for me.<br /><br />&gt;Change all paths in your 'require' and 'module' statements from using the / character, to .. using the \ character. Since you are &gt;on Windows, welcome to this miserable problem ..<br />Yes, you are right Ibisium, this will for sure solve some problems <img src="../images/smilies/icon_e_biggrin.gif" alt=":D" title="Very Happy" /> maybe not this one but further ones.<br /><br />Clearly Moai is checking for something it cannot find, but I don't know why it's searching for &quot;rapanui.dll&quot; or &quot;rapanui.luac&quot;.<br />Try to download again Moai v1.2 build 35 from here:<br /><!-- m --><a class="postlink" href="https://github.com/moai/moai-dev/tags">https://github.com/moai/moai-dev/tags</a><!-- m --><br />and setup again a RapaNui project. Everything is working for me.<br /><br />Have a nice day,<br /><br />Mattia</div>

			<div id="sig5874" class="signature">twitter: <!-- m --><a class="postlink" href="http://twitter.com/#!/mattiafortunati">http://twitter.com/#!/mattiafortunati</a><!-- m --><br />RapaNui: <!-- m --><a class="postlink" href="https://github.com/ymobe/rapanui">https://github.com/ymobe/rapanui</a><!-- m --><br />website: <!-- m --><a class="postlink" href="http://riordian.altervista.org">http://riordian.altervista.org</a><!-- m --></div>

		</div>

		
			<dl class="postprofile" id="profile5874">
			<dt>
				<img src="../download/file.php%253favatar%253d135_1327245004.png" width="100" height="100" alt="User avatar" /><br />
				<strong>mattfortunati</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 82</dd><dd><strong>Joined:</strong> Sat Apr 23, 2011 1:30 pm</dd>

		</dl>
	

		<div class="back2top"><a href="page100.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p5875" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page100.html#p5875">Re: RapaNui: a new, open-source, high-level programming fram</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>Sergeyka</strong> &raquo; Fri Aug 10, 2012 11:29 am </p>

			

			<div class="content">Thanks for reply, Mattia and ibisum. I recovered (Handy Recovery is good software) from harddisk the old version 1.0 and 0.9 beta - same error.<br /><br />Problem  was in Lua for Windows. I'm reinstalled lua and all ok now =)</div>

			
				<div class="notice">Last edited by Sergeyka on Fri Aug 10, 2012 11:34 am, edited 1 time in total.
					
				</div>
			<div id="sig5875" class="signature">Sometimes I use google translate. For example now =)</div>

		</div>

		
			<dl class="postprofile" id="profile5875">
			<dt>
				<strong>Sergeyka</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 31</dd><dd><strong>Joined:</strong> Mon Feb 13, 2012 7:51 pm</dd><dd><strong>Location:</strong> Russia</dd>

		</dl>
	

		<div class="back2top"><a href="page100.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<form id="viewtopic" method="post" action="page100.html">

	<fieldset class="display-options" style="margin-top: 0; ">
		<a href="page80.html" class="left-box left">Previous</a><a href="page120.html" class="right-box right">Next</a>
	</fieldset>

	</form>
	<hr />


<div class="topic-actions">
	<div class="buttons">
	
	</div>

	
		<div class="pagination">
			163 posts
			 &bull; <a href="page100.html#" onclick="jumpto(); return false;" title="Click to jump to page…">Page <strong>6</strong> of <strong>9</strong></a> &bull; <span><a href="index.html">1</a> ... <a href="page40.html">3</a><span class="page-sep">, </span><a href="page60.html">4</a><span class="page-sep">, </span><a href="page80.html">5</a><span class="page-sep">, </span><strong>6</strong><span class="page-sep">, </span><a href="page120.html">7</a><span class="page-sep">, </span><a href="page140.html">8</a><span class="page-sep">, </span><a href="page160.html">9</a></span>
		</div>
	
</div>


	<p></p><p><a href="../made-with-moai.html" class="left-box left" accesskey="r">Return to Made With Moai</a></p>

	<form method="post" id="jumpbox" action="http://192.168.20.226:3000/forums/viewforum.php" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	
		<fieldset class="jumpbox">
	
			<label for="f" accesskey="j">Jump to:</label>
			<select name="f" id="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">
			
				<option value="-1">Select a forum</option>
			<option value="-1">------------------</option>
				<option value="4">Moai Development Forums</option>
			
				<option value="7">&nbsp; &nbsp;Moai SDK Developer Support</option>
			
				<option value="8">&nbsp; &nbsp;Moai Cloud Developer Support</option>
			
				<option value="9">&nbsp; &nbsp;New Users</option>
			
				<option value="10">&nbsp; &nbsp;Bug Reports</option>
			
				<option value="3">Moai Community Forums</option>
			
				<option value="5">&nbsp; &nbsp;Moai Roadmap</option>
			
				<option value="6" selected="selected">&nbsp; &nbsp;Made With Moai</option>
			
			</select>
			<input type="submit" value="Go" class="button2" />
		</fieldset>
	</form>


	<h3>Who is online</h3>
	<p>Users browsing this forum: No registered users and 0 guests</p>
</div>

<div id="page-footer">

	<div class="navbar">
		<div class="inner"><span class="corners-top"><span></span></span>

		<ul class="linklist">
			<li class="icon-home"><a href="../index.html" accesskey="h">Board index</a></li>
				
			<li class="rightside">All times are UTC </li>
		</ul>

		<span class="corners-bottom"><span></span></span></div>
	</div>
	
	<div class="copyright">Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group<br />Style by <a href="http://www.m-a-styles.de">Marc Alexander</a> &copy;
		<br /><br /><a href="http://www.phpbb-seo.com/" title="Search Engine Optimization"><img src="../images/phpbb-seo.png" alt="phpBB SEO"/></a><br />Time : 0.126s | 11 Queries | GZIP : Off
	</div>
</div>

</div>

<div>
	<a id="bottom" name="bottom" accesskey="z"></a>
	
	</div>
	</div>
<div class="nobottomgap"></div>
</div>
<!--- end of box border -->
</div></div>
<!-- -->
<div class="bottom-left"></div><div class="bottom-center"></div><div class="bottom-right"></div>
</div>
<!-- JQuery Pop Up --><!-- PM Popup --><!-- PM Popup end --><!-- Image Popup -->
<div id="popupImage">
	<p id="ImagePopup"></p>
	<a id="popupImageClose">x</a> 
</div>
<!-- Image Popup -->
<div id="backgroundPopup"></div> 
<!-- JQuery Pop Up END -->
</body>
</html>