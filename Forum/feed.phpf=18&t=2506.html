<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://192.168.20.226:3000/forums/feed.php?f=18&amp;t=2506&amp;mode" />

<title>Moai Forum</title>
<subtitle>The mobile platform for pro game developers</subtitle>
<link href="http://192.168.20.226:3000/forums/index.php" />
<updated>2014-08-01T15:56:26+00:00</updated>

<author><name><![CDATA[Moai Forum]]></name></author>
<id>/forums/feed.php?f=18&amp;t=2506&amp;mode</id>
<entry>
<author><name><![CDATA[Vavius]]></name></author>
<updated>2014-08-01T15:56:26+00:00</updated>
<published>2014-08-01T15:56:26+00:00</published>
<id>/forums/viewtopic.php?t=2506&amp;p=15019#p15019</id>
<link href="http://192.168.20.226:3000/forums/viewtopic.php?t=2506&amp;p=15019#p15019"/>
<title type="html"><![CDATA[Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=2506&amp;p=15019#p15019"><![CDATA[
Is third-party/luajit/luajit_ios.sh always run from Xcode? <br />If so, it can be improved by using all environment settings from Xcode. The needed ones are: <br />SDK_ROOT<br />IPHONEOS_DEPLOYMENT_TARGET<br />ARCHS<p>Statistics: Posted by <a href="http://192.168.20.226:3000/forums/memberlist.php?mode=viewprofile&amp;u=1427">Vavius</a> — Fri Aug 01, 2014 3:56 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[vladpalos]]></name></author>
<updated>2014-06-12T05:56:35+00:00</updated>
<published>2014-06-12T05:56:35+00:00</published>
<id>/forums/viewtopic.php?t=2506&amp;p=14775#p14775</id>
<link href="http://192.168.20.226:3000/forums/viewtopic.php?t=2506&amp;p=14775#p14775"/>
<title type="html"><![CDATA[Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=2506&amp;p=14775#p14775"><![CDATA[
Thank you @JDance and @halfnelson,<br /><br />The problem still was the case-sensitive partition stuff.<br />I've found out that I had another partition formatted without the case-sensitive option, so I cloned again the moai repo and it compiled without any problems.<br /><br />Hope this helps!<p>Statistics: Posted by <a href="http://192.168.20.226:3000/forums/memberlist.php?mode=viewprofile&amp;u=1137">vladpalos</a> — Thu Jun 12, 2014 5:56 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[ezraanderson]]></name></author>
<updated>2014-06-10T18:31:35+00:00</updated>
<published>2014-06-10T18:31:35+00:00</published>
<id>/forums/viewtopic.php?t=2506&amp;p=14763#p14763</id>
<link href="http://192.168.20.226:3000/forums/viewtopic.php?t=2506&amp;p=14763#p14763"/>
<title type="html"><![CDATA[Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=2506&amp;p=14763#p14763"><![CDATA[
~<br /><blockquote class="uncited"><div><br />./build-ios.sh -release<br /></div></blockquote><br /><br />Yes, I tried this ./build-ios.sh -release, I also tried manually  setting &quot;-DCMAKE_BUILD_TYPE=&quot; in the script, also tried many other variations,  I am guessing &quot;xcodebuild&quot; just ignores it. <br /><br /><blockquote class="uncited"><div><br />minimum platform target to ios 7<br /></div></blockquote><br /><br />Even with a &quot;debug build&quot; you will see &quot;miphoneos-version-min=7.0&quot; in the console output  but because no optimization is taken place you will have no errors when lower your deployment target via-xcode-ide and loading  the code to the device. But with optimizing it appears to optimize by the deployment target.<br /><br /><blockquote class="uncited"><div><br />-configuration Release<br /></div></blockquote><br /><br />If you look at the &quot;build.sh&quot; scripts in the 1.4p0 xcode-ios project they use &quot;-configuration $config&quot;<br /><dl class="codebox"><dt>Code: </dt><dd><code style="line-height: 30%;"><ol class="text" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">xcodebuild -configuration $config -workspace /Volumes/moai-sdk/moai-dev-Version-1.4p0/moai-dev-Version-1.4p0/xcode/ios/MoaiSample.xcodeproj/project.xcworkspace -scheme moai -sdk iphoneos build CONFIGURATION_BUILD_DIR=/Users/ezra/Desktop/SAMPLE/$job/ios/$config </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /></ol></code></dd></dl><br /><br />When its building you should see the optimization level In the console output. <br /><dl class="codebox"><dt>Code: </dt><dd><code style="line-height: 30%;"><ol class="text" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">Relase: &quot;-O3&quot;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">Debug: &quot;-O0&quot;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /></ol></code></dd></dl><br /><br />A helpful hint for passing build flags into &quot;xcodebuild&quot; is to open up &quot;project.pbxproj&quot; from an xcode-workspace, and find the value you want to pass to xcodebuild.<br /><dl class="codebox"><dt>Code: </dt><dd><code style="line-height: 30%;"><ol class="text" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">PRODUCT_NAME=moai;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /></ol></code></dd></dl><p>Statistics: Posted by <a href="http://192.168.20.226:3000/forums/memberlist.php?mode=viewprofile&amp;u=1202">ezraanderson</a> — Tue Jun 10, 2014 6:31 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[JDance]]></name></author>
<updated>2014-06-10T08:10:41+00:00</updated>
<published>2014-06-10T08:10:41+00:00</published>
<id>/forums/viewtopic.php?t=2506&amp;p=14751#p14751</id>
<link href="http://192.168.20.226:3000/forums/viewtopic.php?t=2506&amp;p=14751#p14751"/>
<title type="html"><![CDATA[Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=2506&amp;p=14751#p14751"><![CDATA[
Sounds interesting! Did you run <span style="font-weight: bold">./build-ios.sh -release</span> before trying this out? Why would <span style="font-weight: bold">--configuration Release</span> change minimum platform target to ios 7 ?<p>Statistics: Posted by <a href="http://192.168.20.226:3000/forums/memberlist.php?mode=viewprofile&amp;u=1128">JDance</a> — Tue Jun 10, 2014 8:10 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[ezraanderson]]></name></author>
<updated>2014-06-10T02:31:12+00:00</updated>
<published>2014-06-10T02:31:12+00:00</published>
<id>/forums/viewtopic.php?t=2506&amp;p=14749#p14749</id>
<link href="http://192.168.20.226:3000/forums/viewtopic.php?t=2506&amp;p=14749#p14749"/>
<title type="html"><![CDATA[Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=2506&amp;p=14749#p14749"><![CDATA[
~<br />This is my finial xcodebuild command.  Adding &quot;GCC_FAST_MATH=YES LLVM_VECTORIZE_LOOPS=YES&quot; gave me 5 fps more on my C++ loops &amp; logic. <br /><br /><dl class="codebox"><dt>Code: </dt><dd><code style="line-height: 30%;"><ol class="lua" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">xcodebuild <span style="color: #66cc66;">-</span>target moai <span style="color: #66cc66;">-</span>sdk $<span style="color: #66cc66;">&#123;</span>SDK<span style="color: #66cc66;">&#125;</span> <span style="color: #66cc66;">-</span>arch $<span style="color: #66cc66;">&#123;</span>ARCH<span style="color: #66cc66;">&#125;</span> <span style="color: #66cc66;">-</span>configuration Release IPHONEOS_DEPLOYMENT_TARGET<span style="color: #66cc66;">=</span><span style="color: #ff6666;">'6.1'</span> GCC_FAST_MATH<span style="color: #66cc66;">=</span>YES LLVM_VECTORIZE_LOOPS<span style="color: #66cc66;">=</span>YES<span style="color: #66cc66;">;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /></ol></code></dd></dl><br /><br />However, Sqlite wouldn't build with fast-math, and facebook requires sqlite.<br /><br />My biggest bottleneck now for iOS is just drawing pixels.<p>Statistics: Posted by <a href="http://192.168.20.226:3000/forums/memberlist.php?mode=viewprofile&amp;u=1202">ezraanderson</a> — Tue Jun 10, 2014 2:31 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[ezraanderson]]></name></author>
<updated>2014-06-09T20:00:26+00:00</updated>
<published>2014-06-09T20:00:26+00:00</published>
<id>/forums/viewtopic.php?t=2506&amp;p=14747#p14747</id>
<link href="http://192.168.20.226:3000/forums/viewtopic.php?t=2506&amp;p=14747#p14747"/>
<title type="html"><![CDATA[Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=2506&amp;p=14747#p14747"><![CDATA[
@Jdance &amp; Everyone.<br /><br />When using &quot;build-ios.sh&quot; it outputs debug library's which are not optimized. So you are going to want to make release library's with:<br /><ul><li> <!-- m --><a class="postlink" href="https://github.com/moai/moai-dev/blob/master/bin/build-ios.sh">https://github.com/moai/moai-dev/blob/m ... ild-ios.sh</a><!-- m --></li></ul><dl class="codebox"><dt>Code: </dt><dd><code style="line-height: 30%;"><ol class="text" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">line 212: xcodebuild -target moai -sdk ${SDK} -arch ${ARCH} -configuration Release IPHONEOS_DEPLOYMENT_TARGET='6.1'</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /></ol></code></dd></dl><br /><br />If your targeting lower deployment, lowering the &quot;IPHONEOS_DEPLOYMENT_TARGET&quot;  is necessary step to avoid special optimization from &quot;miphoneos-version-min=7.0&quot; . Error from mismatched optimization and deployment targets:<br /><ul><li> <!-- m --><a class="postlink" href="http://stackoverflow.com/questions/19015780/sincos-stret-undefined-symbol-when-linking">http://stackoverflow.com/questions/1901 ... en-linking</a><!-- m --></li></ul><dl class="codebox"><dt>Code: </dt><dd><code style="line-height: 30%;"><ol class="text" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">dyld: lazy symbol binding failed, ___sincos_stret </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /></ol></code></dd></dl><br /><br />However, lua-jit now fails to build when lowering the &quot;IPHONEOS_DEPLOYMENT_TARGET&quot;<br /><dl class="codebox"><dt>Code: </dt><dd><code style="line-height: 30%;"><ol class="text" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">./lj_def.h:45:10: fatal error: 'string.h' file not found</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /></ol></code></dd></dl><br /><br /><br /><span style="font-weight: bold">edit:</span> I got lua-jit to build by dropping in the 6.1.sdk for Device &amp; Simulator. This appeared to make lua-jit build 4 times(as a fat lib).<br /><ul><li> Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS6.1.sdk</li><li> Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator6.1.sdk</li></ul><br />I am a little concerned this will break app-submission.<br /><br /><span style="font-weight: bold">edit:</span> I think the appropriate fix is probably in one of these files:<br /><ul><li>third-party/luajit/CMakeLists.txt --&gt; <!-- m --><a class="postlink" href="https://github.com/moai/moai-dev/blob/master/cmake/third-party/luajit/CMakeLists.txt">https://github.com/moai/moai-dev/blob/m ... eLists.txt</a><!-- m --></li><li>third-party/luajit/luajit_ios.sh --&gt; <!-- m --><a class="postlink" href="https://github.com/moai/moai-dev/blob/master/cmake/third-party/luajit/luajit_ios.sh">https://github.com/moai/moai-dev/blob/m ... jit_ios.sh</a><!-- m --></li></ul><br /><span style="font-weight: bold">Conclusion: </span><br />Release libs --&gt; C++ logic &amp; loops are easily twice as fast.<br />Lua-jit --&gt; Calls between lua and C are twice as fast, all lua stuff seems twice as fast.<br />Results --&gt; If your bottleneck is in logic &amp; loops, running lua-jit &amp; release binary's appear to be essential.<p>Statistics: Posted by <a href="http://192.168.20.226:3000/forums/memberlist.php?mode=viewprofile&amp;u=1202">ezraanderson</a> — Mon Jun 09, 2014 8:00 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[halfnelson]]></name></author>
<updated>2014-06-03T21:54:37+00:00</updated>
<published>2014-06-03T21:54:37+00:00</published>
<id>/forums/viewtopic.php?t=2506&amp;p=14709#p14709</id>
<link href="http://192.168.20.226:3000/forums/viewtopic.php?t=2506&amp;p=14709#p14709"/>
<title type="html"><![CDATA[Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=2506&amp;p=14709#p14709"><![CDATA[
@vlad, if you were using the project generated by create-projects-ios.sh then having it cancel partway through a build can happen if it detects a change to one of the cmakelists.txt. Just rebuild again and it should go fine.<p>Statistics: Posted by <a href="http://192.168.20.226:3000/forums/memberlist.php?mode=viewprofile&amp;u=943">halfnelson</a> — Tue Jun 03, 2014 9:54 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[JDance]]></name></author>
<updated>2014-06-03T17:59:50+00:00</updated>
<published>2014-06-03T17:59:50+00:00</published>
<id>/forums/viewtopic.php?t=2506&amp;p=14708#p14708</id>
<link href="http://192.168.20.226:3000/forums/viewtopic.php?t=2506&amp;p=14708#p14708"/>
<title type="html"><![CDATA[Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=2506&amp;p=14708#p14708"><![CDATA[
@vlad check the compile log, pure text version. Otherwise its some xcode thing so --&gt; stackoverflow <img src="/forums/images/smilies/icon_e_smile.gif" alt=":)" title="Smile" /><p>Statistics: Posted by <a href="/forums/memberlist.php?mode=viewprofile&amp;u=1128">JDance</a> — Tue Jun 03, 2014 5:59 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[vladpalos]]></name></author>
<updated>2014-06-03T17:21:20+00:00</updated>
<published>2014-06-03T17:21:20+00:00</published>
<id>/forums/viewtopic.php?t=2506&amp;p=14706#p14706</id>
<link href="/forums/viewtopic.php?t=2506&amp;p=14706#p14706"/>
<title type="html"><![CDATA[Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=2506&amp;p=14706#p14706"><![CDATA[
Hi guys, great job on the 1.5 version! <br /><br />The problems I had while compiling where related to the fact that my (mac) partition was formatted with case-sensitive filename support and as such, I had some errors like &quot;include: No such file or directory&quot;.<br /><br />As I recall, the problems were with chartboostIOS-3.0.7 name, where in fact it was chartboostiOS-3.0.7 (notice the capital i). Also I had a problem with OpenUDID ( openUDID ) and playhaven PHPublisherSubcontentRequest.h (PHPublisherSubContentRequest.h).<br /><br />To fix this I changed the source code and built information to macth the actual filenames on disk.<br /><br />However, after I successfully compiled the source code (with about 100 warnings), the built somehow stops with the status: <span style="font-weight: bold">Canceled</span>.<br /><br />Does anyone have any idea why is this happenning?<p>Statistics: Posted by <a href="/forums/memberlist.php?mode=viewprofile&amp;u=1137">vladpalos</a> — Tue Jun 03, 2014 5:21 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[halfnelson]]></name></author>
<updated>2014-05-23T21:51:39+00:00</updated>
<published>2014-05-23T21:51:39+00:00</published>
<id>/forums/viewtopic.php?t=2506&amp;p=14601#p14601</id>
<link href="/forums/viewtopic.php?t=2506&amp;p=14601#p14601"/>
<title type="html"><![CDATA[Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=2506&amp;p=14601#p14601"><![CDATA[
nosheet: I think that is the point of this whole thread. Getting to a copy paste-able reusable project. <br /><br />Currently the create-projects-ios.sh script takes a command line parameter of the path to the lua files and adds them to resources (under &quot;moai&quot; folder from memory), the libraries are all there in the project, the are under subfolders. <br /><br />It is currently a one shot thing and assumes that you don't want to make too many changes to the project. You can follow ezra's guide to setting it up to just build the libs, and having a hand crafted project file (like the 1.4p0 project that was never ported to 1.5) that links to those libs.<br /><br />ALL_BUILD (builds all targets) and ZERO_CHECK (recreates the project files if it detects changes to the cmakelists.txt sources) and are the price paid for once project file format (cmakelists.txt) many output types (vstudio, makefile, xcodeproj, mingw makefile, android makefile, etc)<br /><br />But since the ios host code is only ever xcodeproj, I am trying to pull that part out as a standalone copy paste-able project and have the rest still generated and compiled by cmake+xcode. Ezra has a walkthrough on how to do this manually (he might even share his project).<p>Statistics: Posted by <a href="/forums/memberlist.php?mode=viewprofile&amp;u=943">halfnelson</a> — Fri May 23, 2014 9:51 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[nosheet]]></name></author>
<updated>2014-05-23T11:08:27+00:00</updated>
<published>2014-05-23T11:08:27+00:00</published>
<id>/forums/viewtopic.php?t=2506&amp;p=14580#p14580</id>
<link href="/forums/viewtopic.php?t=2506&amp;p=14580#p14580"/>
<title type="html"><![CDATA[Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=2506&amp;p=14580#p14580"><![CDATA[
I took a bit of time (obviously not enough time) to test the new build scripts, and I must say I am completely lost on what to do with the XCode project created by create-project-ios.sh script.<br />It has several build schemes that I am not sure what they are supposed to do (ALL_BUILD and ZERO_CHECK), I assume they somehow build and link the Moai-related libraries, because I don't see any libraries anywhere in the project. Also, the host includes and runs the Lua source files from samples/hello-moai (I assume the path to Lua source files is buried in some CMake script), despite the fact that MOAIAppDelegate should be running the moai.lua file in [bundle resources path]/lua folder (which I assume doesn't even exist in this project).<br /><br />The only thing I can do with the project is hit &quot;build&quot; button which, as if by a miracle (I say miracle because I don't see any libraries or where the path to samples/hello-moai was set) will actually spit out an app and install it into my device with the default hello-moai sample, but apart from that I don't even know how to start using the host (ie. adding source files or more importantly, making a copy of entire project so I can reuse it in different apps).<p>Statistics: Posted by <a href="/forums/memberlist.php?mode=viewprofile&amp;u=912">nosheet</a> — Fri May 23, 2014 11:08 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[sshukul]]></name></author>
<updated>2014-05-21T09:35:03+00:00</updated>
<published>2014-05-21T09:35:03+00:00</published>
<id>/forums/viewtopic.php?t=2506&amp;p=14522#p14522</id>
<link href="/forums/viewtopic.php?t=2506&amp;p=14522#p14522"/>
<title type="html"><![CDATA[Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=2506&amp;p=14522#p14522"><![CDATA[
@halfnelson most of my changes are in MoaiAppDelegate.mm for anti-piracy stuff and MoaiView.mm for fixing landscape orientation issues etc. I added a couple of methods to the moai-iphone lib as well, so it might be handy to leave it as source, as that's where people will probably want to add custom method calls from lua. The rest shouldn't need any modification as far as I can see.<br /><br />@ezra thanks for the detailed instructional, can't wait to try it out.<p>Statistics: Posted by <a href="/forums/memberlist.php?mode=viewprofile&amp;u=1389">sshukul</a> — Wed May 21, 2014 9:35 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[halfnelson]]></name></author>
<updated>2014-05-20T22:54:31+00:00</updated>
<published>2014-05-20T22:54:31+00:00</published>
<id>/forums/viewtopic.php?t=2506&amp;p=14517#p14517</id>
<link href="/forums/viewtopic.php?t=2506&amp;p=14517#p14517"/>
<title type="html"><![CDATA[Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=2506&amp;p=14517#p14517"><![CDATA[
I am glad you got it going ezra! The resulting project that you end up with is what I am aiming for anyway, I will follow your instructions and create a template project, and make sure that any generated projects match that one. Great stuff.<p>Statistics: Posted by <a href="/forums/memberlist.php?mode=viewprofile&amp;u=943">halfnelson</a> — Tue May 20, 2014 10:54 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[ezraanderson]]></name></author>
<updated>2014-05-30T18:17:21+00:00</updated>
<published>2014-05-20T22:29:13+00:00</published>
<id>/forums/viewtopic.php?t=2506&amp;p=14516#p14516</id>
<link href="/forums/viewtopic.php?t=2506&amp;p=14516#p14516"/>
<title type="html"><![CDATA[Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=2506&amp;p=14516#p14516"><![CDATA[
~<br />So I successful rebuilt a project from scratch today by adding all the correct files &amp; library's. It only took about 30 minutes.<br /><br />1. You can use an old moai-xcode project or build from scratch(a least get, the icons &amp; plists)<br /><ul><li> <!-- m --><a class="postlink" href="https://github.com/moai/moai-dev/tree/1.4-development/xcode/ios">https://github.com/moai/moai-dev/tree/1 ... /xcode/ios</a><!-- m --></li></ul>2. Run -&gt; ./bin/build-ios.sh ./lua-project/<br />3. Collect all the built *.a, add them to your xcode project, build phases -&gt; link binary<br />4.  Add all of the correct files, lines:20-&gt;30<br /><ul><li> <!-- m --><a class="postlink" href="https://github.com/moai/moai-dev/blob/master/cmake/host-ios/CMakeLists.txt">https://github.com/moai/moai-dev/blob/m ... eLists.txt</a><!-- m --></li></ul><dl class="codebox"><dt>Code: </dt><dd><code style="line-height: 30%;"><ol class="lua" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">  <span style="color: #ff6666;">&quot;${IOS_HOST}/*.cpp&quot;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">  <span style="color: #ff6666;">&quot;${IOS_HOST}/*.mm&quot;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">  <span style="color: #ff6666;">&quot;${IOS_HOST}/*.h&quot;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">  <span style="color: #ff6666;">&quot;${MOAI_ROOT}/src/host-modules/*.cpp&quot;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">  <span style="color: #ff6666;">&quot;${MOAI_ROOT}/src/host-modules/*.h&quot;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">  <span style="color: #ff6666;">&quot;${MOAI_ROOT}/src/host-glut/ParticlePresets.cpp&quot;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">  <span style="color: #ff6666;">&quot;${MOAI_ROOT}/src/host-glut/ParticlePresets.h&quot;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">file <span style="color: #66cc66;">&#40;</span> GLOB MOAIIOS_RESOURCES $<span style="color: #66cc66;">&#123;</span>IOS_HOST<span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">/*.</span>png<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /></ol></code></dd></dl><br />5.  Add all of apples library, line:69-&gt;90, build phases -&gt; link binary<br /><ul><li> <!-- m --><a class="postlink" href="https://github.com/moai/moai-dev/blob/master/cmake/host-ios/CMakeLists.txt">https://github.com/moai/moai-dev/blob/m ... eLists.txt</a><!-- m --></li></ul><dl class="codebox"><dt>Code: </dt><dd><code style="line-height: 30%;"><ol class="text" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> AdSupport</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">  AudioToolbox</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">  CoreAudio</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">  CoreGraphics</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">  CoreLocation</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">  CoreTelephony</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">  CoreMotion</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">  CFNetwork</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">  Foundation</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">  GameKit</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">  EventKit</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">  MediaPlayer</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">  MobileCoreServices</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">  MessageUI</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">  OpenGLES</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">  QuartzCore</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">  StoreKit</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">  Social</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">  SystemConfiguration</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">  Twitter</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">  UIKit</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /></ol></code></dd></dl><br />6. Add -&gt; build phases -&gt; link binary<br /><dl class="codebox"><dt>Code: </dt><dd><code style="line-height: 30%;"><ol class="text" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">libc++.dylib</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /></ol></code></dd></dl><br />7. Add needed third parties library, by dragging them into xcode, and let xcode copy the files into the project<br /><dl class="codebox"><dt>Code: </dt><dd><code style="line-height: 30%;"><ol class="text" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">3rdparty/chartboostiOS-3.0.7</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">3rdparty/crittercismiOS-4.0.6</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">3rdparty/facebookiOS-3.0.6.b</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">3rdparty/MobileAppTracking-ios</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">3rdparty/TapjoySDK_iOS_v9.1.0</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /></ol></code></dd></dl> <br />8. @jdance thanks -&gt; add -&gt; build-settings -&gt; search paths -&gt; user header search paths<br /><dl class="codebox"><dt>Code: </dt><dd><code style="line-height: 30%;"><ol class="text" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&quot;/volumes/pull/moai-dev/src&quot;/** &quot;/volumes/pull/moai-dev/3rdparty/LuaJIT-2.0.1/src&quot; &quot;/volumes/pull/moai-dev/3rdparty/contrib&quot; &quot;/volumes/pull/moai-dev/3rdparty/tinyxml&quot; &quot;/volumes/pull/moai-dev/3rdparty/lpng140&quot; &quot;/volumes/pull/moai-dev/3rdparty/c-ares-1.7.5&quot; &quot;/volumes/pull/moai-dev/3rdparty/openssl-1.0.0d/include-iphone&quot; &quot;/volumes/pull/moai-dev/3rdparty/curl-7.19.7/include-iphone&quot; &quot;/volumes/pull/moai-dev/3rdparty/curl-7.19.7/lib&quot; &quot;/volumes/pull/moai-dev/3rdparty/expat-2.0.1/lib&quot; &quot;/volumes/pull/moai-dev/3rdparty/freetype-2.4.4/include&quot; &quot;/volumes/pull/moai-dev/3rdparty/box2d-2.2.1&quot; &quot;/volumes/pull/moai-dev/3rdparty/chipmunk-5.3.4/include&quot; &quot;/volumes/pull/moai-dev/3rdparty/chipmunk-5.3.4/include/chipmunk&quot; &quot;/volumes/pull/moai-dev/3rdparty/luacrypto-0.2.0/src&quot; &quot;/volumes/pull/moai-dev/3rdparty/luacurl-1.2.1/src&quot; &quot;/volumes/pull/moai-dev/3rdparty/luasocket-2.0.2/src&quot; &quot;/volumes/pull/moai-dev/3rdparty/luasql-2.2.0/src&quot; &quot;/volumes/pull/moai-dev/3rdparty/libogg-1.2.2/include&quot; &quot;/volumes/pull/moai-dev/3rdparty/jansson-2.1/src&quot; &quot;/volumes/pull/moai-dev/3rdparty/jpeg-8c&quot; &quot;/volumes/pull/moai-dev/3rdparty/untz/include&quot; &quot;/volumes/pull/moai-dev/3rdparty/untz/src&quot; &quot;/volumes/pull/moai-dev/3rdparty/libvorbis-1.3.2/lib&quot; &quot;/volumes/pull/moai-dev/3rdparty/libvorbis-1.3.2/include&quot; &quot;/volumes/pull/moai-dev/3rdparty/tlsf-2.0&quot; &quot;/volumes/pull/moai-dev/3rdparty/zlib-1.2.3&quot; &quot;/volumes/pull/moai-dev/3rdparty/ooid-0.99&quot; &quot;/volumes/pull/moai-dev/3rdparty/tapjoyiOS-8.1.9/TapjoyConnect&quot; &quot;/volumes/pull/moai-dev/3rdparty/crittercismiOS-3.3.3/CrittercismSDK-crashonly&quot; &quot;/volumes/pull/moai-dev/3rdparty/chartboostiOS-3.0.7&quot; &quot;/volumes/pull/moai-dev/3rdparty/facebookiOS-3.0.6.b/src&quot; &quot;/volumes/pull/moai-dev/3rdparty/vungle116/lib&quot; &quot;/volumes/pull/moai-dev/3rdparty/adcolonyiOS-1911/Library&quot; &quot;/volumes/pull/moai-dev/3rdparty/&quot; &quot;/volumes/pull/moai-dev/3rdparty/mongoose&quot; &quot;/Users/ezra/Desktop/host_ios/&quot;/**</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /></ol></code></dd></dl><br />9. build settings -&gt; custom compiler flags  -&gt; other Cflags &amp; other C++ flags -&gt;<br /><dl class="codebox"><dt>Code: </dt><dd><code style="line-height: 30%;"><ol class="text" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">-include &quot;/Volumes/pull/moai-dev/src/zl-vfs/zl_replace.h&quot;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /></ol></code></dd></dl><br /><br /><span style="font-weight: bold">Notes:</span><br /><ul><li> 3rdparty library are tricky to get linked in correctly.</li><li> Errors like &quot;Undefined symbols for architecture armv7:&quot; --&gt; <!-- m --><a class="postlink" href="http://pastebin.com/gCgSr9rG">http://pastebin.com/gCgSr9rG</a><!-- m --> --&gt; probably mean the framework is not linked in correctly</li><li> The *.a(libs) are armv7, so they wont work on the simulator, moai-forge branch exports fat libs that can work on the simulator.</li><li> My previous post errors were caused by missing 3rdparty &amp; Apple *.a(libs)</li><li> I haven't tried archiving or validation.</li></ul><br /><br />This post is probably pointless because I know halfnelson has better solution coming but it might be a useful reference so I thought I would post it anyways.<br /><br />Thank you halfnelson for you awesome work <img src="images/smilies/icon_e_smile.gif" alt=":)" title="Smile" /><br /><br />-----------------------------------------------------------------------------------------------------------------------------------<br /><br /><span style="font-weight: bold">edit:</span> Seems to deploy and run fine with -&gt; IOS deployment target -&gt; ios4.3 -&gt; on my IOS 6.0.1 device.<br /><span style="font-weight: bold">edit</span> warning &quot;the app references non-public selectors in payload/appname.app/appname&quot; my guess is its in a 3rdparty library, I updated facebook sdk but still get the same warning, the following link tells you to igoner the warning<br /><ul><li> <!-- m --><a class="postlink" href="http://stackoverflow.com/questions/21423971/the-app-references-non-public-selectors-in-payload-appname-app-appname-termina">http://stackoverflow.com/questions/2142 ... me-termina</a><!-- m --></li></ul><span style="font-weight: bold">edit:</span> [IDFA] error, I had to enable this in iTunes connect, if disabled your binary will be rejected automatically, this is caused by 3rdparty libraries, Facebook &amp; playheaven, and the apple *.a(lib)  adSupport(I think).<br /><ul><li> <!-- m --><a class="postlink" href="http://stackoverflow.com/questions/22979151/improper-advertising-identifier-idfa-usage">http://stackoverflow.com/questions/2297 ... idfa-usage</a><!-- m --></li></ul><span style="font-weight: bold">edit:</span> added some icons<br /><dl class="codebox"><dt>Code: </dt><dd><code style="line-height: 30%;"><ol class="text" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">80x80, Icon-Small-40@2x</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">120x120, Icon-60@2x</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /></ol></code></dd></dl><br />And submitted an app that passed apples auto-reject, and the app went in for review.<p>Statistics: Posted by <a href="http://192.168.20.226:3000/forums/memberlist.php?mode=viewprofile&amp;u=1202">ezraanderson</a> — Tue May 20, 2014 10:29 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[halfnelson]]></name></author>
<updated>2014-05-20T11:36:31+00:00</updated>
<published>2014-05-20T11:36:31+00:00</published>
<id>/forums/viewtopic.php?t=2506&amp;p=14509#p14509</id>
<link href="http://192.168.20.226:3000/forums/viewtopic.php?t=2506&amp;p=14509#p14509"/>
<title type="html"><![CDATA[Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=2506&amp;p=14509#p14509"><![CDATA[
Thanks for the feedback sshukul. Out of interest, for the changes you say you make to the host, are they in the moai-iphone lib or in moaiview etc classes? Just wondering whether to leave the moai-iphone classes as source so they can be easily modified and the rest as libs.<p>Statistics: Posted by <a href="http://192.168.20.226:3000/forums/memberlist.php?mode=viewprofile&amp;u=943">halfnelson</a> — Tue May 20, 2014 11:36 am</p><hr />
]]></content>
</entry>
</feed>