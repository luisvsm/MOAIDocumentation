<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>Moai Forum | The mobile platform for pro game developers &bull; View topic - How to build an Android APK , step-by-step</title>

<link rel="alternate" type="application/atom+xml" title="Feed - Moai Forum | The mobile platform for pro game developers" href="../feed.php.html" /><link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="../feed.php%3Fmode=forums.html" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="../feed.php%3Fmode=topics.html" /><link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="../feed.php%3Fmode=topics_active.html" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - New Users" href="../feed.php%3Ff=9.html" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - How to build an Android APK , step-by-step" href="../feed.php%3Ff=9&amp;t=483.html" />

<!--
	phpBB style name: proFormell
	Based on style:   prosilver (this is the default phpBB3 style)
	Inspired by:	  Formell (Joomla Style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:  	  Marc Alexander
	
	NOTE: This page was generated by phpBB, the free open-source bulletin board package.
	      The phpBB Group is not responsible for the content of this page and forum. For more information
	      about phpBB please visit http://www.phpbb.com
-->

<script type="text/javascript">
// <![CDATA[
	var jump_page = 'Enter the page number you wish to go to:';
	var on_page = '2';
	var per_page = '20';
	var base_url = '/forums/how-to-build-an-android-apk-step-by-step-t483/';
	var style_cookie = 'phpBBstyle';
	var style_cookie_settings = '; path=/';
	var onload_functions = new Array();
	var onunload_functions = new Array();
	var is_ie6 = false;

	/**
	* Find a member
	*/
	function find_username(url)
	{
		popup(url, 760, 570, '_usersearch');
		return false;
	}

	/**
	* New function for handling multiple calls to window.onload and window.unload by pentapenguin
	*/
	window.onload = function()
	{
		for (var i = 0; i < onload_functions.length; i++)
		{
			eval(onload_functions[i]);
		}
	}

	window.onunload = function()
	{
		for (var i = 0; i < onunload_functions.length; i++)
		{
			eval(onunload_functions[i]);
		}
	}

// ]]>
</script>
<!--[if lt IE 7]>
<script type="text/javascript">
// <![CDATA[
var is_ie6 = true;
// ]]>
</script>
<![endif]-->


<link href="../styles/proFormell/theme/print.css" rel="stylesheet" type="text/css" media="print" title="printonly" />

<link href="../style.css" rel="stylesheet" type="text/css" media="screen, projection" />



<link href="../styles/proFormell/theme/images/favicon.ico" rel="shortcut icon" />

<script type="text/javascript" src="../styles/prosilver/template/forum_fn.js"></script>
<script src="../styles/prosilver/template/jquery-1.4.4.min.js" type="text/javascript"></script>

<script type="text/javascript">
// <![CDATA[
/**
* New pop-up functions
* based on  http://yensdesign.com/2008/09/how-to-create-a-stunning-and-smooth-popup-using-jquery/
*/

//SETTING UP OUR POPUP
//0 means disabled; 1 means enabled;
var popupStatus = 0;
var openPopup = '';

//loading popup with jQuery magic!
function loadPopup()
{
	//loads popup only if it is disabled
	if(popupStatus==0)
	{
		$('#backgroundPopup').css({'opacity': '0.7'});
		// Now let's make sure we actually see the image
		var scroll = $(window).scrollTop();
		$('#popupPM').animate({marginTop: scroll}, 'fast', function() {
			// Animation complete.
			});
		$('#backgroundPopup').fadeIn('slow');
		$('#popupPM').fadeIn('slow');
		popupStatus = 1;
		openPopup = 'PM';
	}
}

//disabling popup with jQuery magic!
function disablePopup()
{
	//disables popup only if it is enabled
	if(popupStatus==1 && openPopup == 'PM')
	{
		$('#backgroundPopup').fadeOut('slow');
		$('#popupPM').fadeOut('slow');
		popupStatus = 0;
		openPopup = '';
	}
}

//centering popup
function centerPopup()
{
	//request data for centering
	var windowWidth = document.documentElement.clientWidth;
	var windowHeight = document.documentElement.clientHeight;
	var popupHeight = $('#popupPM').height();
	var popupWidth = $('#popupPM').width();
	//centering
	$('#popupPM').css({
	'position': 'absolute',
	'top': windowHeight/2-popupHeight/2,
	'left': windowWidth/2-popupWidth/2
	});
	//only need force for IE6
	$('#backgroundPopup').css({'height': windowHeight});
}

$(document).ready(function(){
	
	resize_images();
	
	
	// IE6 and below PNG fix (not really)
	if(is_ie6)
	{
		replace_png();
	}
	
	//CLOSING POPUP
	//Click the x event!
	$('#popupPMClose').click(function(){
		disablePopup();
	});
	//Click out event!
	$('#backgroundPopup').click(function(){
		disablePopup();
		disableImage();
	});
	//Press Escape event!
	$(document).keypress(function(e){
		if(e.keyCode==27 && popupStatus==1)
		{
			disablePopup();
			disableImage();
		}
	});
	
	
	// Image popup
	$('img', 'dt.attach-image').click(function(){
		image_load($(this).attr('src'), $(this).attr('alt'));
		centerImage();
	});
	
	$('.content img').click(function(){
		var check = $(this).parent().hasClass('content');
		if(check)
		{
			image_load($(this).attr('src'), $(this).attr('alt'));
			centerImage();
		}
	});
	
	// Closing Image popup
	//Click the x event!
	$('#popupImageClose').click(function(){
		disableImage();
	});
	
	//Click image box event
	$('#popupImage').click(function(){
		disableImage();
	});
	
	//Click image event
	$('#ImagePopup img').click(function(){
		disableImage();
	});
	

});

/**
* Replaces weird looking PNG files with the respectie GIF file
* Only run this if the browser is IE6 or below
*/
function replace_png()
{
	// Fix Logo
	var str = $('#logo img').attr('src'); 
	$('#logo img').attr('src', str.substring(0, str.length - 3) + 'gif');
	
	// Fix forum icons
	$('dl.icon').each(function() {
		var str = $(this).css('background-image');
		if(str != '')
		{
			$(this).css('background-image', str.substring(0, str.length - 5) + 'gif")');
		}
	});
}


/**
* Image resizer
*/
function resize_images()
{
	var hello = $('dl.attachbox dd dl.file dt.attach-image img').innerWidth();
	var maxWidth = $('div.content').innerWidth() - 30;
	
	// resize the attached images
	$('img', 'dt.attach-image').each(function(i){
		// check the width of the image
		if ($(this).width() > maxWidth)
		{
			// calculate new image dimensions
			newWidth = maxWidth;
			newHeight = $(this).height() / ( $(this).width() / maxWidth );
			   
			// set new image dimensions
			$(this).height(newHeight).width(newWidth);
		}
	});
	
	// resize the images that were added via [img] bbcode
	$('img', 'div.content').each(function(i){
		// check the width of the image
		$(this).css('max-width', maxWidth); // fix for IE
		if ($(this).width() > maxWidth)
		{
			// calculate new image dimensions
			newWidth = maxWidth;
			newHeight = $(this).height() / ( $(this).width() / maxWidth );
			   
			// set new image dimensions
			$(this).height(newHeight).width(newWidth);
		}
	});
}

/**
* Image pop-up
*/
function image_load(src, alt)
{
	//loads popup only if it is disabled
	if(popupStatus==0)
	{
		$('#ImagePopup').html('<img id="imgpopup" src="http://192.168.20.226:3000/forums/how-to-build-an-android-apk-step-by-step-t483/'&#32;+&#32;src&#32;+&#32;'" alt="' + alt + '" />');
		var windowWidth = document.documentElement.clientWidth;
		var windowHeight = document.documentElement.clientHeight;
		var maxWidth = windowWidth * 0.85;
		var maxHeight = windowHeight * 0.85;
		$('#popupImage img').css('max-width', maxWidth);
		$('#popupImage img').css('max-height', maxHeight);
		$('#backgroundPopup').css({'opacity': '0.7'});
		// Now let's make sure we actually see the image
		var scroll = $(window).scrollTop();
		$('#popupImage').animate({marginTop: scroll}, 'fast', function() {
			// Animation complete.
			});
		$('#backgroundPopup').fadeIn('slow');
		$('#popupImage').fadeIn('slow');
		popupStatus = 1;
		openPopup = 'Image';
	}
}

//centering popup
function centerImage()
{
	//request data for centering
	var windowWidth = document.documentElement.clientWidth;
	var windowHeight = document.documentElement.clientHeight;
	var popupHeight = $('#popupImage').height();
	var popupWidth = $('#popupImage').width();
	var newTop = windowHeight/2-popupHeight/2;
	var newLeft = windowWidth/2-popupWidth/2;
	//centering
	$('#popupImage').css({
	'position': 'absolute',
	'top': newTop,
	'left': newLeft
	});
	
	//only need force for IE6
	$('#backgroundPopup').css({'height': windowHeight});
}

//disabling popup with jQuery magic!
function disableImage()
{
	//disables popup only if it is enabled
	if(popupStatus==1 && openPopup == 'Image')
	{
		$('#backgroundPopup').fadeOut('slow');
		$('#popupImage').fadeOut('slow');
		popupStatus = 0;
		openPopup = '';
	}
}


// ]]>
</script>

</head>

<body id="phpbb" class="section-viewtopic ltr">
<!--- box border START -->
<div id="box">

<div class="top-left"></div><div class="top-center"></div><div class="top-right"></div>
<div id="left-border">
<div id="right-border">


<!--- box border END -->
<div class="inside">
 <div class="notopgap">
<div id="wrap">
	<a id="top" name="top" accesskey="t"></a>
	<div id="page-header">
		<div class="headerbar">
			<div class="inner"><!-- <span class="corners-top"><span></span></span> -->
			<div style="height: 140px ;">
			<div id="site-description">
				<div class="header-pad"><a href="page20.html" title="" id="logo"><img src="../styles/proFormell/imageset/site-logo.png" width="410" height="98" alt="" title="" /></a></div>
			
		<!--		<p class="site-desc">The mobile platform for pro game developers</p> -->
				<p class="skiplink"><a href="page20.html#start_here">Skip to content</a></p>
			</div>

		
    </div>

			<span class="corners-bottom"><span></span></span></div>
		</div>

		<div class="navbar">
			<div class="inner"><span class="corners-top"><span></span></span>

			<ul class="linklist navlinks">
				<li class="icon-home"><a href="../index.html" accesskey="h">Board index</a>  <strong>&#8249;</strong> <a href="../moai-development-forums.html">Moai Development Forums</a> <strong>&#8249;</strong> <a href="../new-users.html">New Users</a></li>

				<li class="rightside"><a href="page20.html#" onclick="fontsizeup(); return false;" onkeypress="return fontsizeup(event);" class="fontsize" title="Change font size">Change font size</a></li>

				<li class="rightside"><a href="../memberlist.php%3Fmode=email&amp;t=483.html" title="E-mail friend" class="sendemail">E-mail friend</a></li><li class="rightside"><a href="http://192.168.20.226:3000/forums/viewtopic.php?f=9&amp;t=483&amp;start=20&amp;view=print" title="Print view" accesskey="p" class="print">Print view</a></li>
			</ul>

			

			<ul class="linklist rightside">
				<li class="icon-faq"><a href="../faq.php.html" title="Frequently Asked Questions">FAQ</a></li>
				
				
			</ul>

			<span class="corners-bottom"><span></span></span></div>
		</div>
	</div>

	<a name="start_here"></a>
	<div id="page-body">
		
<h2><a href="page20.html">How to build an Android APK , step-by-step</a></h2>
<!-- NOTE: remove the style="display: none" when you want to have the forum description on the topic body --><div style="display: none !important;">New to Moai? Get started here with our best tips and tutorials.<br /></div>

<div class="topic-actions">

	<div class="buttons">
	
	</div>

	
		<div class="pagination">
			34 posts
			 &bull; <a href="page20.html#" onclick="jumpto(); return false;" title="Click to jump to page…">Page <strong>2</strong> of <strong>2</strong></a> &bull; <span><a href="index.html">1</a><span class="page-sep">, </span><strong>2</strong></span>
		</div>
	

</div>
<div class="clear"></div>


	<div id="p4684" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 class="first"><a href="page20.html#p4684">Re: How to build an Android APK , step-by-step</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>ibisum</strong> &raquo; Mon Jun 18, 2012 10:19 am </p>

			

			<div class="content">There is a new thread in the forums about the missing jars - check for it.  If I recall its a quick fix, but was a bug in the released Android project template setup.  I believe you might be almost there if you get this sorted - the missing jars is a typical Android problem and should be quite easily solvable.<br /><br />But, I understand you want to start from a 'clean' target and have mis-trust for the Android project as it stands, not being able to build clean from a new checkout.  This does suck, and I hope the MOAI dev team get on top of their release quality problems soon (grr...)<br /><br />As for developing on Ubuntu, I would wait until the linux-cmake patch is integrated in the next week or so.  The 1.2 SDK release is quite good, has a lot of important bugfixes, but for some reason the team seem to think that Linux host build support is not a priority (I disagree with them strongly on this point, but that is because I have an Ubuntu Tablet and am targeting an app for release to the Ubuntu App Store as soon as possible, and therefore I am biased..)<br /><br />If you can't wait, you can get spacepluks' branch of moai-dev 1.1 from here:  <!-- m --><a class="postlink" href="https://github.com/spacepluk/moai-dev">https://github.com/spacepluk/moai-dev</a><!-- m -->  <br /><br />Off the top of my head, the steps are:<br /><br />0. mkdir some_work_dir_for_this &amp;&amp; cd !$<br />1. git clone <!-- m --><a class="postlink" href="https://github.com/spacepluk/moai-dev">https://github.com/spacepluk/moai-dev</a><!-- m --><br />2. cd moai-dev<br />3. git checkout linux-cmake (or linux-cmake-amd64 if you are using a 64-bit linux)<br />4. mkdir build &amp;&amp; cd build<br />5. cmake .. <br />6. make<br />7. mkdir -p ~/bin/ &amp;&amp; find ./ -name &quot;gluthost&quot; -exec cp {} ~/bin/moai-dev-spacepluk \;<br />8. export PATH=$PATH:~/bin/<br />9. cd samples/anim/basic &amp;&amp; moai-dev-spacepluk ./main.lua<br />10. cd ../../../ant &amp;&amp; ./make-host.sh -a all -p your.package-identifier.whatever<br />11. (Make *SURE* you've got an Android SDK and NDK installed in your local Ubuntu instance)<br />11. cd untitled-host &amp;&amp; vi settings-global.sh &amp;&amp; vi settings-local.sh &amp;&amp; ./run-host.sh<br /><br /><br />Should be enough to get you started, good luck!</div>

			<div id="sig4684" class="signature">;<br />--<br />allaboutapps.at<br />{We do MOAI!}</div>

		</div>

		
			<dl class="postprofile" id="profile4684">
			<dt>
				<img src="../download/file.php%253favatar%253d262_1340630942.png" width="120" height="90" alt="User avatar" /><br />
				<strong>ibisum</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 399</dd><dd><strong>Joined:</strong> Mon Oct 17, 2011 8:11 am</dd><dd><strong>Location:</strong> Vienna, Austria</dd>

		</dl>
	

		<div class="back2top"><a href="page20.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p4733" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page20.html#p4733">Re: How to build an Android APK , step-by-step</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>sgeos</strong> &raquo; Tue Jun 19, 2012 1:52 pm </p>

			

			<div class="content"><blockquote><div><cite>mikegriffin wrote:</cite>Looking at the /hosts/ant/run-host.sh you may have to copy the libmoai.so library from /bin/android/armeabi to /hosts/ant/host-source/libs</div></blockquote><br />Presumably this should be noted to the Wiki?<br /><br /><dl class="codebox"><dt>Code: <a href="page20.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="text" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">~/moai-sdk/hosts/ant$ ./run-host.sh </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">cp: host-source/project/libs/*: No such file or directory</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">~/moai-sdk/hosts/ant$ mkdir host-source/project/libs</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">~/moai-sdk/hosts/ant$ cp ../../bin/android/armeabi/libmoai.so host-source/project/libs/</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">~/moai-sdk/hosts/ant$ ./run-host.sh </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">Buildfile: ~/moai-sdk/hosts/ant/build/project/build.xml</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">BUILD FAILED</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">~/moai-sdk/hosts/ant/build/project/build.xml:83: Cannot find ~/moai-sdk/hosts/android-sdks/tools/ant/build.xml imported from ~/moai-sdk/hosts/ant/build/project/build.xml</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">Total time: 1 second</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">~/moai-sdk/hosts/ant$</div></li><br /></ol></code></dd></dl><br />Evidently this is still not working.<br /><br /><blockquote><div><cite>ibisum wrote:</cite>You're supposed to generate an Android project folder for your app by using the make-host.sh[.bat] script.  ...  If you're not using make-host.sh[.bat] to generate your Android project, then you're going to run into problems</div></blockquote><br />The wiki gives the impression that there is no need to create the host when using the binary Moai SDK.  I think I'm using the downloadable Moai SDK 1.1, but the wiki does not appear to have been updated for a few months so I assume the instructions pertain to Moai SDK 1.1.<br /><br />Did I botch something basic, or is the documentation insufficient (or both)?  Should these problems go away if I build from source?  I'm developing on Mac OSX and I managed to get my project running on iOS hardware with little fussing around.</div>

			

		</div>

		
			<dl class="postprofile" id="profile4733">
			<dt>
				<strong>sgeos</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 70</dd><dd><strong>Joined:</strong> Sat Apr 28, 2012 11:42 am</dd>

		</dl>
	

		<div class="back2top"><a href="page20.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p4735" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page20.html#p4735">Re: How to build an Android APK , step-by-step</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>ibisum</strong> &raquo; Tue Jun 19, 2012 1:58 pm </p>

			

			<div class="content">Personally, I think that MOAI is a lot easier to deal with if you just bite the bullet and build from source.  <br /><br />Also, if you want to get through this, maybe its better if we meet in #moai on irc.freenode.net (I am torpor) and we can help you through it.</div>

			<div id="sig4735" class="signature">;<br />--<br />allaboutapps.at<br />{We do MOAI!}</div>

		</div>

		
			<dl class="postprofile" id="profile4735">
			<dt>
				<img src="../download/file.php%253favatar%253d262_1340630942.png" width="120" height="90" alt="User avatar" /><br />
				<strong>ibisum</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 399</dd><dd><strong>Joined:</strong> Mon Oct 17, 2011 8:11 am</dd><dd><strong>Location:</strong> Vienna, Austria</dd>

		</dl>
	

		<div class="back2top"><a href="page20.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p4742" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page20.html#p4742">Re: How to build an Android APK , step-by-step</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>sgeos</strong> &raquo; Tue Jun 19, 2012 4:39 pm </p>

			

			<div class="content">I went to #moai on irc.freenode.net.  The fellow I spoke to was under the impression that you need to use an old version of the Android SDK &quot;because after that they changed the build.xml&quot;.  He pointed me to <a href="http://dl.google.com/android/android-sdk_r13-mac_x86.zip" class="postlink">r13 for Mac OSX</a>.  The problem is that I can not figure out how to add any Android platforms with with revision 13 of the Android SDK Tools.  The build still fails for the same reason.<br /><br />Do I really need to use an old version of the Android SDK Tools?  In any case, something is not documented.  After I figure this out, the wiki should be updated for the next person.</div>

			

		</div>

		
			<dl class="postprofile" id="profile4742">
			<dt>
				<strong>sgeos</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 70</dd><dd><strong>Joined:</strong> Sat Apr 28, 2012 11:42 am</dd>

		</dl>
	

		<div class="back2top"><a href="page20.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p4757" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page20.html#p4757">Re: How to build an Android APK , step-by-step</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>tenth</strong> &raquo; Wed Jun 20, 2012 4:58 am </p>

			

			<div class="content">Well I can help you out with the build.xml problem - this is apparently something that is generated by Eclipse. I started up Eclipse, updated (you need to update the ADT plugin (help -&gt; check for updates) as well as the Android SDK), and then restarted Eclipse and suddenly I had a build.xml in the right place. This worked for me in both Linux and Windows.<br /><br />ibisum: This version of the Moai SDK that you linked from Github is pretty different from the download on the Moai website. Here's the Github ls:<br /><br />3rdparty  <br />ant <br />CMakeLists.txt<br />distribute  <br />docs <br />README.txt  <br />samples<br />scons<br />src  <br />test         <br />version.txt<br />vs2008  <br />vs2010<br />xcode<br /><br />and the ls from the binary distribution:<br /><br />3rdparty<br />bin              <br />docs<br />hosts<br />include<br />legal.txt<br />license.txt<br />README.txt<br />release-notes.txt<br />samples<br />version.txt<br /><br />I'm just offering this as an explanation for why sorting this out has been so difficult. I do see the make-host.sh that you've been talking about in the Github version.<br /><br />I'm going through your steps right now, finding all the prerequisites for the cmake process took a while and make is currently giving me this:<br /><br />../moai-dev/src/uslscore/USXmlReader.h:7:19: fatal error: expat.h: No such file or directory<br />compilation terminated.<br /><br />There are several expat.h files, but not in that directory. I'm wondering if I should just guess...</div>

			

		</div>

		
			<dl class="postprofile" id="profile4757">
			<dt>
				<strong>tenth</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 6</dd><dd><strong>Joined:</strong> Thu Jun 14, 2012 5:35 pm</dd>

		</dl>
	

		<div class="back2top"><a href="page20.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p4764" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page20.html#p4764">Re: How to build an Android APK , step-by-step</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>ibisum</strong> &raquo; Wed Jun 20, 2012 7:40 am </p>

			

			<div class="content">Totally bizaare.  FWIW, I always build MOAI from sources.  I suggest you do the same ..</div>

			<div id="sig4764" class="signature">;<br />--<br />allaboutapps.at<br />{We do MOAI!}</div>

		</div>

		
			<dl class="postprofile" id="profile4764">
			<dt>
				<img src="../download/file.php%253favatar%253d262_1340630942.png" width="120" height="90" alt="User avatar" /><br />
				<strong>ibisum</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 399</dd><dd><strong>Joined:</strong> Mon Oct 17, 2011 8:11 am</dd><dd><strong>Location:</strong> Vienna, Austria</dd>

		</dl>
	

		<div class="back2top"><a href="page20.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p4765" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page20.html#p4765">Re: How to build an Android APK , step-by-step</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>tenth</strong> &raquo; Wed Jun 20, 2012 8:17 am </p>

			

			<div class="content">Well I'm trying, that isn't exactly going smoothly either... I'll keep working on it. Thanks for the help.</div>

			

		</div>

		
			<dl class="postprofile" id="profile4765">
			<dt>
				<strong>tenth</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 6</dd><dd><strong>Joined:</strong> Thu Jun 14, 2012 5:35 pm</dd>

		</dl>
	

		<div class="back2top"><a href="page20.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p4771" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page20.html#p4771">Re: How to build an Android APK , step-by-step</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>sgeos</strong> &raquo; Wed Jun 20, 2012 2:25 pm </p>

			

			<div class="content">I went through the process of building from source on IRC.  I managed to build and APK.  I do not have hardware of my own and the emulator does not seem to like me, but another developer managed to run a sample I built on hardware.  Here are the steps I followed.<br /><dl class="codebox"><dt>Code: <a href="page20.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="bash" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #666666; font-style: italic;"># (install Android SDK and NDK)</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #666666; font-style: italic;"># (add SDK and NDK to path; export PATH=$PATH:/(SDK_PATH)/tools:/(SDK_PATH)/platform-tools/:/(NDK_PATH)/)</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #c20cb9; font-weight: bold;">mkdir</span> ~<span style="color: #000000; font-weight: bold;">/</span>moai-source</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #7a0874; font-weight: bold;">cd</span> ~<span style="color: #000000; font-weight: bold;">/</span>moai-source</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #c20cb9; font-weight: bold;">git clone</span> https:<span style="color: #000000; font-weight: bold;">/</span> <span style="color: #000000; font-weight: bold;">/</span>github.com<span style="color: #000000; font-weight: bold;">/</span>moai<span style="color: #000000; font-weight: bold;">/</span>moai-dev</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #c20cb9; font-weight: bold;">git checkout</span> 760b5a8b077e3eb6f2473f1deede317d0725bc3c</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #7a0874; font-weight: bold;">cd</span> moai-dev<span style="color: #000000; font-weight: bold;">/</span>ant<span style="color: #000000; font-weight: bold;">/</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">.<span style="color: #000000; font-weight: bold;">/</span>make-host.sh <span style="color: #660033;">-p</span> com.mycompany.app.appname</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #7a0874; font-weight: bold;">cd</span> untitled-host</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #c20cb9; font-weight: bold;">vi</span> settings-local.sh</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #666666; font-style: italic;"># (configure android_sdk_root and src_dirs)</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">.<span style="color: #000000; font-weight: bold;">/</span>run-host.sh</div></li><br /></ol></code></dd></dl><br />(That should be https:// on step 5.) The latest version of the repository seems to be broken, so the checkout is needed.  To set up the emulator (which did not work for me):<br /><dl class="codebox"><dt>Code: <a href="page20.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="bash" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">android avd</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">emulator <span style="color: #660033;">-gpu</span> on <span style="color: #660033;">-avd</span> MyTestDevice</div></li><br /></ol></code></dd></dl><br />Check that the emulator is running with:<br /><span style="font-weight: bold">adb devices</span></div>

			

		</div>

		
			<dl class="postprofile" id="profile4771">
			<dt>
				<strong>sgeos</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 70</dd><dd><strong>Joined:</strong> Sat Apr 28, 2012 11:42 am</dd>

		</dl>
	

		<div class="back2top"><a href="page20.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p4798" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page20.html#p4798">Re: How to build an Android APK , step-by-step</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>tenth</strong> &raquo; Thu Jun 21, 2012 5:55 am </p>

			

			<div class="content">Thank you sgeos, that got it working. Not on the emulator, but that isn't surprising - they do say that the android emulator isn't supported for lack of OpenGL. The run-host script does output successfully to my phone, however.</div>

			

		</div>

		
			<dl class="postprofile" id="profile4798">
			<dt>
				<strong>tenth</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 6</dd><dd><strong>Joined:</strong> Thu Jun 14, 2012 5:35 pm</dd>

		</dl>
	

		<div class="back2top"><a href="page20.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p4801" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page20.html#p4801">Re: How to build an Android APK , step-by-step</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>sgeos</strong> &raquo; Thu Jun 21, 2012 10:59 am </p>

			

			<div class="content">I just posted my copy of the notes.  Thank ibisum.  He walked me through the process.  It sounds like I need my Android hardware...</div>

			

		</div>

		
			<dl class="postprofile" id="profile4801">
			<dt>
				<strong>sgeos</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 70</dd><dd><strong>Joined:</strong> Sat Apr 28, 2012 11:42 am</dd>

		</dl>
	

		<div class="back2top"><a href="page20.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p4824" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page20.html#p4824">Re: How to build an Android APK , step-by-step</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>ibisum</strong> &raquo; Fri Jun 22, 2012 7:30 am </p>

			

			<div class="content">You *have* to start the emulator with GPU acceleration turned on (thats what '-gpu on' does).  If you don't, MOAI won't run.  Of course, this assumes that your platform lets you run the Android emulator with acceleration turned on ..</div>

			<div id="sig4824" class="signature">;<br />--<br />allaboutapps.at<br />{We do MOAI!}</div>

		</div>

		
			<dl class="postprofile" id="profile4824">
			<dt>
				<img src="../download/file.php%253favatar%253d262_1340630942.png" width="120" height="90" alt="User avatar" /><br />
				<strong>ibisum</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 399</dd><dd><strong>Joined:</strong> Mon Oct 17, 2011 8:11 am</dd><dd><strong>Location:</strong> Vienna, Austria</dd>

		</dl>
	

		<div class="back2top"><a href="page20.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p4830" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page20.html#p4830">Re: How to build an Android APK , step-by-step</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>sgeos</strong> &raquo; Fri Jun 22, 2012 1:01 pm </p>

			

			<div class="content">I managed to run my app on the <a href="http://developer.android.com/tools/devices/emulator.html" class="postlink">Android emulator</a>.  This is what you need to do:<br /><br /><ul><li>Install Android SDK Tools, Revision 17 or higher</li><li>Install Android SDK Platform API 15, Revision 3 or higher</li><li>Start the <a href="http://developer.android.com/tools/devices/index.html" class="postlink">AVD Manager</a> and create a new AVD</li><li>Set the Target value of <span style="font-weight: bold">Android 4.0.3</span> (API Level 15), revision 3 or higher.</li><li>To have graphics acceleration enabled by default for this AVD, in the Hardware section, click New, select GPU emulation and set the value to Yes.</li><li>Name the AVD instance and select any other configuration options.</li><li>Note: Do <span style="font-weight: bold">not</span> select the Snapshot: Enabled option.</li><li>Click Create AVD to save the emulator configuration.</li></ul>If you did not enable graphics acceleration by default, you can enable it from the command line with <span style="font-weight: bold">-gpu on</span>.<br /><dl class="codebox"><dt>Code: <a href="page20.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="bash" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #666666;">$ </span>emulator <span style="color: #660033;">-avd</span> <span style="color: #000000; font-weight: bold;">&lt;</span>avd_name<span style="color: #000000; font-weight: bold;">&gt;</span> <span style="color: #660033;">-gpu</span> on</div></li><br /></ol></code></dd></dl></div>

			

		</div>

		
			<dl class="postprofile" id="profile4830">
			<dt>
				<strong>sgeos</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 70</dd><dd><strong>Joined:</strong> Sat Apr 28, 2012 11:42 am</dd>

		</dl>
	

		<div class="back2top"><a href="page20.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p4890" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page20.html#p4890">Re: How to build an Android APK , step-by-step</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>tenth</strong> &raquo; Sun Jun 24, 2012 5:08 am </p>

			

			<div class="content">Thank you, the emulator also works now. This despite the fact that one of the MOAI docs that read at some point said that it wouldn't... ::sigh:: I do appreciate the help but this is just ridiculous. I've been struggling for this long just to get MOAI up and running and now I'm trying to do some of the simplest little things and finding that the documentation is just atrocious.<br /><br />I'm sure I'll come back to MOAI at some point, but for the moment I guess I'll suck it up and use Corona.</div>

			

		</div>

		
			<dl class="postprofile" id="profile4890">
			<dt>
				<strong>tenth</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 6</dd><dd><strong>Joined:</strong> Thu Jun 14, 2012 5:35 pm</dd>

		</dl>
	

		<div class="back2top"><a href="page20.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p4895" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page20.html#p4895">Re: How to build an Android APK , step-by-step</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>sgeos</strong> &raquo; Sun Jun 24, 2012 8:10 am </p>

			

			<div class="content"><blockquote><div><cite>tenth wrote:</cite>Thank you, the emulator also works now. This despite the fact that one of the MOAI docs that read at some point said that it wouldn't... ::sigh::</div></blockquote><br />You can only run Moai in the emulator using the latest Android platform.  I suspect Moai would not run in the emulator when the documentation you read was written.</div>

			

		</div>

		
			<dl class="postprofile" id="profile4895">
			<dt>
				<strong>sgeos</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 70</dd><dd><strong>Joined:</strong> Sat Apr 28, 2012 11:42 am</dd>

		</dl>
	

		<div class="back2top"><a href="page20.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<form id="viewtopic" method="post" action="page20.html">

	<fieldset class="display-options" style="margin-top: 0; ">
		<a href="index.html" class="left-box left">Previous</a>
	</fieldset>

	</form>
	<hr />


<div class="topic-actions">
	<div class="buttons">
	
	</div>

	
		<div class="pagination">
			34 posts
			 &bull; <a href="page20.html#" onclick="jumpto(); return false;" title="Click to jump to page…">Page <strong>2</strong> of <strong>2</strong></a> &bull; <span><a href="index.html">1</a><span class="page-sep">, </span><strong>2</strong></span>
		</div>
	
</div>


	<p></p><p><a href="../new-users.html" class="left-box left" accesskey="r">Return to New Users</a></p>

	<form method="post" id="jumpbox" action="http://192.168.20.226:3000/forums/viewforum.php" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	
		<fieldset class="jumpbox">
	
			<label for="f" accesskey="j">Jump to:</label>
			<select name="f" id="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">
			
				<option value="-1">Select a forum</option>
			<option value="-1">------------------</option>
				<option value="4">Moai Development Forums</option>
			
				<option value="7">&nbsp; &nbsp;Moai SDK Developer Support</option>
			
				<option value="8">&nbsp; &nbsp;Moai Cloud Developer Support</option>
			
				<option value="9" selected="selected">&nbsp; &nbsp;New Users</option>
			
				<option value="10">&nbsp; &nbsp;Bug Reports</option>
			
				<option value="3">Moai Community Forums</option>
			
				<option value="5">&nbsp; &nbsp;Moai Roadmap</option>
			
				<option value="6">&nbsp; &nbsp;Made With Moai</option>
			
			</select>
			<input type="submit" value="Go" class="button2" />
		</fieldset>
	</form>


	<h3>Who is online</h3>
	<p>Users browsing this forum: No registered users and 0 guests</p>
</div>

<div id="page-footer">

	<div class="navbar">
		<div class="inner"><span class="corners-top"><span></span></span>

		<ul class="linklist">
			<li class="icon-home"><a href="../index.html" accesskey="h">Board index</a></li>
				
			<li class="rightside">All times are UTC </li>
		</ul>

		<span class="corners-bottom"><span></span></span></div>
	</div>
	
	<div class="copyright">Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group<br />Style by <a href="http://www.m-a-styles.de">Marc Alexander</a> &copy;
		<br /><br /><a href="http://www.phpbb-seo.com/" title="Search Engine Optimization"><img src="../images/phpbb-seo.png" alt="phpBB SEO"/></a><br />Time : 0.093s | 11 Queries | GZIP : Off
	</div>
</div>

</div>

<div>
	<a id="bottom" name="bottom" accesskey="z"></a>
	
	</div>
	</div>
<div class="nobottomgap"></div>
</div>
<!--- end of box border -->
</div></div>
<!-- -->
<div class="bottom-left"></div><div class="bottom-center"></div><div class="bottom-right"></div>
</div>
<!-- JQuery Pop Up --><!-- PM Popup --><!-- PM Popup end --><!-- Image Popup -->
<div id="popupImage">
	<p id="ImagePopup"></p>
	<a id="popupImageClose">x</a> 
</div>
<!-- Image Popup -->
<div id="backgroundPopup"></div> 
<!-- JQuery Pop Up END -->
</body>
</html>