<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>Moai Forum &bull; View topic - iPhone Device Orientation with MOAI</title>

<link rel="alternate" type="application/atom+xml" title="Feed - Moai Forum" href="../feed.php.html" /><link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="../feed.php%3Fmode=forums.html" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="../feed.php%3Fmode=topics.html" /><link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="../feed.php%3Fmode=topics_active.html" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - Moai SDK" href="../feed.php%3Ff=7.html" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - iPhone Device Orientation with MOAI" href="../feed.php%3Ff=7&amp;t=80.html" />

<!--
	phpBB style name: proFormell
	Based on style:   prosilver (this is the default phpBB3 style)
	Inspired by:	  Formell (Joomla Style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:  	  Marc Alexander
	
	NOTE: This page was generated by phpBB, the free open-source bulletin board package.
	      The phpBB Group is not responsible for the content of this page and forum. For more information
	      about phpBB please visit http://www.phpbb.com
-->

<script type="text/javascript">
// <![CDATA[
	var jump_page = 'Enter the page number you wish to go to:';
	var on_page = '1';
	var per_page = '';
	var base_url = '';
	var style_cookie = 'phpBBstyle';
	var style_cookie_settings = '; path=/';
	var onload_functions = new Array();
	var onunload_functions = new Array();
	var is_ie6 = false;

	/**
	* Find a member
	*/
	function find_username(url)
	{
		popup(url, 760, 570, '_usersearch');
		return false;
	}

	/**
	* New function for handling multiple calls to window.onload and window.unload by pentapenguin
	*/
	window.onload = function()
	{
		for (var i = 0; i < onload_functions.length; i++)
		{
			eval(onload_functions[i]);
		}
	}

	window.onunload = function()
	{
		for (var i = 0; i < onunload_functions.length; i++)
		{
			eval(onunload_functions[i]);
		}
	}

// ]]>
</script>
<!--[if lt IE 7]>
<script type="text/javascript">
// <![CDATA[
var is_ie6 = true;
// ]]>
</script>
<![endif]-->


<link href="../styles/proFormell/theme/print.css" rel="stylesheet" type="text/css" media="print" title="printonly" />

<link href="../style.css" rel="stylesheet" type="text/css" media="screen, projection" />



<link href="../styles/proFormell/theme/images/favicon.ico" rel="shortcut icon" />

<script type="text/javascript" src="../styles/prosilver/template/forum_fn.js"></script>
<script src="../styles/prosilver/template/jquery-1.4.4.min.js" type="text/javascript"></script>

<script type="text/javascript">
// <![CDATA[
/**
* New pop-up functions
* based on  http://yensdesign.com/2008/09/how-to-create-a-stunning-and-smooth-popup-using-jquery/
*/

//SETTING UP OUR POPUP
//0 means disabled; 1 means enabled;
var popupStatus = 0;
var openPopup = '';

//loading popup with jQuery magic!
function loadPopup()
{
	//loads popup only if it is disabled
	if(popupStatus==0)
	{
		$('#backgroundPopup').css({'opacity': '0.7'});
		// Now let's make sure we actually see the image
		var scroll = $(window).scrollTop();
		$('#popupPM').animate({marginTop: scroll}, 'fast', function() {
			// Animation complete.
			});
		$('#backgroundPopup').fadeIn('slow');
		$('#popupPM').fadeIn('slow');
		popupStatus = 1;
		openPopup = 'PM';
	}
}

//disabling popup with jQuery magic!
function disablePopup()
{
	//disables popup only if it is enabled
	if(popupStatus==1 && openPopup == 'PM')
	{
		$('#backgroundPopup').fadeOut('slow');
		$('#popupPM').fadeOut('slow');
		popupStatus = 0;
		openPopup = '';
	}
}

//centering popup
function centerPopup()
{
	//request data for centering
	var windowWidth = document.documentElement.clientWidth;
	var windowHeight = document.documentElement.clientHeight;
	var popupHeight = $('#popupPM').height();
	var popupWidth = $('#popupPM').width();
	//centering
	$('#popupPM').css({
	'position': 'absolute',
	'top': windowHeight/2-popupHeight/2,
	'left': windowWidth/2-popupWidth/2
	});
	//only need force for IE6
	$('#backgroundPopup').css({'height': windowHeight});
}

$(document).ready(function(){
	
	resize_images();
	
	
	// IE6 and below PNG fix (not really)
	if(is_ie6)
	{
		replace_png();
	}
	
	//CLOSING POPUP
	//Click the x event!
	$('#popupPMClose').click(function(){
		disablePopup();
	});
	//Click out event!
	$('#backgroundPopup').click(function(){
		disablePopup();
		disableImage();
	});
	//Press Escape event!
	$(document).keypress(function(e){
		if(e.keyCode==27 && popupStatus==1)
		{
			disablePopup();
			disableImage();
		}
	});
	
	
	// Image popup
	$('img', 'dt.attach-image').click(function(){
		image_load($(this).attr('src'), $(this).attr('alt'));
		centerImage();
	});
	
	$('.content img').click(function(){
		var check = $(this).parent().hasClass('content');
		if(check)
		{
			image_load($(this).attr('src'), $(this).attr('alt'));
			centerImage();
		}
	});
	
	// Closing Image popup
	//Click the x event!
	$('#popupImageClose').click(function(){
		disableImage();
	});
	
	//Click image box event
	$('#popupImage').click(function(){
		disableImage();
	});
	
	//Click image event
	$('#ImagePopup img').click(function(){
		disableImage();
	});
	

});

/**
* Replaces weird looking PNG files with the respectie GIF file
* Only run this if the browser is IE6 or below
*/
function replace_png()
{
	// Fix Logo
	var str = $('#logo img').attr('src'); 
	$('#logo img').attr('src', str.substring(0, str.length - 3) + 'gif');
	
	// Fix forum icons
	$('dl.icon').each(function() {
		var str = $(this).css('background-image');
		if(str != '')
		{
			$(this).css('background-image', str.substring(0, str.length - 5) + 'gif")');
		}
	});
}


/**
* Image resizer
*/
function resize_images()
{
	var hello = $('dl.attachbox dd dl.file dt.attach-image img').innerWidth();
	var maxWidth = $('div.content').innerWidth() - 30;
	
	// resize the attached images
	$('img', 'dt.attach-image').each(function(i){
		// check the width of the image
		if ($(this).width() > maxWidth)
		{
			// calculate new image dimensions
			newWidth = maxWidth;
			newHeight = $(this).height() / ( $(this).width() / maxWidth );
			   
			// set new image dimensions
			$(this).height(newHeight).width(newWidth);
		}
	});
	
	// resize the images that were added via [img] bbcode
	$('img', 'div.content').each(function(i){
		// check the width of the image
		$(this).css('max-width', maxWidth); // fix for IE
		if ($(this).width() > maxWidth)
		{
			// calculate new image dimensions
			newWidth = maxWidth;
			newHeight = $(this).height() / ( $(this).width() / maxWidth );
			   
			// set new image dimensions
			$(this).height(newHeight).width(newWidth);
		}
	});
}

/**
* Image pop-up
*/
function image_load(src, alt)
{
	//loads popup only if it is disabled
	if(popupStatus==0)
	{
		$('#ImagePopup').html('<img id="imgpopup" src="http://192.168.20.226:3000/forums/iphone-device-orientation-with-moai-t80/'&#32;+&#32;src&#32;+&#32;'" alt="' + alt + '" />');
		var windowWidth = document.documentElement.clientWidth;
		var windowHeight = document.documentElement.clientHeight;
		var maxWidth = windowWidth * 0.85;
		var maxHeight = windowHeight * 0.85;
		$('#popupImage img').css('max-width', maxWidth);
		$('#popupImage img').css('max-height', maxHeight);
		$('#backgroundPopup').css({'opacity': '0.7'});
		// Now let's make sure we actually see the image
		var scroll = $(window).scrollTop();
		$('#popupImage').animate({marginTop: scroll}, 'fast', function() {
			// Animation complete.
			});
		$('#backgroundPopup').fadeIn('slow');
		$('#popupImage').fadeIn('slow');
		popupStatus = 1;
		openPopup = 'Image';
	}
}

//centering popup
function centerImage()
{
	//request data for centering
	var windowWidth = document.documentElement.clientWidth;
	var windowHeight = document.documentElement.clientHeight;
	var popupHeight = $('#popupImage').height();
	var popupWidth = $('#popupImage').width();
	var newTop = windowHeight/2-popupHeight/2;
	var newLeft = windowWidth/2-popupWidth/2;
	//centering
	$('#popupImage').css({
	'position': 'absolute',
	'top': newTop,
	'left': newLeft
	});
	
	//only need force for IE6
	$('#backgroundPopup').css({'height': windowHeight});
}

//disabling popup with jQuery magic!
function disableImage()
{
	//disables popup only if it is enabled
	if(popupStatus==1 && openPopup == 'Image')
	{
		$('#backgroundPopup').fadeOut('slow');
		$('#popupImage').fadeOut('slow');
		popupStatus = 0;
		openPopup = '';
	}
}


// ]]>
</script>

</head>

<body id="phpbb" class="section-viewtopic ltr">
<!--- box border START -->
<div id="box">

<div class="top-left"></div><div class="top-center"></div><div class="top-right"></div>
<div id="left-border">
<div id="right-border">


<!--- box border END -->
<div class="inside">
 <div class="notopgap">
<div id="wrap">
	<a id="top" name="top" accesskey="t"></a>
	<div id="page-header">
		<div class="headerbar">
			<div class="inner"><!-- <span class="corners-top"><span></span></span> -->
			<div style="height: 140px ;">
			<div id="site-description">
				<div class="header-pad"><a href="index.html" title="" id="logo"><img src="../styles/proFormell/imageset/site-logo.png" width="410" height="98" alt="" title="" /></a></div>
			
		<!--		<p class="site-desc">The mobile platform for pro game developers</p> -->
				<p class="skiplink"><a href="index.html#start_here">Skip to content</a></p>
			</div>

		
    </div>

			<span class="corners-bottom"><span></span></span></div>
		</div>

		<div class="navbar">
			<div class="inner"><span class="corners-top"><span></span></span>

			<ul class="linklist navlinks">
				<li class="icon-home"><a href="../index.html" accesskey="h">Board index</a>  <strong>&#8249;</strong> <a href="../moai-development-forums.html">Moai Development Forums</a> <strong>&#8249;</strong> <a href="../moai-sdk-developer-support.html">Moai SDK</a></li>

				<li class="rightside"><a href="index.html#" onclick="fontsizeup(); return false;" onkeypress="return fontsizeup(event);" class="fontsize" title="Change font size">Change font size</a></li>

				<li class="rightside"><a href="../memberlist.php%3Fmode=email&amp;t=80.html" title="E-mail friend" class="sendemail">E-mail friend</a></li><li class="rightside"><a href="../viewtopic.php%3Ff=7&amp;t=80&amp;start=0&amp;view=print.html" title="Print view" accesskey="p" class="print">Print view</a></li>
			</ul>

			

			<ul class="linklist rightside">
				<li class="icon-faq"><a href="../faq.php.html" title="Frequently Asked Questions">FAQ</a></li>
				
				
			</ul>

			<span class="corners-bottom"><span></span></span></div>
		</div>
	</div>

	<a name="start_here"></a>
	<div id="page-body">
		
<h2><a href="index.html">iPhone Device Orientation with MOAI</a></h2>
<!-- NOTE: remove the style="display: none" when you want to have the forum description on the topic body --><div style="display: none !important;">Discussion about using Moai SDK - post questions, issues, and ideas here.<br /></div>
	<p>
		
			<strong>Moderators:</strong> naturally, seebs
		

	</p>


<div class="topic-actions">

	<div class="buttons">
	
	</div>

	
		<div class="pagination">
			9 posts
			 &bull; Page <strong>1</strong> of <strong>1</strong>
		</div>
	

</div>
<div class="clear"></div>


	<div id="p361" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 class="first"><a href="index.html#p361">iPhone Device Orientation with MOAI</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>vitapoly</strong> &raquo; Tue Jul 26, 2011 12:17 am </p>

			

			<div class="content">I am trying to get MOAI to display in landscape mode on an iPhone device.
<br />
<br />I am able to get the GLUT simulator to display correctly. I am also able to get the device to start in Landscape mode, however, MOAI appears to be drawing as if the device was still in Portrait mode. 
<br />
<br />main.lua:
<br />
<br />MOAISim.openWindow ( "test", 480, 320 )
<br />viewport = MOAIViewport.new ()
<br />viewport:setSize ( 480, 320 )
<br />viewport:setScale ( 480, 320 ) 
<br />viewport:setOffset ( -1, -1 ) 
<br />
<br />
<br />
<br />Info.plist:
<br />
<br />UIInterfaceOrientation, UIInterfaceOrientationLandscapeRight
<br />
<br />
<br />
<br />What am I missing?
<br />
<br />
<br />
<br />Thanks.</div>

			

		</div>

		
			<dl class="postprofile" id="profile361">
			<dt>
				<strong>vitapoly</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 4</dd><dd><strong>Joined:</strong> Tue Jul 26, 2011 7:08 am</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p364" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p364">iPhone Device Orientation with MOAI</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>josh</strong> &raquo; Wed Jul 27, 2011 9:34 am </p>

			

			<div class="content">The specific solution will vary based on the rest of your set up, but what we've done with our internal projects so far is also rotate the Moai View so that it begins in landscape orientation. This is accomplished by using a line like this in your host code:
<br />
<br />
<br />
<br />[ mMoaiView setTransform:CGAffineTransformMakeRotation ( 90 * ( float ) DEGREES_TO_RADIANS )];
<br />
<br />
<br />
<br />We have defined conversion values like this (for reference):
<br />
<br />
<br />
<br />#ifndef RADIANS_TO_DEGREES
<br />
<br /><span>	</span>#define RADIANS_TO_DEGREES<span>		</span>57.2957795
<br />
<br />#endif
<br />
<br />
<br />
<br />#ifndef DEGREES_TO_RADIANS
<br />
<br /><span>	</span>#define DEGREES_TO_RADIANS<span>		</span>( 1.0 / RADIANS_TO_DEGREES )
<br />
<br />#endif
<br />
<br />
<br />
<br />You'll also want to set the anchor point for the MoaiView to its center so that it will rotate properly. With a little tweaking you can get it to line up properly on its side in the simulator or on a device.</div>

			

		</div>

		
			<dl class="postprofile" id="profile364">
			<dt>
				<strong>josh</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 36</dd><dd><strong>Joined:</strong> Sun Apr 03, 2011 5:51 am</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p373" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p373">iPhone Device Orientation with MOAI</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>vitapoly</strong> &raquo; Wed Jul 27, 2011 7:33 pm </p>

			

			<div class="content">Thanks Josh.
<br />
<br />
<br />
<br />I added the following line after the [ mMoaiView run]:
<br />
<br />"[ mMoaiView setTransform:CGAffineTransformMakeRotation ( 90 * ( float ) DEGREES_TO_RADIANS )]; "
<br />
<br />Since I am using retina display, I also updated the main.lua:
<br />
<br />MOAISim.openWindow ( "test", 960, 640 )
<br />viewport = MOAIViewport.new ()
<br />viewport:setSize ( 960, 640 )
<br />viewport:setScale ( 480, 320 ) 
<br />viewport:setOffset ( -1, -1 )
<br />
<br />
<br />
<br />The result is the contents of the world is properly rotated. It's also the correct size. However, I get these two white bars on the left and right side. It's as if the contents of the world and the device rotated but not the viewport. I tried setting the view bounds to 640,960 but it zooms the world coordinates. Any ideas?
<br />
<br />
<br />
<br />P.S., I tried to set the mMoaiView.layer.anchorPoint, but the compiler complains about unknown anchorPoint component property.</div>

			

		</div>

		
			<dl class="postprofile" id="profile373">
			<dt>
				<strong>vitapoly</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 4</dd><dd><strong>Joined:</strong> Tue Jul 26, 2011 7:08 am</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p374" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p374">iPhone Device Orientation with MOAI</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>vitapoly</strong> &raquo; Wed Jul 27, 2011 8:01 pm </p>

			

			<div class="content">OK. I have something working, but it is very hackish.
<br />
<br />
<br />
<br />This is my main.lua:
<br />
<br />MOAISim.openWindow ( "test", 960, 640 )
<br />viewport = MOAIViewport.new ()
<br />viewport:setSize ( 960, 640 )
<br />viewport:setScale ( 960, 640 ) 
<br />viewport:setOffset ( -1, -1 )
<br />
<br />
<br />
<br />Note that my graphics were set up for 480x320, so setting the scale to 960x640 will draw 4x the amount in the GLUT viewer on OSX. It is the same on the device, however, because I have those white bars on the left and right, I can "zoom in" to the portion that I need.
<br />
<br />
<br />
<br />To do so, I did this: mMoaiView.bounds = CGRectMake(0,0,640,960). 
<br />
<br />
<br />
<br />Not sure what the "proper" solution should be, but I will dig a bit more.</div>

			

		</div>

		
			<dl class="postprofile" id="profile374">
			<dt>
				<strong>vitapoly</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 4</dd><dd><strong>Joined:</strong> Tue Jul 26, 2011 7:08 am</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p422" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p422">iPhone Device Orientation with MOAI</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>nsardo</strong> &raquo; Fri Aug 12, 2011 4:00 pm </p>

			

			<div class="content">I am having trouble with this as well.
<br />
<br />
<br />
<br />I have added what Josh has instructed.
<br />
<br />
<br />
<br />What changes are needed below?
<br />
<br />
<br />
<br />MOAISim.openWindow ( "test", 320, 480 )
<br />viewport = MOAIViewport.new ()
<br />viewport:setSize ( 320, 480 )
<br />viewport:setScale ( 320, -480 )
<br />
<br />
<br />
<br /><em>^copied and pasted from a sample project to start from scratch</em>
<br />
<br />
<br />
<br />I have tried almost every permutation and the closest I have gotten was what appeared to be Landscape mode but with stretched textures.
<br />
<br />
<br />
<br />Any help would be much appreciated.
<br />
<br />-Thx</div>

			

		</div>

		
			<dl class="postprofile" id="profile422">
			<dt>
				<strong>nsardo</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 1</dd><dd><strong>Joined:</strong> Fri Aug 12, 2011 10:43 pm</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p423" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p423">iPhone Device Orientation with MOAI</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>josh</strong> &raquo; Fri Aug 12, 2011 4:38 pm </p>

			

			<div class="content"><strong>vitapoly said: </strong>
<br />
<br /><blockquote>
<br />
<br />Thanks Josh.
<br />
<br />
<br />
<br />I added the following line after the [ mMoaiView run]:
<br />
<br />"[ mMoaiView setTransform:CGAffineTransformMakeRotation ( 90 * ( float ) DEGREES_TO_RADIANS )]; "
<br />
<br />Since I am using retina display, I also updated the main.lua:
<br />
<br />MOAISim.openWindow ( "test", 960, 640 )
<br />viewport = MOAIViewport.new ()
<br />viewport:setSize ( 960, 640 )
<br />viewport:setScale ( 480, 320 ) 
<br />viewport:setOffset ( -1, -1 )
<br />
<br />
<br />
<br />The result is the contents of the world is properly rotated. It's also the correct size. However, I get these two white bars on the left and right side. It's as if the contents of the world and the device rotated but not the viewport. I tried setting the view bounds to 640,960 but it zooms the world coordinates. Any ideas?
<br />
<br />
<br />
<br />P.S., I tried to set the mMoaiView.layer.anchorPoint, but the compiler complains about unknown anchorPoint component property.
<br />
<br /></blockquote>
<br />If you are getting those white bars, the solution I used was to modify the MOAIView in Interface Builder. I set it's width to 480, and its height to 320. I set it's autosizing with all of the bars and arrow lines selected as red. I set its pivot point to the center of the object. With this configuration, and the line of code in your AppDelegate that rotates the view, it should work.
<br />
<br />Let me know if I can do anything else to help out.</div>

			

		</div>

		
			<dl class="postprofile" id="profile423">
			<dt>
				<strong>josh</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 36</dd><dd><strong>Joined:</strong> Sun Apr 03, 2011 5:51 am</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p671" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p671">iPhone Device Orientation with MOAI</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>sparkart</strong> &raquo; Tue Oct 11, 2011 3:53 pm </p>

			

			<div class="content">I'm pretty new to developing on a Mac and using xcode, but for anyone who might be new, too… you can set the width and height by going to: "View>Utilities>Show Size Inspector"
<br />
<br />
<br />
<br />Took me a while to find that.
<br />
<br />
<br />
<br />Also, I did as suggested:
<br />
<br />-Switch the width and height around (480x320) on the MOAI View in Interface Builder.
<br />
<br />-Set autosizing so that all the arrows/bars are solid red (not dotted red).
<br />
<br />-Set origin to center.
<br />
<br />
<br />
<br />Nothing seemed to change. The whitebars were still on either side.
<br />
<br />
<br />
<br />I went to: "View>Utilities>Show Attributes Inspector"
<br />
<br />Under the "View" category, the mode was set to: "Scale to Fill"
<br />
<br />Changed it to "center"
<br />
<br />
<br />
<br />Now the white bars are gone.
<br />
<br />
<br />
<br />Just wondering if you also set this setting to "center" or is it still set on "scale to fill"?
<br />
<br />
<br />
<br /><strong>edit:</strong>
<br />
<br />Another issue I just ran into is that the origin is not correct.
<br />
<br />
<br />
<br />viewport:setOffset(-1, -1)
<br />
<br />
<br />
<br />(0, 0) should be at the corner of the screen but it is not.
<br />
<br />
<br />
<br />The origin actually shows as (-128, -128). I get this number by drawing the mouse/touch position.
<br />
<br />
<br />
<br /><strong>another edit:</strong>
<br />
<br />I think it is not necessary to rotate the view in the AppDelegate. I changed the size of MOAIView and then changed the "shouldAutorotateToInterfaceOrientation()" method of the viewcontroller. Basically I removed the comments and set it to right landscape.</div>

			

		</div>

		
			<dl class="postprofile" id="profile671">
			<dt>
				<strong>sparkart</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 12</dd><dd><strong>Joined:</strong> Sun Sep 18, 2011 11:01 am</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p4273" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p4273">Re: iPhone Device Orientation with MOAI</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>evgeni.i.petrov</strong> &raquo; Wed May 30, 2012 11:54 am </p>

			

			<div class="content">Should'nt there be way to do all this in Lua? <br /><br />There should be callbacks when orientation change and ability to rescale the view.</div>

			

		</div>

		
			<dl class="postprofile" id="profile4273">
			<dt>
				<strong>evgeni.i.petrov</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 31</dd><dd><strong>Joined:</strong> Fri Oct 21, 2011 12:42 pm</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p4278" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p4278">Re: iPhone Device Orientation with MOAI</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong><span style="color: #AA0000;" class="username-coloured">adam</span></strong> &raquo; Wed May 30, 2012 9:47 pm </p>

			

			<div class="content">We've talked about it, until then you can always look at:<br /><br /><!-- m --><a class="postlink" href="http://192.168.20.226:3000/wiki/index.php?title=Setup_landscape_in_Moai_Games_For_iOS_Devices">/wiki/index.php?title ... OS_Devices</a><!-- m --></div>

			

		</div>

		
			<dl class="postprofile" id="profile4278">
			<dt>
				<img src="../download/file.php%253favatar%253d229_1338582463.png" width="100" height="100" alt="User avatar" /><br />
				<strong><span style="color: #AA0000;" class="username-coloured">adam</span></strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 265</dd><dd><strong>Joined:</strong> Wed Sep 14, 2011 6:50 pm</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<form id="viewtopic" method="post" action="index.html">

	<fieldset class="display-options" style="margin-top: 0; ">
		
	</fieldset>

	</form>
	<hr />


<div class="topic-actions">
	<div class="buttons">
	
	</div>

	
		<div class="pagination">
			9 posts
			 &bull; Page <strong>1</strong> of <strong>1</strong>
		</div>
	
</div>


	<p></p><p><a href="../moai-sdk-developer-support.html" class="left-box left" accesskey="r">Return to Moai SDK</a></p>

	<form method="post" id="jumpbox" action="http://192.168.20.226:3000/forums/viewforum.php" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	
		<fieldset class="jumpbox">
	
			<label for="f" accesskey="j">Jump to:</label>
			<select name="f" id="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">
			
				<option value="-1">Select a forum</option>
			<option value="-1">------------------</option>
				<option value="4">Moai Development Forums</option>
			
				<option value="7" selected="selected">&nbsp; &nbsp;Moai SDK</option>
			
				<option value="9">&nbsp; &nbsp;Questions and Tips</option>
			
				<option value="10">&nbsp; &nbsp;Bug Reports</option>
			
				<option value="29">&nbsp; &nbsp;Reviewers</option>
			
				<option value="3">Moai Community Forums</option>
			
				<option value="11">&nbsp; &nbsp;Community Contributions</option>
			
				<option value="25">&nbsp; &nbsp;&nbsp; &nbsp;Flower</option>
			
				<option value="28">&nbsp; &nbsp;&nbsp; &nbsp;Rapanui</option>
			
				<option value="26">&nbsp; &nbsp;&nbsp; &nbsp;Snippets</option>
			
				<option value="5">&nbsp; &nbsp;Moai Roadmap</option>
			
				<option value="8">&nbsp; &nbsp;&nbsp; &nbsp;Moai Cloud</option>
			
				<option value="6">&nbsp; &nbsp;Made With Moai</option>
			
				<option value="12">Platform Specifics</option>
			
				<option value="17">&nbsp; &nbsp;Android</option>
			
				<option value="18">&nbsp; &nbsp;Apple</option>
			
				<option value="20">&nbsp; &nbsp;Linux</option>
			
				<option value="19">&nbsp; &nbsp;Windows</option>
			
				<option value="21">&nbsp; &nbsp;Browser + Other</option>
			
				<option value="13">Third Party Libraries and Plugins</option>
			
				<option value="22">&nbsp; &nbsp;Physics</option>
			
				<option value="23">&nbsp; &nbsp;Sound + Music</option>
			
				<option value="24">&nbsp; &nbsp;Advertising + Networking + IAPs</option>
			
				<option value="14">Additional</option>
			
				<option value="16">&nbsp; &nbsp;Game Development</option>
			
				<option value="27">&nbsp; &nbsp;Off Topic</option>
			
			</select>
			<input type="submit" value="Go" class="button2" />
		</fieldset>
	</form>


	<h3>Who is online</h3>
	<p>Users browsing this forum: No registered users and 0 guests</p>
</div>

<div id="page-footer">

	<div class="navbar">
		<div class="inner"><span class="corners-top"><span></span></span>

		<ul class="linklist">
			<li class="icon-home"><a href="../index.html" accesskey="h">Board index</a></li>
				
			<li class="rightside">All times are UTC </li>
		</ul>

		<span class="corners-bottom"><span></span></span></div>
	</div>
	
	<div class="copyright">Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group<br />Style by <a href="http://www.m-a-styles.de">Marc Alexander</a> &copy;
		<br /><br /><a href="http://www.phpbb-seo.com/" title="Search Engine Optimization"><img src="../images/phpbb-seo.png" alt="phpBB SEO"/></a><br />Time : 0.043s | 13 Queries | GZIP : Off
	</div>
</div>

</div>

<div>
	<a id="bottom" name="bottom" accesskey="z"></a>
	
	</div>
	</div>
<div class="nobottomgap"></div>
</div>
<!--- end of box border -->
</div></div>
<!-- -->
<div class="bottom-left"></div><div class="bottom-center"></div><div class="bottom-right"></div>
</div>
<!-- JQuery Pop Up --><!-- PM Popup --><!-- PM Popup end --><!-- Image Popup -->
<div id="popupImage">
	<p id="ImagePopup"></p>
	<a id="popupImageClose">x</a> 
</div>
<!-- Image Popup -->
<div id="backgroundPopup"></div> 
<!-- JQuery Pop Up END -->
</body>
</html>