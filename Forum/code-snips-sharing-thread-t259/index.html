<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>Moai Forum &bull; View topic - Code snips sharing thread</title>

<link rel="alternate" type="application/atom+xml" title="Feed - Moai Forum" href="../feed.php.html" /><link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="../feed.php%3Fmode=forums.html" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="../feed.php%3Fmode=topics.html" /><link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="../feed.php%3Fmode=topics_active.html" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - Moai SDK" href="../feed.php%3Ff=7.html" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - Code snips sharing thread" href="../feed.php%3Ff=7&amp;t=259.html" />

<!--
	phpBB style name: proFormell
	Based on style:   prosilver (this is the default phpBB3 style)
	Inspired by:	  Formell (Joomla Style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:  	  Marc Alexander
	
	NOTE: This page was generated by phpBB, the free open-source bulletin board package.
	      The phpBB Group is not responsible for the content of this page and forum. For more information
	      about phpBB please visit http://www.phpbb.com
-->

<script type="text/javascript">
// <![CDATA[
	var jump_page = 'Enter the page number you wish to go to:';
	var on_page = '1';
	var per_page = '';
	var base_url = '';
	var style_cookie = 'phpBBstyle';
	var style_cookie_settings = '; path=/';
	var onload_functions = new Array();
	var onunload_functions = new Array();
	var is_ie6 = false;

	/**
	* Find a member
	*/
	function find_username(url)
	{
		popup(url, 760, 570, '_usersearch');
		return false;
	}

	/**
	* New function for handling multiple calls to window.onload and window.unload by pentapenguin
	*/
	window.onload = function()
	{
		for (var i = 0; i < onload_functions.length; i++)
		{
			eval(onload_functions[i]);
		}
	}

	window.onunload = function()
	{
		for (var i = 0; i < onunload_functions.length; i++)
		{
			eval(onunload_functions[i]);
		}
	}

// ]]>
</script>
<!--[if lt IE 7]>
<script type="text/javascript">
// <![CDATA[
var is_ie6 = true;
// ]]>
</script>
<![endif]-->


<link href="../styles/proFormell/theme/print.css" rel="stylesheet" type="text/css" media="print" title="printonly" />

<link href="../style.css" rel="stylesheet" type="text/css" media="screen, projection" />



<link href="../styles/proFormell/theme/images/favicon.ico" rel="shortcut icon" />

<script type="text/javascript" src="../styles/prosilver/template/forum_fn.js"></script>
<script src="../styles/prosilver/template/jquery-1.4.4.min.js" type="text/javascript"></script>

<script type="text/javascript">
// <![CDATA[
/**
* New pop-up functions
* based on  http://yensdesign.com/2008/09/how-to-create-a-stunning-and-smooth-popup-using-jquery/
*/

//SETTING UP OUR POPUP
//0 means disabled; 1 means enabled;
var popupStatus = 0;
var openPopup = '';

//loading popup with jQuery magic!
function loadPopup()
{
	//loads popup only if it is disabled
	if(popupStatus==0)
	{
		$('#backgroundPopup').css({'opacity': '0.7'});
		// Now let's make sure we actually see the image
		var scroll = $(window).scrollTop();
		$('#popupPM').animate({marginTop: scroll}, 'fast', function() {
			// Animation complete.
			});
		$('#backgroundPopup').fadeIn('slow');
		$('#popupPM').fadeIn('slow');
		popupStatus = 1;
		openPopup = 'PM';
	}
}

//disabling popup with jQuery magic!
function disablePopup()
{
	//disables popup only if it is enabled
	if(popupStatus==1 && openPopup == 'PM')
	{
		$('#backgroundPopup').fadeOut('slow');
		$('#popupPM').fadeOut('slow');
		popupStatus = 0;
		openPopup = '';
	}
}

//centering popup
function centerPopup()
{
	//request data for centering
	var windowWidth = document.documentElement.clientWidth;
	var windowHeight = document.documentElement.clientHeight;
	var popupHeight = $('#popupPM').height();
	var popupWidth = $('#popupPM').width();
	//centering
	$('#popupPM').css({
	'position': 'absolute',
	'top': windowHeight/2-popupHeight/2,
	'left': windowWidth/2-popupWidth/2
	});
	//only need force for IE6
	$('#backgroundPopup').css({'height': windowHeight});
}

$(document).ready(function(){
	
	resize_images();
	
	
	// IE6 and below PNG fix (not really)
	if(is_ie6)
	{
		replace_png();
	}
	
	//CLOSING POPUP
	//Click the x event!
	$('#popupPMClose').click(function(){
		disablePopup();
	});
	//Click out event!
	$('#backgroundPopup').click(function(){
		disablePopup();
		disableImage();
	});
	//Press Escape event!
	$(document).keypress(function(e){
		if(e.keyCode==27 && popupStatus==1)
		{
			disablePopup();
			disableImage();
		}
	});
	
	
	// Image popup
	$('img', 'dt.attach-image').click(function(){
		image_load($(this).attr('src'), $(this).attr('alt'));
		centerImage();
	});
	
	$('.content img').click(function(){
		var check = $(this).parent().hasClass('content');
		if(check)
		{
			image_load($(this).attr('src'), $(this).attr('alt'));
			centerImage();
		}
	});
	
	// Closing Image popup
	//Click the x event!
	$('#popupImageClose').click(function(){
		disableImage();
	});
	
	//Click image box event
	$('#popupImage').click(function(){
		disableImage();
	});
	
	//Click image event
	$('#ImagePopup img').click(function(){
		disableImage();
	});
	

});

/**
* Replaces weird looking PNG files with the respectie GIF file
* Only run this if the browser is IE6 or below
*/
function replace_png()
{
	// Fix Logo
	var str = $('#logo img').attr('src'); 
	$('#logo img').attr('src', str.substring(0, str.length - 3) + 'gif');
	
	// Fix forum icons
	$('dl.icon').each(function() {
		var str = $(this).css('background-image');
		if(str != '')
		{
			$(this).css('background-image', str.substring(0, str.length - 5) + 'gif")');
		}
	});
}


/**
* Image resizer
*/
function resize_images()
{
	var hello = $('dl.attachbox dd dl.file dt.attach-image img').innerWidth();
	var maxWidth = $('div.content').innerWidth() - 30;
	
	// resize the attached images
	$('img', 'dt.attach-image').each(function(i){
		// check the width of the image
		if ($(this).width() > maxWidth)
		{
			// calculate new image dimensions
			newWidth = maxWidth;
			newHeight = $(this).height() / ( $(this).width() / maxWidth );
			   
			// set new image dimensions
			$(this).height(newHeight).width(newWidth);
		}
	});
	
	// resize the images that were added via [img] bbcode
	$('img', 'div.content').each(function(i){
		// check the width of the image
		$(this).css('max-width', maxWidth); // fix for IE
		if ($(this).width() > maxWidth)
		{
			// calculate new image dimensions
			newWidth = maxWidth;
			newHeight = $(this).height() / ( $(this).width() / maxWidth );
			   
			// set new image dimensions
			$(this).height(newHeight).width(newWidth);
		}
	});
}

/**
* Image pop-up
*/
function image_load(src, alt)
{
	//loads popup only if it is disabled
	if(popupStatus==0)
	{
		$('#ImagePopup').html('<img id="imgpopup" src="http://192.168.20.226:3000/forums/code-snips-sharing-thread-t259/'&#32;+&#32;src&#32;+&#32;'" alt="' + alt + '" />');
		var windowWidth = document.documentElement.clientWidth;
		var windowHeight = document.documentElement.clientHeight;
		var maxWidth = windowWidth * 0.85;
		var maxHeight = windowHeight * 0.85;
		$('#popupImage img').css('max-width', maxWidth);
		$('#popupImage img').css('max-height', maxHeight);
		$('#backgroundPopup').css({'opacity': '0.7'});
		// Now let's make sure we actually see the image
		var scroll = $(window).scrollTop();
		$('#popupImage').animate({marginTop: scroll}, 'fast', function() {
			// Animation complete.
			});
		$('#backgroundPopup').fadeIn('slow');
		$('#popupImage').fadeIn('slow');
		popupStatus = 1;
		openPopup = 'Image';
	}
}

//centering popup
function centerImage()
{
	//request data for centering
	var windowWidth = document.documentElement.clientWidth;
	var windowHeight = document.documentElement.clientHeight;
	var popupHeight = $('#popupImage').height();
	var popupWidth = $('#popupImage').width();
	var newTop = windowHeight/2-popupHeight/2;
	var newLeft = windowWidth/2-popupWidth/2;
	//centering
	$('#popupImage').css({
	'position': 'absolute',
	'top': newTop,
	'left': newLeft
	});
	
	//only need force for IE6
	$('#backgroundPopup').css({'height': windowHeight});
}

//disabling popup with jQuery magic!
function disableImage()
{
	//disables popup only if it is enabled
	if(popupStatus==1 && openPopup == 'Image')
	{
		$('#backgroundPopup').fadeOut('slow');
		$('#popupImage').fadeOut('slow');
		popupStatus = 0;
		openPopup = '';
	}
}


// ]]>
</script>

</head>

<body id="phpbb" class="section-viewtopic ltr">
<!--- box border START -->
<div id="box">

<div class="top-left"></div><div class="top-center"></div><div class="top-right"></div>
<div id="left-border">
<div id="right-border">


<!--- box border END -->
<div class="inside">
 <div class="notopgap">
<div id="wrap">
	<a id="top" name="top" accesskey="t"></a>
	<div id="page-header">
		<div class="headerbar">
			<div class="inner"><!-- <span class="corners-top"><span></span></span> -->
			<div style="height: 140px ;">
			<div id="site-description">
				<div class="header-pad"><a href="index.html" title="" id="logo"><img src="../styles/proFormell/imageset/site-logo.png" width="410" height="98" alt="" title="" /></a></div>
			
		<!--		<p class="site-desc">The mobile platform for pro game developers</p> -->
				<p class="skiplink"><a href="index.html#start_here">Skip to content</a></p>
			</div>

		
    </div>

			<span class="corners-bottom"><span></span></span></div>
		</div>

		<div class="navbar">
			<div class="inner"><span class="corners-top"><span></span></span>

			<ul class="linklist navlinks">
				<li class="icon-home"><a href="../index.html" accesskey="h">Board index</a>  <strong>&#8249;</strong> <a href="../moai-development-forums.html">Moai Development Forums</a> <strong>&#8249;</strong> <a href="../moai-sdk-developer-support.html">Moai SDK</a></li>

				<li class="rightside"><a href="index.html#" onclick="fontsizeup(); return false;" onkeypress="return fontsizeup(event);" class="fontsize" title="Change font size">Change font size</a></li>

				<li class="rightside"><a href="../memberlist.php%3Fmode=email&amp;t=259.html" title="E-mail friend" class="sendemail">E-mail friend</a></li><li class="rightside"><a href="../viewtopic.php%3Ff=7&amp;t=259&amp;start=0&amp;view=print.html" title="Print view" accesskey="p" class="print">Print view</a></li>
			</ul>

			

			<ul class="linklist rightside">
				<li class="icon-faq"><a href="../faq.php.html" title="Frequently Asked Questions">FAQ</a></li>
				
				
			</ul>

			<span class="corners-bottom"><span></span></span></div>
		</div>
	</div>

	<a name="start_here"></a>
	<div id="page-body">
		
<h2><a href="index.html">Code snips sharing thread</a></h2>
<!-- NOTE: remove the style="display: none" when you want to have the forum description on the topic body --><div style="display: none !important;">Discussion about using Moai SDK - post questions, issues, and ideas here.<br /></div>
	<p>
		
			<strong>Moderators:</strong> naturally, seebs
		

	</p>


<div class="topic-actions">

	<div class="buttons">
	
	</div>

	
		<div class="pagination">
			20 posts
			 &bull; Page <strong>1</strong> of <strong>1</strong>
		</div>
	

</div>
<div class="clear"></div>


	<div id="p1212" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 class="first"><a href="index.html#p1212">Code snips sharing thread</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>mikea</strong> &raquo; Mon Dec 12, 2011 3:30 pm </p>

			

			<div class="content">We had a great request today to create a place where Moai developers can ask for a sample code snip for a problem they're working on, or share their own samples with the Moai community.  This is the fastest way to start that process, so please feel free to post two kinds of articles here:
<br />
<br />1) Sample code to share and discuss: e.g. "here's how I'm handling isometric tiles and rendering z-order right now."
<br />
<br />2) Please help request: e.g. "I'm not sure what will make for a good way to handle collision detection with >100 objects in the scene. Anyone else dealing with this situation and have a code sample to share?"
<br />
<br />Happy coding.</div>

			

		</div>

		
			<dl class="postprofile" id="profile1212">
			<dt>
				<strong>mikea</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 34</dd><dd><strong>Joined:</strong> Fri Mar 25, 2011 8:12 pm</dd><dd><strong>Location:</strong> Seattle, WA</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p1218" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p1218">Code snips sharing thread</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>gromina</strong> &raquo; Tue Dec 13, 2011 12:34 am </p>

			

			<div class="content">@mikea thanks for snippets section
<br />
<br />
<br />
<br />I need help with (un)binding props to each other:
<br />
<br />
<br />
<br />Let's say we have <strong>flag</strong> prop and <strong>vehicle</strong> prop. vehicle is moving so do <strong>flag.</strong> At some moment we want to bind <strong>flag</strong> to <strong>vehicle</strong>. And later we unbinding <strong>flag</strong>
<br />
<br />so steps needed - 
<br />
<br />binding:
<br />
<br /><ol>
<br /><li>convert <strong>flag's</strong> transform into <strong>vehicle</strong> model space (worldToModel for position, but what about rotation and scale?)</li>
<br /><li>bind <strong>flag</strong> to <strong>vehicle</strong> (all clear, just use setAttrLink)</li>
<br /></ol>
<br />then to unbind:
<br />
<br /><ol>
<br /><li>convert <strong>flag's</strong> local coordinates into world space (looks like getWorldDir/Loc will work fine)</li>
<br /><li>unbind (use clearAttrLink here )</li>
<br /></ol>
<br />So actually my question is - what is the proper way to convert Prop's rotation/scale into other Prop's model space? <img src="http://192.168.20.226:3000/wp-content/forum-smileys/sf-smile.gif" alt="Smile" /></div>

			

		</div>

		
			<dl class="postprofile" id="profile1218">
			<dt>
				<img src="http://www.gravatar.com/avatar/56f089bd46fcd441bf56ebf2421d3060.png" width="70" height="70" alt="User avatar" /><br />
				<strong>gromina</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 32</dd><dd><strong>Joined:</strong> Mon Nov 28, 2011 6:34 pm</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p1223" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p1223">Code snips sharing thread</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>gromina</strong> &raquo; Tue Dec 13, 2011 11:25 am </p>

			

			<div class="content"><strong>binding/unbinding Prop2D to Box2DBody.</strong>
<br />
<br />
<br />
<br />Finally got it working but used all my magic skills<img src="http://192.168.20.226:3000/wp-content/forum-smileys/sf-laugh.gif" alt="Laugh" />
<br />
<br />
<br />
<br /><a href="http://pastebin.com/3cY9W8C8" target="_blank">http://pastebin.com/3cY9W8C8</a>
<br />
<br />
<br />
<br />Have you got any ideas where that magic come from? Are there better solutions? Pity, I couldn't use worldToModel since Box2D has no that method.
<br />
<br />
<br />
<br />P.S. How to embed source code directly into forum?</div>

			

		</div>

		
			<dl class="postprofile" id="profile1223">
			<dt>
				<img src="http://www.gravatar.com/avatar/56f089bd46fcd441bf56ebf2421d3060.png" width="70" height="70" alt="User avatar" /><br />
				<strong>gromina</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 32</dd><dd><strong>Joined:</strong> Mon Nov 28, 2011 6:34 pm</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p1231" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p1231">Code snips sharing thread</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong><span style="color: #AA0000;" class="username-coloured">patrick</span></strong> &raquo; Wed Dec 14, 2011 12:42 am </p>

			

			<div class="content">Haven't had time to look into why the magic works.
<br />
<br />To handle generalized bind/unbind I'd need to expose shear. You can wind up with a situation where a child transform gets rotated and scaled by its parent, then rotates itself again. When you unbind you can get a funky sheared transform. (More specifically: any rotation is a shear derived from the given angle.)
<br />
<br />To handle things properly I'd need to store the shear instead of the rotation. I could continue to model rotation as a virtual attribute, but the 'what do you mean?' problem then arises when you go to get the rotation for a transform.
<br />
<br />Let me ponder it a bit more and see what it would take to either handle the generalized case or give you a better workaround.</div>

			

		</div>

		
			<dl class="postprofile" id="profile1231">
			<dt>
				<img src="http://www.gravatar.com/avatar/3f2c5c26c628e4b5500d87c737c60015?s=120.jpg" width="120" height="120" alt="User avatar" /><br />
				<strong><span style="color: #AA0000;" class="username-coloured">patrick</span></strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 653</dd><dd><strong>Joined:</strong> Sun Apr 03, 2011 5:50 am</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p1277" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p1277">Code snips sharing thread</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>develop</strong> &raquo; Fri Dec 16, 2011 7:40 am </p>

			

			<div class="content">Here's our reference implementation of a very basic scene manager:
<br />
<br /><a href="https://github.com/reflare/Moai-Libraries/tree/master/scene" rel="nofollow" target="_blank">https://github.com/reflare/Moai-Libraries/tree/master/scene</a></div>

			

		</div>

		
			<dl class="postprofile" id="profile1277">
			<dt>
				<strong>develop</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 14</dd><dd><strong>Joined:</strong> Wed Dec 14, 2011 11:30 am</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p1309" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p1309">Code snips sharing thread</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>bonozogames</strong> &raquo; Sat Dec 17, 2011 2:14 pm </p>

			

			<div class="content">I actually believe for Code Snippets, a Wiki would work better, or here in the forum, where each problem can have it's own thread.  To combine multiple issues in one thread could make it too long to be practical, and with multiple issues going on could even be hard to follow.  It may eventually stop growing, and it will just sit pinned on the top, over-powering new and bumped posts.  Just feedback, the Moai Team is top-notch!</div>

			

		</div>

		
			<dl class="postprofile" id="profile1309">
			<dt>
				<img src="http://192.168.20.226:3000/forums/download/file.php?avatar=282_1327341093.png" width="120" height="120" alt="User avatar" /><br />
				<strong>bonozogames</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 170</dd><dd><strong>Joined:</strong> Sun Nov 06, 2011 4:17 am</dd><dd><strong>Location:</strong> Tulsa, OK</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p1311" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p1311">Code snips sharing thread</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>gromina</strong> &raquo; Sun Dec 18, 2011 1:11 am </p>

			

			<div class="content">I'm sure when they'll got time to answer previous questions, they then port this thread to wiki :)
<br />
<br />
<br />
<br />At the same time, here is new snippet:
<br />
<br />
<br />
<br /><a href="http://pastebin.com/A6iWQ9tK" target="_blank">http://pastebin.com/A6iWQ9tK</a>
<br />
<br />
<br />
<br />maybe it'll help someone. It compiles lua files using moai SDK itself (so you're sure lua version is the same)</div>

			

		</div>

		
			<dl class="postprofile" id="profile1311">
			<dt>
				<img src="http://www.gravatar.com/avatar/56f089bd46fcd441bf56ebf2421d3060.png" width="70" height="70" alt="User avatar" /><br />
				<strong>gromina</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 32</dd><dd><strong>Joined:</strong> Mon Nov 28, 2011 6:34 pm</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p1315" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p1315">Code snips sharing thread</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>anddrewscott</strong> &raquo; Mon Dec 19, 2011 3:18 am </p>

			

			<div class="content"><a href="http://192.168.20.226:3000/wiki/Code_snips" target="_blank">/wiki/Code_snips</a></div>

			

		</div>

		
			<dl class="postprofile" id="profile1315">
			<dt>
				<strong>anddrewscott</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 153</dd><dd><strong>Joined:</strong> Fri Sep 02, 2011 2:39 pm</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p1318" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p1318">Code snips sharing thread</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>gromina</strong> &raquo; Mon Dec 19, 2011 5:16 am </p>

			

			<div class="content">Is it possible to make same login/password for forum and wiki?</div>

			

		</div>

		
			<dl class="postprofile" id="profile1318">
			<dt>
				<img src="http://www.gravatar.com/avatar/56f089bd46fcd441bf56ebf2421d3060.png" width="70" height="70" alt="User avatar" /><br />
				<strong>gromina</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 32</dd><dd><strong>Joined:</strong> Mon Nov 28, 2011 6:34 pm</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p1340" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p1340">Code snips sharing thread</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>milleniummike</strong> &raquo; Tue Dec 20, 2011 2:48 am </p>

			

			<div class="content">I agree.. having a forum and wiki with different user details is confusing.
<br />
<br />
<br />
<br />In fact I can't work out how to get a user account on the wiki? It isn't linked to the wordpress forum and there is no option to sign up for an account..... <a href="http://192.168.20.226:3000/forums/code-snips-sharing-thread-t259/UserLogin/signup" target="_blank">/wiki/Specia.....gin/signup</a>
<br />
<br />
<br />
<br />In an ideal world there would be 1 forum with the ability to store documentation and code (ie syntax aware) posts (not using pastebin)
<br />
<br />
<br />
<br />In the meantime I'll keep dropping any useful "gems" or code snippets into pastebin and reference them from this forum.
<br />
<br />
<br />
<br />Maybe it makes sense to create a "Code Snippet" section under "Moai Development Forums" for the purpose?</div>

			

		</div>

		
			<dl class="postprofile" id="profile1340">
			<dt>
				<strong>milleniummike</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 51</dd><dd><strong>Joined:</strong> Mon Dec 05, 2011 9:26 am</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p1352" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p1352">Code snips sharing thread</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>mikea</strong> &raquo; Wed Dec 21, 2011 12:11 pm </p>

			

			<div class="content">Thanks for the thoughts.  Our goal is to get to a single OpenID login for everything on getmoai.com.  We're in progress on a new web site architecture right now.
<br />
<br />Mike.</div>

			

		</div>

		
			<dl class="postprofile" id="profile1352">
			<dt>
				<strong>mikea</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 34</dd><dd><strong>Joined:</strong> Fri Mar 25, 2011 8:12 pm</dd><dd><strong>Location:</strong> Seattle, WA</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p1415" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p1415">Code snips sharing thread</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>bonozogames</strong> &raquo; Tue Dec 27, 2011 2:38 pm </p>

			

			<div class="content">@andrew, how were you able to edit the Wiki?  I was unable to create an account:
<br />
<br /><blockquote>
<br />You do not have permission to create this user account, for the following reason:
<br />The action you have requested is limited to users in the group: <a class="new" title="Moai Wiki:Administrators (page does not exist)" href="http://192.168.20.226:3000/forums/code-snips-sharing-thread-t259/Administrators&amp;action=edit&amp;redlink=1" target="_blank">Administrators</a>.
<br />
<br /></blockquote></div>

			

		</div>

		
			<dl class="postprofile" id="profile1415">
			<dt>
				<img src="http://192.168.20.226:3000/forums/download/file.php?avatar=282_1327341093.png" width="120" height="120" alt="User avatar" /><br />
				<strong>bonozogames</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 170</dd><dd><strong>Joined:</strong> Sun Nov 06, 2011 4:17 am</dd><dd><strong>Location:</strong> Tulsa, OK</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p1418" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p1418">Code snips sharing thread</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>anddrewscott</strong> &raquo; Tue Dec 27, 2011 3:21 pm </p>

			

			<div class="content">Send an email to:
<br />
<br />mike at ziplinegames dot com
<br />
<br /> or 
<br />
<br />getmoai at getmoai dot com
<br />
<br />
<br />
<br />and ask for an account</div>

			

		</div>

		
			<dl class="postprofile" id="profile1418">
			<dt>
				<strong>anddrewscott</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 153</dd><dd><strong>Joined:</strong> Fri Sep 02, 2011 2:39 pm</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p1438" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p1438">Code snips sharing thread</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>gromina</strong> &raquo; Wed Dec 28, 2011 12:21 am </p>

			

			<div class="content">Need sample and/or tutorial on how to run compiled lua code.
<br />
<br />
<br />
<br />Still need explanation on props (un)binding (upper this thread)
<br />
<br />
<br />
<br /><img src="http://192.168.20.226:3000/wp-content/forum-smileys/sf-wink.gif" alt="Wink" />
<br />
<br />P.S. This forum have not so many people, guess it is reasonable to make wiki registration open (or open+approval from administrators) This SDK is hardly lacking documentation</div>

			

		</div>

		
			<dl class="postprofile" id="profile1438">
			<dt>
				<img src="http://www.gravatar.com/avatar/56f089bd46fcd441bf56ebf2421d3060.png" width="70" height="70" alt="User avatar" /><br />
				<strong>gromina</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 32</dd><dd><strong>Joined:</strong> Mon Nov 28, 2011 6:34 pm</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p1460" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p1460">Code snips sharing thread</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong><span style="color: #AA0000;" class="username-coloured">patrick</span></strong> &raquo; Wed Dec 28, 2011 6:19 pm </p>

			

			<div class="content">@gromina I haven't forgotten - just swamped. I have a note to look into a more generalized transformation bind/unbind in my todo list; will revisit the issue then. Is your workaround OK for now, or are you blocked on this?</div>

			

		</div>

		
			<dl class="postprofile" id="profile1460">
			<dt>
				<img src="http://www.gravatar.com/avatar/3f2c5c26c628e4b5500d87c737c60015?s=120.jpg" width="120" height="120" alt="User avatar" /><br />
				<strong><span style="color: #AA0000;" class="username-coloured">patrick</span></strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 653</dd><dd><strong>Joined:</strong> Sun Apr 03, 2011 5:50 am</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p1483" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p1483">Code snips sharing thread</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>gromina</strong> &raquo; Thu Dec 29, 2011 8:33 am </p>

			

			<div class="content">It is not a blocker for me at all. I'm fine with current code.
<br />
<br />Lua compilation pipeline is higher priority for now for me.</div>

			

		</div>

		
			<dl class="postprofile" id="profile1483">
			<dt>
				<img src="http://www.gravatar.com/avatar/56f089bd46fcd441bf56ebf2421d3060.png" width="70" height="70" alt="User avatar" /><br />
				<strong>gromina</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 32</dd><dd><strong>Joined:</strong> Mon Nov 28, 2011 6:34 pm</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p1484" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p1484">Code snips sharing thread</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>bonozogames</strong> &raquo; Thu Dec 29, 2011 9:10 am </p>

			

			<div class="content">I can look into this, I have quite a bit of lua experience.  But before I begin, what is the issue now when (1) you compile and (2) execute the compiled code?</div>

			

		</div>

		
			<dl class="postprofile" id="profile1484">
			<dt>
				<img src="http://192.168.20.226:3000/forums/download/file.php?avatar=282_1327341093.png" width="120" height="120" alt="User avatar" /><br />
				<strong>bonozogames</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 170</dd><dd><strong>Joined:</strong> Sun Nov 06, 2011 4:17 am</dd><dd><strong>Location:</strong> Tulsa, OK</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p1485" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p1485">Code snips sharing thread</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>gromina</strong> &raquo; Thu Dec 29, 2011 9:33 am </p>

			

			<div class="content"> I'm not so confident with lua. And because of this simply can't catch the pipeline.
<br />
<br />
<br />
<br />1. I develop using pure lua code
<br />
<br />2. at some moment i should compile sources and pack the release project. 
<br />
<br />
<br />
<br />Optimal Scheme is just compiling without changing code and removing *.lua
<br />
<br />But it seems 'require' do not work with compiled code and i need to make 'dofile' instead. Correct me if I'm wrong</div>

			

		</div>

		
			<dl class="postprofile" id="profile1485">
			<dt>
				<img src="http://www.gravatar.com/avatar/56f089bd46fcd441bf56ebf2421d3060.png" width="70" height="70" alt="User avatar" /><br />
				<strong>gromina</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 32</dd><dd><strong>Joined:</strong> Mon Nov 28, 2011 6:34 pm</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p1486" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p1486">Code snips sharing thread</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>bonozogames</strong> &raquo; Thu Dec 29, 2011 10:53 am </p>

			

			<div class="content"><strong>Compiling Moai Lua Example:</strong>
<br />
<br />1) Install <a href="http://code.google.com/p/luaforwindows/downloads/list" target="_blank">lua5.1.4-45</a>
<br />2) At top of main.lua:
<br />
<br /><blockquote>
<br />
<br />package.path = "?<strong>.luo</strong>"
<br />
<br />require ( "util" )
<br />require ( "game" )
<br />
<br />…
<br />
<br /></blockquote>
<br />3) Compile each .lua with "lua -o <em>filename</em><strong>.luo</strong> <em>filename</em>.lua"
<br />4) "del *.lua", for this <em>test.</em>
<br />5) Execute run.bat with .luo:
<br />
<br /><blockquote>
<br />
<br />. . / . . / . . / . . /bin/win32/moai.exe ". . / . . / . . /config/config.lua" "main<strong>.luo</strong>" 
<br />
<br /></blockquote>
<br />
<br />
<br /><strong>NOTES:</strong>
<br />
<br />1) Use "require", <em>not </em>"dofile"
<br />2) Do <em>not </em>use an extension in the require (ex. "util", not "util.lua")
<br />3) The trick here is setting "package.path".  Often people use ".[backslash]?.luo" instead (may need 2 backslashes for string)
<br />4) I prefer <strong>.luo</strong> over <strong>.luac</strong>, but .luac in all places of .luo, will work.
<br />5) I ran this on Win32 only (i.e. not iOS)
<br />6) Your <a href="http://pastebin.com/A6iWQ9tK" target="_blank">recursive compiling script</a> looks awesome, but I did not try it, in this first attempt.  I may actually give it a whirl.
<br />7) Though this step-by-step shows only 2+ requires, my actual test project had <strong>15</strong>, all sharing globals. (i.e. a good test)
<br />8) Section <a href="http://www.lua.org/manual/5.1/manual.html" target="_blank">5.3 Modules</a> explains in detail.  You may not want to use such a brute force package.path setting if you require other modules, etc. 
<br />9) I did not review the need to compile ". . / . . / . . /config/config.lua"
<br />10) Set package.path to "?.<strong>lua</strong>;?.<strong>luo</strong>" to support script and compiled (i.e. development)
<br />11) This forum editor has issues with 2 dots and backslashes, so do not copy/paste any without fixing-up. </div>

			

		</div>

		
			<dl class="postprofile" id="profile1486">
			<dt>
				<img src="http://192.168.20.226:3000/forums/download/file.php?avatar=282_1327341093.png" width="120" height="120" alt="User avatar" /><br />
				<strong>bonozogames</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 170</dd><dd><strong>Joined:</strong> Sun Nov 06, 2011 4:17 am</dd><dd><strong>Location:</strong> Tulsa, OK</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p1487" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p1487">Code snips sharing thread</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>gromina</strong> &raquo; Thu Dec 29, 2011 11:33 am </p>

			

			<div class="content">@bonzo thanks a lot for your detailed post. It is a real useful snippet!
<br />
<br />I'll try this in a week or two. </div>

			

		</div>

		
			<dl class="postprofile" id="profile1487">
			<dt>
				<img src="http://www.gravatar.com/avatar/56f089bd46fcd441bf56ebf2421d3060.png" width="70" height="70" alt="User avatar" /><br />
				<strong>gromina</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 32</dd><dd><strong>Joined:</strong> Mon Nov 28, 2011 6:34 pm</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<form id="viewtopic" method="post" action="index.html">

	<fieldset class="display-options" style="margin-top: 0; ">
		
	</fieldset>

	</form>
	<hr />


<div class="topic-actions">
	<div class="buttons">
	
	</div>

	
		<div class="pagination">
			20 posts
			 &bull; Page <strong>1</strong> of <strong>1</strong>
		</div>
	
</div>


	<p></p><p><a href="../moai-sdk-developer-support.html" class="left-box left" accesskey="r">Return to Moai SDK</a></p>

	<form method="post" id="jumpbox" action="http://192.168.20.226:3000/forums/viewforum.php" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	
		<fieldset class="jumpbox">
	
			<label for="f" accesskey="j">Jump to:</label>
			<select name="f" id="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">
			
				<option value="-1">Select a forum</option>
			<option value="-1">------------------</option>
				<option value="4">Moai Development Forums</option>
			
				<option value="7" selected="selected">&nbsp; &nbsp;Moai SDK</option>
			
				<option value="9">&nbsp; &nbsp;Questions and Tips</option>
			
				<option value="10">&nbsp; &nbsp;Bug Reports</option>
			
				<option value="29">&nbsp; &nbsp;Reviewers</option>
			
				<option value="3">Moai Community Forums</option>
			
				<option value="11">&nbsp; &nbsp;Community Contributions</option>
			
				<option value="25">&nbsp; &nbsp;&nbsp; &nbsp;Flower</option>
			
				<option value="28">&nbsp; &nbsp;&nbsp; &nbsp;Rapanui</option>
			
				<option value="26">&nbsp; &nbsp;&nbsp; &nbsp;Snippets</option>
			
				<option value="5">&nbsp; &nbsp;Moai Roadmap</option>
			
				<option value="8">&nbsp; &nbsp;&nbsp; &nbsp;Moai Cloud</option>
			
				<option value="6">&nbsp; &nbsp;Made With Moai</option>
			
				<option value="12">Platform Specifics</option>
			
				<option value="17">&nbsp; &nbsp;Android</option>
			
				<option value="18">&nbsp; &nbsp;Apple</option>
			
				<option value="20">&nbsp; &nbsp;Linux</option>
			
				<option value="19">&nbsp; &nbsp;Windows</option>
			
				<option value="21">&nbsp; &nbsp;Browser + Other</option>
			
				<option value="13">Third Party Libraries and Plugins</option>
			
				<option value="22">&nbsp; &nbsp;Physics</option>
			
				<option value="23">&nbsp; &nbsp;Sound + Music</option>
			
				<option value="24">&nbsp; &nbsp;Advertising + Networking + IAPs</option>
			
				<option value="14">Additional</option>
			
				<option value="16">&nbsp; &nbsp;Game Development</option>
			
				<option value="27">&nbsp; &nbsp;Off Topic</option>
			
			</select>
			<input type="submit" value="Go" class="button2" />
		</fieldset>
	</form>


	<h3>Who is online</h3>
	<p>Users browsing this forum: No registered users and 0 guests</p>
</div>

<div id="page-footer">

	<div class="navbar">
		<div class="inner"><span class="corners-top"><span></span></span>

		<ul class="linklist">
			<li class="icon-home"><a href="../index.html" accesskey="h">Board index</a></li>
				
			<li class="rightside">All times are UTC </li>
		</ul>

		<span class="corners-bottom"><span></span></span></div>
	</div>
	
	<div class="copyright">Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group<br />Style by <a href="http://www.m-a-styles.de">Marc Alexander</a> &copy;
		<br /><br /><a href="http://www.phpbb-seo.com/" title="Search Engine Optimization"><img src="../images/phpbb-seo.png" alt="phpBB SEO"/></a><br />Time : 0.047s | 11 Queries | GZIP : Off
	</div>
</div>

</div>

<div>
	<a id="bottom" name="bottom" accesskey="z"></a>
	
	</div>
	</div>
<div class="nobottomgap"></div>
</div>
<!--- end of box border -->
</div></div>
<!-- -->
<div class="bottom-left"></div><div class="bottom-center"></div><div class="bottom-right"></div>
</div>
<!-- JQuery Pop Up --><!-- PM Popup --><!-- PM Popup end --><!-- Image Popup -->
<div id="popupImage">
	<p id="ImagePopup"></p>
	<a id="popupImageClose">x</a> 
</div>
<!-- Image Popup -->
<div id="backgroundPopup"></div> 
<!-- JQuery Pop Up END -->
</body>
</html>