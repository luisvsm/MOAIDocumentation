<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://192.168.20.226:3000/forums/feed.php?f=10&amp;t=479&amp;mode" />

<title>Moai Forum</title>
<subtitle>The mobile platform for pro game developers</subtitle>
<link href="http://192.168.20.226:3000/forums/index.php" />
<updated>2012-02-08T21:51:22+00:00</updated>

<author><name><![CDATA[Moai Forum]]></name></author>
<id>/forums/feed.php?f=10&amp;t=479&amp;mode</id>
<entry>
<author><name><![CDATA[patrick]]></name></author>
<updated>2012-02-08T21:51:22+00:00</updated>
<published>2012-02-08T21:51:22+00:00</published>
<id>/forums/viewtopic.php?t=479&amp;p=2242#p2242</id>
<link href="http://192.168.20.226:3000/forums/viewtopic.php?t=479&amp;p=2242#p2242"/>
<title type="html"><![CDATA[Re: Transform on unrelated Prop2D affecting TextBox]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=479&amp;p=2242#p2242"><![CDATA[
Thanks! Will check this out. Sounds like a glitch in our matrix caching.<p>Statistics: Posted by <a href="http://192.168.20.226:3000/forums/memberlist.php?mode=viewprofile&amp;u=107">patrick</a> — Wed Feb 08, 2012 9:51 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Mud]]></name></author>
<updated>2012-02-06T16:29:40+00:00</updated>
<published>2012-02-06T16:29:40+00:00</published>
<id>/forums/viewtopic.php?t=479&amp;p=2200#p2200</id>
<link href="http://192.168.20.226:3000/forums/viewtopic.php?t=479&amp;p=2200#p2200"/>
<title type="html"><![CDATA[Transform on unrelated Prop2D affecting TextBox]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=479&amp;p=2200#p2200"><![CDATA[
Having a bizarre issue where setting a transform on an unrelated Prop2D is affecting a TextBox in the same layer.<br /><br />The code below exhibits the problem. If you comment out line 44 (which sets the transform), the problem goes away. Even stranger, if you instead comment out both the setPriority  lines (line 24 and 40), the problem also goes away. <br /><br />Tested under Windows and iOS. Seeing it in both. <a href="http://tetzfiles.com/temp/MoaiIssue1/PropTransformBug.zip" class="postlink">Source.</a><br /><br /><dl class="codebox"><dt>Code: </dt><dd><code style="line-height: 30%;"><ol class="lua" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">local</span> x<span style="color: #66cc66;">,</span> y<span style="color: #66cc66;">,</span> width<span style="color: #66cc66;">,</span> height <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">0</span><span style="color: #66cc66;">,</span><span style="color: #cc66cc;">0</span><span style="color: #66cc66;">,</span><span style="color: #cc66cc;">400</span><span style="color: #66cc66;">,</span><span style="color: #cc66cc;">300</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">local</span> cx<span style="color: #66cc66;">,</span> cy <span style="color: #66cc66;">=</span> width<span style="color: #66cc66;">/</span><span style="color: #cc66cc;">2</span><span style="color: #66cc66;">,</span> height<span style="color: #66cc66;">/</span><span style="color: #cc66cc;">2</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">MOAISim<span style="color: #66cc66;">.</span>openWindow<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;TetzTest&quot;</span><span style="color: #66cc66;">,</span> width<span style="color: #66cc66;">,</span> height<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">local</span> viewport <span style="color: #66cc66;">=</span> MOAIViewport<span style="color: #66cc66;">.</span>new<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">viewport<span style="color: #66cc66;">:</span>setSize<span style="color: #66cc66;">&#40;</span>width<span style="color: #66cc66;">,</span> height<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">viewport<span style="color: #66cc66;">:</span>setScale<span style="color: #66cc66;">&#40;</span>width<span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span>height<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">viewport<span style="color: #66cc66;">:</span>setOffset<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">local</span> layer <span style="color: #66cc66;">=</span> MOAILayer2D<span style="color: #66cc66;">.</span>new<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">layer<span style="color: #66cc66;">:</span>setViewport<span style="color: #66cc66;">&#40;</span>viewport<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">MOAISim<span style="color: #66cc66;">.</span>pushRenderPass<span style="color: #66cc66;">&#40;</span>layer<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">local</span> charcodes <span style="color: #66cc66;">=</span> <span style="color: #ff6666;">'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789 .,:;!?()&amp;/-'</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">local</span> font <span style="color: #66cc66;">=</span> MOAIFont<span style="color: #66cc66;">.</span>new<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">font<span style="color: #66cc66;">:</span>loadFromTTF<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">'arial-rounded.TTF'</span><span style="color: #66cc66;">,</span> charcodes<span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">7.5</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">163</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">local</span> textbox <span style="color: #66cc66;">=</span> MOAITextBox<span style="color: #66cc66;">.</span>new<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">textbox<span style="color: #66cc66;">:</span>setFont<span style="color: #66cc66;">&#40;</span>font<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">textbox<span style="color: #66cc66;">:</span>setRect<span style="color: #66cc66;">&#40;</span>x<span style="color: #66cc66;">,</span> y<span style="color: #66cc66;">,</span> width<span style="color: #66cc66;">,</span> height<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">textbox<span style="color: #66cc66;">:</span>setUVTransform<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">textbox<span style="color: #66cc66;">:</span>setTextSize<span style="color: #66cc66;">&#40;</span>font<span style="color: #66cc66;">:</span>getScale<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">textbox<span style="color: #66cc66;">:</span>setPriority<span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">layer<span style="color: #66cc66;">:</span>insertProp<span style="color: #66cc66;">&#40;</span>textbox<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">local</span> lines <span style="color: #66cc66;">=</span> charcodes</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">for</span> i<span style="color: #66cc66;">=</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span><span style="color: #cc66cc;">50</span> <span style="color: #aa9900; font-weight: bold;">do</span> lines <span style="color: #66cc66;">=</span> lines <span style="color: #66cc66;">..</span> charcodes <span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">textbox<span style="color: #66cc66;">:</span>setString<span style="color: #66cc66;">&#40;</span>lines<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">local</span> cathead <span style="color: #66cc66;">=</span> MOAITexture<span style="color: #66cc66;">.</span>new<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">cathead<span style="color: #66cc66;">:</span>load<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">'cathead.png'</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">local</span> quad <span style="color: #66cc66;">=</span> MOAIGfxQuad2D<span style="color: #66cc66;">.</span>new<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">quad<span style="color: #66cc66;">:</span>setTexture<span style="color: #66cc66;">&#40;</span>cathead<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">quad<span style="color: #66cc66;">:</span>setRect<span style="color: #66cc66;">&#40;</span>cx<span style="color: #66cc66;">-</span><span style="color: #cc66cc;">64</span><span style="color: #66cc66;">,</span> cy<span style="color: #66cc66;">+</span><span style="color: #cc66cc;">64</span><span style="color: #66cc66;">,</span> cx<span style="color: #66cc66;">+</span><span style="color: #cc66cc;">64</span><span style="color: #66cc66;">,</span> cy<span style="color: #66cc66;">-</span><span style="color: #cc66cc;">64</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">local</span> prop <span style="color: #66cc66;">=</span> MOAIProp2D<span style="color: #66cc66;">.</span>new<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">prop<span style="color: #66cc66;">:</span>setDeck<span style="color: #66cc66;">&#40;</span>quad<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">prop<span style="color: #66cc66;">:</span>setPriority<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">local</span> transform <span style="color: #66cc66;">=</span> MOAITransform<span style="color: #66cc66;">.</span>new<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">transform<span style="color: #66cc66;">:</span>setScl<span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">3</span><span style="color: #66cc66;">,</span><span style="color: #cc66cc;">3</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">prop<span style="color: #66cc66;">:</span>setUVTransform<span style="color: #66cc66;">&#40;</span>transform<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">layer<span style="color: #66cc66;">:</span>insertProp<span style="color: #66cc66;">&#40;</span>prop<span style="color: #66cc66;">&#41;</span></div></li><br /></ol></code></dd></dl><br /><br /><span style="font-weight: bold">Normal</span><br /><img src="http://tetzfiles.com/temp/MoaiIssue1/MoaiRight.png" alt="Image" /> <br /><span style="font-weight: bold">Prop2D Transform Affecting TextBox</span><br /><img src="http://tetzfiles.com/temp/MoaiIssue1/MoaiWrong.png" alt="Image" /><p>Statistics: Posted by <a href="http://192.168.20.226:3000/forums/memberlist.php?mode=viewprofile&amp;u=628">Mud</a> — Mon Feb 06, 2012 4:29 pm</p><hr />
]]></content>
</entry>
</feed>