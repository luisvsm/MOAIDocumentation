<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta name="robots" content="noindex" />

<title>Moai Forum &bull; View topic - MoaiAdmobAndroid - Google Admob for Android plugin</title>

<link href="styles/proFormell/theme/print.css" rel="stylesheet" type="text/css" />
<link type="image/vnd.microsoft.icon" rel="shortcut icon" href="styles/proFormell/theme/images/favicon.ico">
</head>

<body id="phpbb">
<div id="wrap">
	<a id="top" name="top" accesskey="t"></a>

	<div id="page-header">
		<h1>Moai Forum</h1>
		<p>The mobile platform for pro game developers<br /><a href="index.html">/forums/</a></p>

		<h2>MoaiAdmobAndroid - Google Admob for Android plugin</h2>
		<p><a href="moaiadmobandroid-google-admob-for-android-plugin-t3055/index.html">/forums/moaiadmobandroid-google-admob-for-android-plugin-t3055/</a></p>
	</div>

	<div id="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
		
			<div class="post">
				<h3>MoaiAdmobAndroid - Google Admob for Android plugin</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Mon Feb 09, 2015 11:04 pm</strong></div>
				<div class="author">by <strong>Motig</strong></div>
				<div class="content">I've created a plugin that allows you to easily use google admob through lua. <br /><br /><!-- m --><a class="postlink" href="https://github.com/Mattenklopper/MoaiAdmobAndroid">https://github.com/Mattenklopper/MoaiAdmobAndroid</a><!-- m --><br /><br />You can show interstitials and a banner ad. There's currently no way to setup multiple banner ads with diferent settings, just one. Let me know about any issues! Installation steps are in the readme.<br /><br />Functionality overview:<br /><dl class="codebox"><dt>Code: <a href="viewtopic.php%3Ff=11&amp;t=3055&amp;start=0&amp;view=print.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="lua" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #808080; font-style: italic;">--Calling this before any other functions and you will receive test ads. </span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #808080; font-style: italic;">--Do this while testing to prevent accidental clicks which can apparently result in account suspension.</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">MOAIAdmobAndroid<span style="color: #66cc66;">.</span>requestTestAds<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #808080; font-style: italic;">--Start loading a banner ad. On the google admob management page you can specify whether banners should auto refresh or not.</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #808080; font-style: italic;">--There's no harm in calling this while a banner is still loading, if a banner is still loading this will do nothing instead.</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">MOAIAdmobAndroid<span style="color: #66cc66;">.</span>loadBanner<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #808080; font-style: italic;">--Boolean whether your banner is ready or not. If a banner is still loading this will return false. </span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #808080; font-style: italic;">--loadBanner does not cause another banner to load if it's still loading a previous banner.</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #808080; font-style: italic;">--There's no harm in continously checking between your gamestates whether an ad is ready and if not loading one.</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">MOAIAdmobAndroid<span style="color: #66cc66;">.</span>bannerReady<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #808080; font-style: italic;">--Makes the banner visible and unpauses it. On first call this will insert the window.</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">MOAIAdmobAndroid<span style="color: #66cc66;">.</span>showBanner<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #808080; font-style: italic;">--Boolean whether the banner is currently visible.</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">MOAIAdmobAndroid<span style="color: #66cc66;">.</span>bannerVisible<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #808080; font-style: italic;">--Hides banner and pauses it.</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">MOAIAdmobAndroid<span style="color: #66cc66;">.</span>hideBanner<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #808080; font-style: italic;">--If you're using banners call this when exiting your app to properly get rid of the banner adview without a window leaking.</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">MOAIAdmobAndroid<span style="color: #66cc66;">.</span>destroyAdview<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #808080; font-style: italic;">--Start loading an interstitial. Operates the same as loadBanner</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">MOAIAdmobAndroid<span style="color: #66cc66;">.</span>loadInterstitial<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #808080; font-style: italic;">--Same as bannerReady</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">MOAIAdmobAndroid<span style="color: #66cc66;">.</span>interstitialReady<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #808080; font-style: italic;">--Same as banner. You can not close an interstitial, it has to be closed by the user.</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">MOAIAdmobAndroid<span style="color: #66cc66;">.</span>showInterstitial<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #808080; font-style: italic;">--This returns true as long as the interstitial is on screen. If a user presses back button or closes the interstitial this will return false. </span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #808080; font-style: italic;">--I use this to try and prevent accidental clicks while changing gamestates.</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">MOAIAdmobAndroid<span style="color: #66cc66;">.</span>interstitialVisible<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /></ol></code></dd></dl></div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: MoaiAdmobAndroid - Google Admob for Android plugin</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sat Mar 14, 2015 8:44 am</strong></div>
				<div class="author">by <strong>JKON</strong></div>
				<div class="content">- AWESOME, Thanks!<br /><br />// JKON</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: MoaiAdmobAndroid - Google Admob for Android plugin</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sat Mar 14, 2015 11:55 pm</strong></div>
				<div class="author">by <strong>jglascoe</strong></div>
				<div class="content">Typo on line 15 of your CMakeLists.txt (I think):<br /><br />- target_include_directories( moai-admob-android PUBLIC ${MOAI_ADMOB_INCLUDES})<br />+ target_include_directories( moai-admob-android PUBLIC ${MOAI_ADMOB_ANDROID_INCLUDES})</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: MoaiAdmobAndroid - Google Admob for Android plugin</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sun Mar 15, 2015 3:00 am</strong></div>
				<div class="author">by <strong>Motig</strong></div>
				<div class="content">I basically copied someone else's cmake file and just changed out the names, I'm not very experienced with cmake. It's been working fine for me though!</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: MoaiAdmobAndroid - Google Admob for Android plugin</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Tue Mar 17, 2015 7:31 am</strong></div>
				<div class="author">by <strong>jglascoe</strong></div>
				<div class="content">I just want to document what it took for me to get this to work.  This is the first Moai plugin I've used.<br /><br />I got this working following the instructions on the github page.  When following the how-to here <!-- m --><a class="postlink" href="https://github.com/moaiforge/moai-sdk/wiki/Using-Plugins">https://github.com/moaiforge/moai-sdk/w ... ng-Plugins</a><!-- m -->, these are the flags to use (I put the MoaiAdmobAndroid directory in the existing src/moai-plugins dir):<br /><br />-DPLUGIN_MOAI-ADMOB-ANDROID=1<br />-DPLUGIN_DIR=../../src/moai-plugins<br /><br />Additionally, those flags will also need to be added to your build.sh file:<br /><br />-DPLUGIN_MOAI-ADMOB-ANDROID=1 -DPLUGIN_DIR=../../src/moai-plugins \<br /><br />Also worth noting: you can see the new MoaiAdmob project showing up in visual studio, but you can't build it (for windows) in visual studio.  It will only build for android devices (by running build.sh)</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: MoaiAdmobAndroid - Google Admob for Android plugin</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Wed Mar 18, 2015 1:45 am</strong></div>
				<div class="author">by <strong>Motig</strong></div>
				<div class="content">Thanks for posting your findings, I hope the instructions were clear enough! Let me know if you run into any issues or have any questions!</div>
			</div>
			<hr />
		
	</div>

	<div id="page-footer">
		<div class="page-number">All times are UTC <br />Page <strong>1</strong> of <strong>1</strong></div>
		<div class="copyright">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</div>
	</div>
</div>

</body>
</html>