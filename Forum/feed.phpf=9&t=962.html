<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://192.168.20.226:3000/forums/feed.php?f=9&amp;t=962&amp;mode" />

<title>Moai Forum</title>
<subtitle>The mobile platform for pro game developers</subtitle>
<link href="http://192.168.20.226:3000/forums/index.php" />
<updated>2012-12-14T05:41:38+00:00</updated>

<author><name><![CDATA[Moai Forum]]></name></author>
<id>/forums/feed.php?f=9&amp;t=962&amp;mode</id>
<entry>
<author><name><![CDATA[stun]]></name></author>
<updated>2012-12-14T05:41:38+00:00</updated>
<published>2012-12-14T05:41:38+00:00</published>
<id>/forums/viewtopic.php?t=962&amp;p=8026#p8026</id>
<link href="http://192.168.20.226:3000/forums/viewtopic.php?t=962&amp;p=8026#p8026"/>
<title type="html"><![CDATA[Re: Apply force to object each frame]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=962&amp;p=8026#p8026"><![CDATA[
Nobody exposed 'setGravityScale' in MOAI? I find myself wanting to experiment with it so I'll give it a crack and post the results here. Ah, it's trivial. Wonder why it wasn't added initially.<br /><br />MOAIBox2DBody:setGravityScale: <!-- m --><a class="postlink" href="https://github.com/c0d3monk33/moai-dev/commit/9f05cecb49f688cccb2e9704d20370545e123156">https://github.com/c0d3monk33/moai-dev/ ... 545e123156</a><!-- m --><p>Statistics: Posted by <a href="http://192.168.20.226:3000/forums/memberlist.php?mode=viewprofile&amp;u=1009">stun</a> — Fri Dec 14, 2012 5:41 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[stun]]></name></author>
<updated>2012-11-20T18:39:39+00:00</updated>
<published>2012-11-20T18:39:39+00:00</published>
<id>/forums/viewtopic.php?t=962&amp;p=7489#p7489</id>
<link href="http://192.168.20.226:3000/forums/viewtopic.php?t=962&amp;p=7489#p7489"/>
<title type="html"><![CDATA[Re: Apply force to object each frame]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=962&amp;p=7489#p7489"><![CDATA[
Be careful of the units on the various MOAI Box2d functions. I think you'll find applyForce is in Newtons which is kg / m / s squared. Put simply that means the mass of the particular object (MOAIBox2dBody.getMass) is a factor in how much force you want to apply. If you apply a flat -5 force as you have above, heavier objects will 'feel' the effect less than lighter ones (which may be want you want anyway).<br /><br />I'm a newbie too, just writing an asteroids clone in MOAI with a zero g box2d environment and it took me a little while to get to grips with box2d. The official manual is fairly good though, definitely worth reading from start to finish.<br /><br />There are also some simply excellent box2d tutorials on line, like this: <!-- m --><a class="postlink" href="http://www.iforce2d.net/b2dtut/collision-anatomy">http://www.iforce2d.net/b2dtut/collision-anatomy</a><!-- m --><br /><br />In fact the whole <!-- m --><a class="postlink" href="http://www.iforce2d.net">http://www.iforce2d.net</a><!-- m --> website is a treasure trove of excellent box2d tutorials.<p>Statistics: Posted by <a href="http://192.168.20.226:3000/forums/memberlist.php?mode=viewprofile&amp;u=1009">stun</a> — Tue Nov 20, 2012 6:39 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Andre]]></name></author>
<updated>2012-11-20T16:08:12+00:00</updated>
<published>2012-11-20T16:08:12+00:00</published>
<id>/forums/viewtopic.php?t=962&amp;p=7486#p7486</id>
<link href="http://192.168.20.226:3000/forums/viewtopic.php?t=962&amp;p=7486#p7486"/>
<title type="html"><![CDATA[Re: Apply force to object each frame]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=962&amp;p=7486#p7486"><![CDATA[
Seems to have worked, not sure if I'm doing it the most efficient way!<br /><br />Here is a snippet that demonstrates setting gravity to 0, causing objects to float by default and then apply force to those you want gravity to affect.<br /><br />It's also possible to turn it around, and set gravity on by default and then applying force to the objects you want floating, but it might be difficult to work out exactly how much force is needed. I did it as a test with gravity -10 and the force +5 with the same code below, and the body slowly drifts upwards. Perhaps the coroutine is not called exactly each step?<br /><br /><dl class="codebox"><dt>Code: </dt><dd><code style="line-height: 30%;"><ol class="lua" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">MOAISim<span style="color: #66cc66;">.</span>openWindow <span style="color: #66cc66;">&#40;</span> <span style="color: #ff6666;">&quot;test&quot;</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">640</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">480</span> <span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">viewport <span style="color: #66cc66;">=</span> MOAIViewport<span style="color: #66cc66;">.</span>new <span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">viewport<span style="color: #66cc66;">:</span>setSize <span style="color: #66cc66;">&#40;</span> <span style="color: #cc66cc;">640</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">480</span> <span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">viewport<span style="color: #66cc66;">:</span>setScale <span style="color: #66cc66;">&#40;</span> <span style="color: #cc66cc;">16</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">0</span> <span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">layer <span style="color: #66cc66;">=</span> MOAILayer2D<span style="color: #66cc66;">.</span>new <span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">layer<span style="color: #66cc66;">:</span>setViewport <span style="color: #66cc66;">&#40;</span> viewport <span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">MOAISim<span style="color: #66cc66;">.</span>pushRenderPass <span style="color: #66cc66;">&#40;</span> layer <span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #808080; font-style: italic;">-- set up the world and start its simulation</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">world <span style="color: #66cc66;">=</span> MOAIBox2DWorld<span style="color: #66cc66;">.</span>new <span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">world<span style="color: #66cc66;">:</span>setGravity <span style="color: #66cc66;">&#40;</span> <span style="color: #cc66cc;">0</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">0</span> <span style="color: #66cc66;">&#41;</span> <span style="color: #808080; font-style: italic;">-- Set gravity to zero for floating objects</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">world<span style="color: #66cc66;">:</span>setUnitsToMeters <span style="color: #66cc66;">&#40;</span> <span style="color: #cc66cc;">2</span> <span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">world<span style="color: #66cc66;">:</span>start <span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">layer<span style="color: #66cc66;">:</span>setBox2DWorld <span style="color: #66cc66;">&#40;</span> world <span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #808080; font-style: italic;">-- Add floating body</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">floatBody <span style="color: #66cc66;">=</span> world<span style="color: #66cc66;">:</span>addBody <span style="color: #66cc66;">&#40;</span> MOAIBox2DBody<span style="color: #66cc66;">.</span>DYNAMIC <span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">floatFixture <span style="color: #66cc66;">=</span> floatBody<span style="color: #66cc66;">:</span>addRect <span style="color: #66cc66;">&#40;</span> <span style="color: #cc66cc;">0.5</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">0.5</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1.5</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">0.5</span> <span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">floatFixture<span style="color: #66cc66;">:</span>setDensity <span style="color: #66cc66;">&#40;</span> <span style="color: #cc66cc;">1</span> <span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">floatFixture<span style="color: #66cc66;">:</span>setFriction <span style="color: #66cc66;">&#40;</span> <span style="color: #cc66cc;">0.3</span> <span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">floatFixture<span style="color: #66cc66;">:</span>setFilter <span style="color: #66cc66;">&#40;</span> <span style="color: #cc66cc;">0x01</span> <span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">floatBody<span style="color: #66cc66;">:</span>resetMassData <span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #808080; font-style: italic;">-- Add dropping body</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">dropBody <span style="color: #66cc66;">=</span> world<span style="color: #66cc66;">:</span>addBody <span style="color: #66cc66;">&#40;</span> MOAIBox2DBody<span style="color: #66cc66;">.</span>DYNAMIC <span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">dropFixture <span style="color: #66cc66;">=</span> dropBody<span style="color: #66cc66;">:</span>addRect <span style="color: #66cc66;">&#40;</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1.5</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">0.5</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">0.5</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">0.5</span> <span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">dropFixture<span style="color: #66cc66;">:</span>setDensity <span style="color: #66cc66;">&#40;</span> <span style="color: #cc66cc;">1</span> <span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">dropFixture<span style="color: #66cc66;">:</span>setFriction <span style="color: #66cc66;">&#40;</span> <span style="color: #cc66cc;">0.3</span> <span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">dropFixture<span style="color: #66cc66;">:</span>setFilter <span style="color: #66cc66;">&#40;</span> <span style="color: #cc66cc;">0x01</span> <span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">dropBody<span style="color: #66cc66;">:</span>resetMassData <span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #808080; font-style: italic;">-- Add a ground body</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">groundBody <span style="color: #66cc66;">=</span> world<span style="color: #66cc66;">:</span>addBody <span style="color: #66cc66;">&#40;</span> MOAIBox2DBody<span style="color: #66cc66;">.</span>STATIC <span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">groundFixture <span style="color: #66cc66;">=</span> groundBody<span style="color: #66cc66;">:</span>addRect <span style="color: #66cc66;">&#40;</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">5</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">5</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">5</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">3</span> <span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #808080; font-style: italic;">-- Co routine to apply force</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">mainThread <span style="color: #66cc66;">=</span> MOAICoroutine<span style="color: #66cc66;">.</span>new <span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">mainThread<span style="color: #66cc66;">:</span>run <span style="color: #66cc66;">&#40;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #aa9900; font-weight: bold;">function</span> <span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                <span style="color: #aa9900; font-weight: bold;">while</span> <span style="color: #aa9900;">true</span> <span style="color: #aa9900; font-weight: bold;">do</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                        <span style="color: #0000aa;">coroutine.yield</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                        <span style="color: #808080; font-style: italic;">-- Apply force every frame to dropping body</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                        dropBody<span style="color: #66cc66;">:</span>applyForce<span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">0</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">5</span><span style="color: #66cc66;">,</span> dropBody<span style="color: #66cc66;">:</span>getWorldCenter<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">                <span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /></ol></code></dd></dl><p>Statistics: Posted by <a href="http://192.168.20.226:3000/forums/memberlist.php?mode=viewprofile&amp;u=1183">Andre</a> — Tue Nov 20, 2012 4:08 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[ibisum]]></name></author>
<updated>2012-11-20T14:34:15+00:00</updated>
<published>2012-11-20T14:34:15+00:00</published>
<id>/forums/viewtopic.php?t=962&amp;p=7484#p7484</id>
<link href="http://192.168.20.226:3000/forums/viewtopic.php?t=962&amp;p=7484#p7484"/>
<title type="html"><![CDATA[Re: Apply force to object each frame]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=962&amp;p=7484#p7484"><![CDATA[
Sounds like a plan .. lets hear if you run into any problems with this approach, or also success ..<p>Statistics: Posted by <a href="http://192.168.20.226:3000/forums/memberlist.php?mode=viewprofile&amp;u=262">ibisum</a> — Tue Nov 20, 2012 2:34 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Andre]]></name></author>
<updated>2012-11-20T12:59:56+00:00</updated>
<published>2012-11-20T12:59:56+00:00</published>
<id>/forums/viewtopic.php?t=962&amp;p=7483#p7483</id>
<link href="http://192.168.20.226:3000/forums/viewtopic.php?t=962&amp;p=7483#p7483"/>
<title type="html"><![CDATA[Re: Apply force to object each frame]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=962&amp;p=7483#p7483"><![CDATA[
Thanks, at least I know where to go look now if I want to add that method myself <img src="/forums/images/smilies/icon_e_smile.gif" alt=":)" title="Smile" /><br /><br />For now I'm following your suggestion of applying force every frame in a co-routine. Because I have more floating objects than those that have gravity I'm setting gravity to 0 and apply force to the objects that should not be floating.<p>Statistics: Posted by <a href="http://192.168.20.226:3000/forums/memberlist.php?mode=viewprofile&amp;u=1183">Andre</a> — Tue Nov 20, 2012 12:59 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[ibisum]]></name></author>
<updated>2012-11-19T20:08:26+00:00</updated>
<published>2012-11-19T20:08:26+00:00</published>
<id>/forums/viewtopic.php?t=962&amp;p=7469#p7469</id>
<link href="http://192.168.20.226:3000/forums/viewtopic.php?t=962&amp;p=7469#p7469"/>
<title type="html"><![CDATA[Re: Apply force to object each frame]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=962&amp;p=7469#p7469"><![CDATA[
Yup .. a quick look at moai-dev/src/moaicore/MOAIBox2DBody.[cpp,h] indicates that in fact this method hasn't been exposed through the Lua interface.  Could be a quick hack to add it, though.  <br /><br />However, it looks like &quot;Catch up with Box2D&quot; needs to be on the Zipline agenda ..<p>Statistics: Posted by <a href="http://192.168.20.226:3000/forums/memberlist.php?mode=viewprofile&amp;u=262">ibisum</a> — Mon Nov 19, 2012 8:08 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Andre]]></name></author>
<updated>2012-11-19T19:22:57+00:00</updated>
<published>2012-11-19T19:22:57+00:00</published>
<id>/forums/viewtopic.php?t=962&amp;p=7463#p7463</id>
<link href="http://192.168.20.226:3000/forums/viewtopic.php?t=962&amp;p=7463#p7463"/>
<title type="html"><![CDATA[Re: Apply force to object each frame]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=962&amp;p=7463#p7463"><![CDATA[
<blockquote><div><cite>skaflux wrote:</cite><br />Can someone confirm what version of BOX2D we are using?<br /></div></blockquote><br /><br />In the moai-dev package, under the 3rdparty directory there is a &quot;box2d-2.2.1&quot; directory.<br /><br /><blockquote><div><cite>skaflux wrote:</cite><br />I didn't see SetGravityScale() reference on the SDK documentation page.<br /><br />@Andre: You can try body:setGravityScale(0) to see what happens.<br /></div></blockquote><br /><br />It doesn't work <img src="images/smilies/icon_e_sad.gif" alt=":(" title="Sad" /><br /><br /><dl class="codebox"><dt>Code: </dt><dd><code style="line-height: 30%;"><ol class="text" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">attempt to call method 'setGravityScale' (a nil value)</div></li><br /></ol></code></dd></dl><p>Statistics: Posted by <a href="http://192.168.20.226:3000/forums/memberlist.php?mode=viewprofile&amp;u=1183">Andre</a> — Mon Nov 19, 2012 7:22 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[skaflux]]></name></author>
<updated>2012-11-19T19:03:34+00:00</updated>
<published>2012-11-19T19:03:34+00:00</published>
<id>/forums/viewtopic.php?t=962&amp;p=7462#p7462</id>
<link href="http://192.168.20.226:3000/forums/viewtopic.php?t=962&amp;p=7462#p7462"/>
<title type="html"><![CDATA[Re: Apply force to object each frame]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=962&amp;p=7462#p7462"><![CDATA[
from: <br /><a href="http://www.iforce2d.net/b2dtut/custom-gravity" class="postlink">http://www.iforce2d.net/b2dtut/custom-gravity</a><br /><br />Note: the above is a typical solution for the v2.1.2 release of Box2D used for these tutorials. As of v2.2.1 each body has a 'gravity scale' to strengthen or weaken the effect of the world's gravity on it. This removes the need to manually apply a force every frame. You can set this in the body definition when you create it, or use:<br /><br /><dl class="codebox"><dt>Code: </dt><dd><code style="line-height: 30%;"><ol class="c" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #666666; font-style: italic;">//Box2D v2.2.1 onwards</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">body<span style="color: #339933;">-&gt;</span>SetGravityScale<span style="color: #009900;">&#40;</span><span style="color: #0000dd;">0</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><span style="color: #666666; font-style: italic;">//cancel gravity (use -1 to reverse gravity, etc)</span></div></li><br /></ol></code></dd></dl><br /><br />Can someone confirm what version of BOX2D we are using? <br />I didn't see SetGravityScale() reference on the SDK documentation page.<br /><br />@Andre: You can try body:setGravityScale(0) to see what happens.<p>Statistics: Posted by <a href="http://192.168.20.226:3000/forums/memberlist.php?mode=viewprofile&amp;u=1170">skaflux</a> — Mon Nov 19, 2012 7:03 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Andre]]></name></author>
<updated>2012-11-19T18:25:35+00:00</updated>
<published>2012-11-19T18:25:35+00:00</published>
<id>/forums/viewtopic.php?t=962&amp;p=7459#p7459</id>
<link href="http://192.168.20.226:3000/forums/viewtopic.php?t=962&amp;p=7459#p7459"/>
<title type="html"><![CDATA[Re: Apply force to object each frame]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=962&amp;p=7459#p7459"><![CDATA[
<blockquote><div><cite>ibisum wrote:</cite><br />Use the second arg of setGravity() to set up your gravity so things either sink or float .. a positive number makes things go up, negative go down.  First arg is for horizontal gravitational force, I don't think you'll need that .. <img src="images/smilies/icon_e_wink.gif" alt=";)" title="Wink" /><br /><br />Applying the force?  Use a coroutine in your main thread.<br /></div></blockquote><br /><br />Thanks for the quick response, but I only want to make certain objects float - setting the world gravity will make everything float!<br /><br />The function in Box2D looks like it's intended to do exactly that, you can set the GravityScale per body, to make certain objects react differently to gravity. I just can't seem to figure out how to call that SetGravityScale from Moai.<p>Statistics: Posted by <a href="http://192.168.20.226:3000/forums/memberlist.php?mode=viewprofile&amp;u=1183">Andre</a> — Mon Nov 19, 2012 6:25 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[skaflux]]></name></author>
<updated>2012-11-19T18:16:51+00:00</updated>
<published>2012-11-19T18:16:51+00:00</published>
<id>/forums/viewtopic.php?t=962&amp;p=7458#p7458</id>
<link href="http://192.168.20.226:3000/forums/viewtopic.php?t=962&amp;p=7458#p7458"/>
<title type="html"><![CDATA[Re: Apply force to object each frame]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=962&amp;p=7458#p7458"><![CDATA[
Hello,<br /><br />I'm a noob here but I hope this helps.<br /><br />From RNPhysics.lua, you start the physics world by calling RNPhysics.start()<br /><br /><dl class="codebox"><dt>Code: </dt><dd><code style="line-height: 30%;"><ol class="lua" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #808080; font-style: italic;">--- starts physics simulation</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #808080; font-style: italic;">-- @param value boolean:optional value not available at the moment</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">function</span> RNPhysics<span style="color: #66cc66;">.</span>start<span style="color: #66cc66;">&#40;</span>value<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #aa9900; font-weight: bold;">if</span> value <span style="color: #66cc66;">~=</span> <span style="color: #aa9900;">nil</span> <span style="color: #aa9900; font-weight: bold;">then</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">        <span style="color: #0000aa;">print</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;noSleep not available at the moment&quot;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    <span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    world <span style="color: #66cc66;">=</span> MOAIBox2DWorld<span style="color: #66cc66;">.</span>new<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    world<span style="color: #66cc66;">:</span>setGravity<span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">0</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">10</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    world<span style="color: #66cc66;">:</span>start<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">    world<span style="color: #66cc66;">:</span>setUnitsToMeters<span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">0.06</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /></ol></code></dd></dl><br /><br />So at any point after that you can change the gravity by doing<br /><br /><dl class="codebox"><dt>Code: </dt><dd><code style="line-height: 30%;"><ol class="lua" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">world<span style="color: #66cc66;">:</span>setGravity<span style="color: #66cc66;">&#40;</span>gravityX<span style="color: #66cc66;">,</span>gravityY<span style="color: #66cc66;">&#41;</span></div></li><br /></ol></code></dd></dl><br /><br />As you can see by default the gravity is set to 10 which is close to the 9.86 Earth's gravity.<p>Statistics: Posted by <a href="http://192.168.20.226:3000/forums/memberlist.php?mode=viewprofile&amp;u=1170">skaflux</a> — Mon Nov 19, 2012 6:16 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[ibisum]]></name></author>
<updated>2012-11-19T18:11:53+00:00</updated>
<published>2012-11-19T18:11:53+00:00</published>
<id>/forums/viewtopic.php?t=962&amp;p=7457#p7457</id>
<link href="http://192.168.20.226:3000/forums/viewtopic.php?t=962&amp;p=7457#p7457"/>
<title type="html"><![CDATA[Re: Apply force to object each frame]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=962&amp;p=7457#p7457"><![CDATA[
Use the second arg of setGravity() to set up your gravity so things either sink or float .. a positive number makes things go up, negative go down.  First arg is for horizontal gravitational force, I don't think you'll need that .. <img src="/forums/images/smilies/icon_e_wink.gif" alt=";)" title="Wink" /><br /><br />Applying the force?  Use a coroutine in your main thread.<p>Statistics: Posted by <a href="http://192.168.20.226:3000/forums/memberlist.php?mode=viewprofile&amp;u=262">ibisum</a> — Mon Nov 19, 2012 6:11 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Andre]]></name></author>
<updated>2012-11-19T16:18:51+00:00</updated>
<published>2012-11-19T16:18:51+00:00</published>
<id>/forums/viewtopic.php?t=962&amp;p=7455#p7455</id>
<link href="http://192.168.20.226:3000/forums/viewtopic.php?t=962&amp;p=7455#p7455"/>
<title type="html"><![CDATA[Re: Apply force to object each frame]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=962&amp;p=7455#p7455"><![CDATA[
Apologies for reviving this somewhat old post, but I'm trying to do something similar (create floating or lighter than air objects).<br /><br />I see in the Box2D documentation there is a function to do this: (<!-- m --><a class="postlink" href="http://www.box2d.org/manual.html">http://www.box2d.org/manual.html</a><!-- m -->)<br /><br /><dl class="codebox"><dt>Code: </dt><dd><code style="line-height: 30%;"><ol class="" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">// Set the gravity scale to zero so this body will float</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">bodyDef.gravityScale = 0.0f;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"> </div></li><br /></ol></code></dd></dl><br /><br />How do you do this in Moai though? It doesn't look like this variable is exposed in the Moai API. Failing this, I want to use the method described in the other posts above, applying a force every Box2D simulation tick. Where would be the best place to do that?<p>Statistics: Posted by <a href="http://192.168.20.226:3000/forums/memberlist.php?mode=viewprofile&amp;u=1183">Andre</a> — Mon Nov 19, 2012 4:18 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[ibisum]]></name></author>
<updated>2012-07-05T08:35:12+00:00</updated>
<published>2012-07-05T08:35:12+00:00</published>
<id>/forums/viewtopic.php?t=962&amp;p=5164#p5164</id>
<link href="http://192.168.20.226:3000/forums/viewtopic.php?t=962&amp;p=5164#p5164"/>
<title type="html"><![CDATA[Re: Apply force to object each frame]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=962&amp;p=5164#p5164"><![CDATA[
Its not that new, but its not that obvious where the Docs are online, either.<br /><br />I yearn for a return to the days when the HTML docs could be generated automatically from the git repo.<p>Statistics: Posted by <a href="http://192.168.20.226:3000/forums/memberlist.php?mode=viewprofile&amp;u=262">ibisum</a> — Thu Jul 05, 2012 8:35 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[BlueByLiquid]]></name></author>
<updated>2012-07-04T19:55:27+00:00</updated>
<published>2012-07-04T19:55:27+00:00</published>
<id>/forums/viewtopic.php?t=962&amp;p=5157#p5157</id>
<link href="http://192.168.20.226:3000/forums/viewtopic.php?t=962&amp;p=5157#p5157"/>
<title type="html"><![CDATA[Re: Apply force to object each frame]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=962&amp;p=5157#p5157"><![CDATA[
No problem ibisum.<br /><br />Thanks for the link to the documentation link. Apparently I need to apologize for asking these basic questions I didn't know their was the class documentation or I would have just looked through that. Is this new? I don't remember seeing it before.<br /><br />Thanks again.<p>Statistics: Posted by <a href="http://192.168.20.226:3000/forums/memberlist.php?mode=viewprofile&amp;u=879">BlueByLiquid</a> — Wed Jul 04, 2012 7:55 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[ibisum]]></name></author>
<updated>2012-07-04T17:14:23+00:00</updated>
<published>2012-07-04T17:14:23+00:00</published>
<id>/forums/viewtopic.php?t=962&amp;p=5154#p5154</id>
<link href="http://192.168.20.226:3000/forums/viewtopic.php?t=962&amp;p=5154#p5154"/>
<title type="html"><![CDATA[Re: Apply force to object each frame]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=962&amp;p=5154#p5154"><![CDATA[
<blockquote class="uncited"><div><br />Oh I didn't know you could set gravity per object.<br /></div></blockquote><br /><br />I don't think you can, I really should have checked before I submitted.. I of course meant Force, not Gravity.<br /><br /><blockquote class="uncited"><div><br />Am I just not seeing an API reference documentation?<br /></div></blockquote><br /><br /><!-- m --><a class="postlink" href="http://192.168.20.226:3000/docs/class_m_o_a_i_box2_d_body.html">/docs/class_m_o_a_i_box2_d_body.html</a><!-- m --><p>Statistics: Posted by <a href="http://192.168.20.226:3000/forums/memberlist.php?mode=viewprofile&amp;u=262">ibisum</a> — Wed Jul 04, 2012 5:14 pm</p><hr />
]]></content>
</entry>
</feed>