<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-gb">
<link rel="self" type="application/atom+xml" href="http://192.168.20.226:3000/forums/feed.php?f=7&amp;t=291&amp;mode" />

<title>Moai Forum | The mobile platform for pro game developers</title>
<subtitle>The mobile platform for pro game developers</subtitle>
<link href="http://192.168.20.226:3000/forums/index.php" />
<updated>2011-12-30T16:44:53+00:00</updated>

<author><name><![CDATA[Moai Forum | The mobile platform for pro game developers]]></name></author>
<id>/forums/feed.php?f=7&amp;t=291&amp;mode</id>
<entry>
<author><name><![CDATA[anddrewscott]]></name></author>
<updated>2011-12-30T16:44:53+00:00</updated>
<published>2011-12-30T16:44:53+00:00</published>
<id>/forums/viewtopic.php?t=291&amp;p=1512#p1512</id>
<link href="http://192.168.20.226:3000/forums/viewtopic.php?t=291&amp;p=1512#p1512"/>
<title type="html"><![CDATA[Alpha not applied with MOAIDraw.]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=291&amp;p=1512#p1512"><![CDATA[
Thank you very much.<p>Statistics: Posted by <a href="http://192.168.20.226:3000/forums/memberlist.php?mode=viewprofile&amp;u=223">anddrewscott</a> — Fri Dec 30, 2011 4:44 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[bonozogames]]></name></author>
<updated>2011-12-30T16:31:32+00:00</updated>
<published>2011-12-30T16:31:32+00:00</published>
<id>/forums/viewtopic.php?t=291&amp;p=1511#p1511</id>
<link href="http://192.168.20.226:3000/forums/viewtopic.php?t=291&amp;p=1511#p1511"/>
<title type="html"><![CDATA[Alpha not applied with MOAIDraw.]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=291&amp;p=1511#p1511"><![CDATA[
(review the <strong><a href="https://github.com/moai/moai-dev/tree/master/samples/basics/scriptDeck" target="_blank">scriptDeck</a> </strong>sample included in the project)<p>Statistics: Posted by <a href="http://192.168.20.226:3000/forums/memberlist.php?mode=viewprofile&amp;u=282">bonozogames</a> — Fri Dec 30, 2011 4:31 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[anddrewscott]]></name></author>
<updated>2011-12-30T16:28:57+00:00</updated>
<published>2011-12-30T16:28:57+00:00</published>
<id>/forums/viewtopic.php?t=291&amp;p=1510#p1510</id>
<link href="http://192.168.20.226:3000/forums/viewtopic.php?t=291&amp;p=1510#p1510"/>
<title type="html"><![CDATA[Alpha not applied with MOAIDraw.]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=291&amp;p=1510#p1510"><![CDATA[
What is MOAIDraw for? Is it vector shapes? <p>Statistics: Posted by <a href="http://192.168.20.226:3000/forums/memberlist.php?mode=viewprofile&amp;u=223">anddrewscott</a> — Fri Dec 30, 2011 4:28 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[bonozogames]]></name></author>
<updated>2011-12-28T18:01:33+00:00</updated>
<published>2011-12-28T18:01:33+00:00</published>
<id>/forums/viewtopic.php?t=291&amp;p=1457#p1457</id>
<link href="http://192.168.20.226:3000/forums/viewtopic.php?t=291&amp;p=1457#p1457"/>
<title type="html"><![CDATA[Alpha not applied with MOAIDraw.]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=291&amp;p=1457#p1457"><![CDATA[
Very good to know, thank you very much.<p>Statistics: Posted by <a href="http://192.168.20.226:3000/forums/memberlist.php?mode=viewprofile&amp;u=282">bonozogames</a> — Wed Dec 28, 2011 6:01 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[patrick]]></name></author>
<updated>2011-12-28T17:54:05+00:00</updated>
<published>2011-12-28T17:54:05+00:00</published>
<id>/forums/viewtopic.php?t=291&amp;p=1456#p1456</id>
<link href="http://192.168.20.226:3000/forums/viewtopic.php?t=291&amp;p=1456#p1456"/>
<title type="html"><![CDATA[Alpha not applied with MOAIDraw.]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=291&amp;p=1456#p1456"><![CDATA[
The MOAIScriptDeck's setRect actually sets the deck's broad phase rectangle for placement in the layer partition and for view culling. It's not intended to be a clipping window or anything - you are free to draw any shape you want inside or outside of the rect. But if you don't have a rect then the partition will treat the object as though it is dimensionless and will put it in the 'empties' list so it will not be returned by any spatial query or get drawn by the layer.<p>Statistics: Posted by <a href="http://192.168.20.226:3000/forums/memberlist.php?mode=viewprofile&amp;u=107">patrick</a> — Wed Dec 28, 2011 5:54 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[bonozogames]]></name></author>
<updated>2011-12-28T13:06:34+00:00</updated>
<published>2011-12-28T13:06:34+00:00</published>
<id>/forums/viewtopic.php?t=291&amp;p=1446#p1446</id>
<link href="http://192.168.20.226:3000/forums/viewtopic.php?t=291&amp;p=1446#p1446"/>
<title type="html"><![CDATA[Alpha not applied with MOAIDraw.]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=291&amp;p=1446#p1446"><![CDATA[
In the "<strong>scriptDeck</strong>" sample, it appears that there is no current need for the <strong>setRect </strong>on the <strong>MOAIScriptDeck</strong>.  The <strong>MOAIDraw</strong> functions do not appear to respect this "window", and draw just as they are instructed; no problem there, just confirming that the line in the sample may be redundant (remove?), or that I am incorrect.<p>Statistics: Posted by <a href="http://192.168.20.226:3000/forums/memberlist.php?mode=viewprofile&amp;u=282">bonozogames</a> — Wed Dec 28, 2011 1:06 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[bonozogames]]></name></author>
<updated>2011-12-27T17:31:15+00:00</updated>
<published>2011-12-27T17:31:15+00:00</published>
<id>/forums/viewtopic.php?t=291&amp;p=1435#p1435</id>
<link href="http://192.168.20.226:3000/forums/viewtopic.php?t=291&amp;p=1435#p1435"/>
<title type="html"><![CDATA[Alpha not applied with MOAIDraw.]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=291&amp;p=1435#p1435"><![CDATA[
If I set the alpha channel of the 3 setPenColor calls in the "scriptDeck" sample to any number less than 1 (ex. 0.0, 0.001, 0.1, 0.5), the lines remain opaque.<br /><br />However, if I add prop:setBlendMode( MOAIProp2D.BLEND_MULTIPLY ) the lines will disappear, no matter what the value of alpha (ex. 0.0, 1.0) (??)<br /><br />The <strong>default </strong><em>appears </em>to be BLEND_NORMAL, which, in this case, <span style="text-decoration: underline">ignores</span> the alpha channel. (?)<br /><br />BLEND_ADD does appear to work as I would expect (the RGB * A is added to the pixel) <p>Statistics: Posted by <a href="http://192.168.20.226:3000/forums/memberlist.php?mode=viewprofile&amp;u=282">bonozogames</a> — Tue Dec 27, 2011 5:31 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[patrick]]></name></author>
<updated>2011-12-27T16:41:31+00:00</updated>
<published>2011-12-27T16:41:31+00:00</published>
<id>/forums/viewtopic.php?t=291&amp;p=1433#p1433</id>
<link href="http://192.168.20.226:3000/forums/viewtopic.php?t=291&amp;p=1433#p1433"/>
<title type="html"><![CDATA[Alpha not applied with MOAIDraw.]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=291&amp;p=1433#p1433"><![CDATA[
It does, but MOAIDraw doesn't expose it right now. One workaround would be to use MOAIMesh with a custom vertex format. That will let you specify per-vertex color and/or uv.<br /><br />I've made a note to beef up MOAIDraw... sounds like a pretty important use case!<p>Statistics: Posted by <a href="http://192.168.20.226:3000/forums/memberlist.php?mode=viewprofile&amp;u=107">patrick</a> — Tue Dec 27, 2011 4:41 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[bonozogames]]></name></author>
<updated>2011-12-27T16:27:57+00:00</updated>
<published>2011-12-27T16:27:57+00:00</published>
<id>/forums/viewtopic.php?t=291&amp;p=1432#p1432</id>
<link href="http://192.168.20.226:3000/forums/viewtopic.php?t=291&amp;p=1432#p1432"/>
<title type="html"><![CDATA[Alpha not applied with MOAIDraw.]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=291&amp;p=1432#p1432"><![CDATA[
Ah.  We use fillRect for "health bars".  One of our games has multiple "resources" (i.e. currently, 6 "bars").  The bars change colors based on their value (gee.. red is low..).  But what we really need, is to be able to set the vertex colors, to have a subtle gradient from, say, red to orange, on the bar.  This is not done so well by scaling a texture...  Any thoughts on setting vertex colors, or "Street Fighter" bars in general (<a href="http://edwardrayes.files.wordpress.com/2011/07/178123-street-fighter-alpha-3-playstation-screenshot-due-to-the-fast1.png" target="_blank">click here for sample</a>)?  Or does iOS not even support that (shows you what I know)<p>Statistics: Posted by <a href="http://192.168.20.226:3000/forums/memberlist.php?mode=viewprofile&amp;u=282">bonozogames</a> — Tue Dec 27, 2011 4:27 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[patrick]]></name></author>
<updated>2011-12-27T16:18:00+00:00</updated>
<published>2011-12-27T16:18:00+00:00</published>
<id>/forums/viewtopic.php?t=291&amp;p=1431#p1431</id>
<link href="http://192.168.20.226:3000/forums/viewtopic.php?t=291&amp;p=1431#p1431"/>
<title type="html"><![CDATA[Alpha not applied with MOAIDraw.]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=291&amp;p=1431#p1431"><![CDATA[
Hmmm. I would need to expose a setBlendMode on MOAIGfxDevice for you. Right now the prop sets the blend mode prior to doing any drawing from the deck... so you would need two props.<br /><br />There's a lot more drawing state (textures, shaders, pipeline transforms, etc.) that could be exposed depending on how far you want to go with immediate mode drawing. What's there now is still pretty preliminary...<br /><br />Let me know if this is mission critical for you and I will prioritize accordingly.<p>Statistics: Posted by <a href="http://192.168.20.226:3000/forums/memberlist.php?mode=viewprofile&amp;u=107">patrick</a> — Tue Dec 27, 2011 4:18 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[bonozogames]]></name></author>
<updated>2011-12-27T16:08:10+00:00</updated>
<published>2011-12-27T16:08:10+00:00</published>
<id>/forums/viewtopic.php?t=291&amp;p=1430#p1430</id>
<link href="http://192.168.20.226:3000/forums/viewtopic.php?t=291&amp;p=1430#p1430"/>
<title type="html"><![CDATA[Alpha not applied with MOAIDraw.]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=291&amp;p=1430#p1430"><![CDATA[
<div><br />Ah, so does this mean to draw 2 rects with different draw modes in one Draw Callback, I would change the prop, that owns the ScriptDeck, to the correct blend mode before <em>each </em>fillRect, in the Draw Callback?  Or would I need 2 different ScriptDecks and Props.<br /><br /><br />Patrick, thank you tremendously for your insights.  Based on the tests and the feedback, I do think I am experiencing an alpha issue, and will look to resolve it and post the results. <br /><br /></div><p>Statistics: Posted by <a href="http://192.168.20.226:3000/forums/memberlist.php?mode=viewprofile&amp;u=282">bonozogames</a> — Tue Dec 27, 2011 4:08 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[patrick]]></name></author>
<updated>2011-12-27T16:02:51+00:00</updated>
<published>2011-12-27T16:02:51+00:00</published>
<id>/forums/viewtopic.php?t=291&amp;p=1429#p1429</id>
<link href="http://192.168.20.226:3000/forums/viewtopic.php?t=291&amp;p=1429#p1429"/>
<title type="html"><![CDATA[Alpha not applied with MOAIDraw.]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=291&amp;p=1429#p1429"><![CDATA[
The blend mode lives in the MOAIProp2D. If I recall correctly, the MOAIDraw samples uses a MOAIScriptDeck with a callback for immediate mode drawing. So you'd just use MOAIProp2D's setBlendMode (). You can pass that one of the presets (MOAIProp2D.BLEND_NORMAL, MOAIProp2D.BLEND_ADD, MOAIProp2D.BLEND_MULTIPLY) or a proper OpenGL blend mode - all the expected OpenGL consts should be exposed through MOAIProp2D.<br /><br />But I'm pretty sure the prop's blend mode defaults to the right one for premultiplied alpha (src = GL_ONE, dst = GL_ONE_MINUS_SRC_ALPHA).<p>Statistics: Posted by <a href="http://192.168.20.226:3000/forums/memberlist.php?mode=viewprofile&amp;u=107">patrick</a> — Tue Dec 27, 2011 4:02 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[bonozogames]]></name></author>
<updated>2011-12-27T15:56:07+00:00</updated>
<published>2011-12-27T15:56:07+00:00</published>
<id>/forums/viewtopic.php?t=291&amp;p=1427#p1427</id>
<link href="http://192.168.20.226:3000/forums/viewtopic.php?t=291&amp;p=1427#p1427"/>
<title type="html"><![CDATA[Alpha not applied with MOAIDraw.]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=291&amp;p=1427#p1427"><![CDATA[
Understood.  How do I set the blend mode for fillRect?<p>Statistics: Posted by <a href="http://192.168.20.226:3000/forums/memberlist.php?mode=viewprofile&amp;u=282">bonozogames</a> — Tue Dec 27, 2011 3:56 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[patrick]]></name></author>
<updated>2011-12-27T15:53:11+00:00</updated>
<published>2011-12-27T15:53:11+00:00</published>
<id>/forums/viewtopic.php?t=291&amp;p=1426#p1426</id>
<link href="http://192.168.20.226:3000/forums/viewtopic.php?t=291&amp;p=1426#p1426"/>
<title type="html"><![CDATA[Alpha not applied with MOAIDraw.]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=291&amp;p=1426#p1426"><![CDATA[
Premultipled alpha just means you multiply the R, G, B components of your color with A. So to get a cyan with 50% opacity you'd do:<br /><br />MOAIGfxDevice.setPenColor ( 0, 0.5, 0.5, 0.5 ) -- 50% transparent cyan<br /><br />Specifying your colors this way (with the proper blending mode) also lets you control the additive quality of a color. So:<br /><br />MOAIGfxDevice.setPenColor ( 0, 1, 1, 1 ) -- opaque<br /><br />MOAIGfxDevice.setPenColor ( 0, 1, 1, 0 ) -- additive<br /><br />Will look identical on a black or dark background, but on a textured background the latter color should appear to be additive whereas the former should appear to be opaque. The difference may be more obvious with darker colors:<br /><br />MOAIGfxDevice.setPenColor ( 0, 0.25, 0.25, 1 ) -- opaque<br /><br />MOAIGfxDevice.setPenColor ( 0, 0.25, 0.25, 0 ) -- additive<p>Statistics: Posted by <a href="http://192.168.20.226:3000/forums/memberlist.php?mode=viewprofile&amp;u=107">patrick</a> — Tue Dec 27, 2011 3:53 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[bonozogames]]></name></author>
<updated>2011-12-27T15:27:23+00:00</updated>
<published>2011-12-27T15:27:23+00:00</published>
<id>/forums/viewtopic.php?t=291&amp;p=1420#p1420</id>
<link href="http://192.168.20.226:3000/forums/viewtopic.php?t=291&amp;p=1420#p1420"/>
<title type="html"><![CDATA[Alpha not applied with MOAIDraw.]]></title>

<content type="html" xml:base="/forums/viewtopic.php?t=291&amp;p=1420#p1420"><![CDATA[
I am a little unclear on how to determine if my test colors are using premultiplied alpha. >doh!<<br />Here is the code:<br /><br /><blockquote><br />MOAIGfxDevice.setPenColor ( 0, 1, 1, 0.5 )<br />MOAIDraw.fillRect ( x1,y1, x2,y2 )<br /><br /></blockquote><br />If I set the Alpha to, for example, 0.001 instead of 0.5, it visually appears the same, i.e. not faint at all, just a little transparency.<br /><br />I can attempt to create a short script file that reproduces the issue.  I wanted to check first to determine if I was not setting a blend mode or such, to get my expected results. <p>Statistics: Posted by <a href="http://192.168.20.226:3000/forums/memberlist.php?mode=viewprofile&amp;u=282">bonozogames</a> — Tue Dec 27, 2011 3:27 pm</p><hr />
]]></content>
</entry>
</feed>