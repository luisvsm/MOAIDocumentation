<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>Moai Forum &bull; View topic - Retina Display Settings Screen Space Quirk</title>

<link rel="alternate" type="application/atom+xml" title="Feed - Moai Forum" href="../feed.php.html" /><link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="../feed.php%3Fmode=forums.html" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="../feed.php%3Fmode=topics.html" /><link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="../feed.php%3Fmode=topics_active.html" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - Moai SDK" href="../feed.php%3Ff=7.html" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - Retina Display Settings Screen Space Quirk" href="../feed.php%3Ff=7&amp;t=48.html" />

<!--
	phpBB style name: proFormell
	Based on style:   prosilver (this is the default phpBB3 style)
	Inspired by:	  Formell (Joomla Style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:  	  Marc Alexander
	
	NOTE: This page was generated by phpBB, the free open-source bulletin board package.
	      The phpBB Group is not responsible for the content of this page and forum. For more information
	      about phpBB please visit http://www.phpbb.com
-->

<script type="text/javascript">
// <![CDATA[
	var jump_page = 'Enter the page number you wish to go to:';
	var on_page = '1';
	var per_page = '20';
	var base_url = '/forums/retina-display-settings-screen-space-quirk-t48/';
	var style_cookie = 'phpBBstyle';
	var style_cookie_settings = '; path=/';
	var onload_functions = new Array();
	var onunload_functions = new Array();
	var is_ie6 = false;

	/**
	* Find a member
	*/
	function find_username(url)
	{
		popup(url, 760, 570, '_usersearch');
		return false;
	}

	/**
	* New function for handling multiple calls to window.onload and window.unload by pentapenguin
	*/
	window.onload = function()
	{
		for (var i = 0; i < onload_functions.length; i++)
		{
			eval(onload_functions[i]);
		}
	}

	window.onunload = function()
	{
		for (var i = 0; i < onunload_functions.length; i++)
		{
			eval(onunload_functions[i]);
		}
	}

// ]]>
</script>
<!--[if lt IE 7]>
<script type="text/javascript">
// <![CDATA[
var is_ie6 = true;
// ]]>
</script>
<![endif]-->


<link href="../styles/proFormell/theme/print.css" rel="stylesheet" type="text/css" media="print" title="printonly" />

<link href="../style.css" rel="stylesheet" type="text/css" media="screen, projection" />



<link href="../styles/proFormell/theme/images/favicon.ico" rel="shortcut icon" />

<script type="text/javascript" src="../styles/prosilver/template/forum_fn.js"></script>
<script src="../styles/prosilver/template/jquery-1.4.4.min.js" type="text/javascript"></script>

<script type="text/javascript">
// <![CDATA[
/**
* New pop-up functions
* based on  http://yensdesign.com/2008/09/how-to-create-a-stunning-and-smooth-popup-using-jquery/
*/

//SETTING UP OUR POPUP
//0 means disabled; 1 means enabled;
var popupStatus = 0;
var openPopup = '';

//loading popup with jQuery magic!
function loadPopup()
{
	//loads popup only if it is disabled
	if(popupStatus==0)
	{
		$('#backgroundPopup').css({'opacity': '0.7'});
		// Now let's make sure we actually see the image
		var scroll = $(window).scrollTop();
		$('#popupPM').animate({marginTop: scroll}, 'fast', function() {
			// Animation complete.
			});
		$('#backgroundPopup').fadeIn('slow');
		$('#popupPM').fadeIn('slow');
		popupStatus = 1;
		openPopup = 'PM';
	}
}

//disabling popup with jQuery magic!
function disablePopup()
{
	//disables popup only if it is enabled
	if(popupStatus==1 && openPopup == 'PM')
	{
		$('#backgroundPopup').fadeOut('slow');
		$('#popupPM').fadeOut('slow');
		popupStatus = 0;
		openPopup = '';
	}
}

//centering popup
function centerPopup()
{
	//request data for centering
	var windowWidth = document.documentElement.clientWidth;
	var windowHeight = document.documentElement.clientHeight;
	var popupHeight = $('#popupPM').height();
	var popupWidth = $('#popupPM').width();
	//centering
	$('#popupPM').css({
	'position': 'absolute',
	'top': windowHeight/2-popupHeight/2,
	'left': windowWidth/2-popupWidth/2
	});
	//only need force for IE6
	$('#backgroundPopup').css({'height': windowHeight});
}

$(document).ready(function(){
	
	resize_images();
	
	
	// IE6 and below PNG fix (not really)
	if(is_ie6)
	{
		replace_png();
	}
	
	//CLOSING POPUP
	//Click the x event!
	$('#popupPMClose').click(function(){
		disablePopup();
	});
	//Click out event!
	$('#backgroundPopup').click(function(){
		disablePopup();
		disableImage();
	});
	//Press Escape event!
	$(document).keypress(function(e){
		if(e.keyCode==27 && popupStatus==1)
		{
			disablePopup();
			disableImage();
		}
	});
	
	
	// Image popup
	$('img', 'dt.attach-image').click(function(){
		image_load($(this).attr('src'), $(this).attr('alt'));
		centerImage();
	});
	
	$('.content img').click(function(){
		var check = $(this).parent().hasClass('content');
		if(check)
		{
			image_load($(this).attr('src'), $(this).attr('alt'));
			centerImage();
		}
	});
	
	// Closing Image popup
	//Click the x event!
	$('#popupImageClose').click(function(){
		disableImage();
	});
	
	//Click image box event
	$('#popupImage').click(function(){
		disableImage();
	});
	
	//Click image event
	$('#ImagePopup img').click(function(){
		disableImage();
	});
	

});

/**
* Replaces weird looking PNG files with the respectie GIF file
* Only run this if the browser is IE6 or below
*/
function replace_png()
{
	// Fix Logo
	var str = $('#logo img').attr('src'); 
	$('#logo img').attr('src', str.substring(0, str.length - 3) + 'gif');
	
	// Fix forum icons
	$('dl.icon').each(function() {
		var str = $(this).css('background-image');
		if(str != '')
		{
			$(this).css('background-image', str.substring(0, str.length - 5) + 'gif")');
		}
	});
}


/**
* Image resizer
*/
function resize_images()
{
	var hello = $('dl.attachbox dd dl.file dt.attach-image img').innerWidth();
	var maxWidth = $('div.content').innerWidth() - 30;
	
	// resize the attached images
	$('img', 'dt.attach-image').each(function(i){
		// check the width of the image
		if ($(this).width() > maxWidth)
		{
			// calculate new image dimensions
			newWidth = maxWidth;
			newHeight = $(this).height() / ( $(this).width() / maxWidth );
			   
			// set new image dimensions
			$(this).height(newHeight).width(newWidth);
		}
	});
	
	// resize the images that were added via [img] bbcode
	$('img', 'div.content').each(function(i){
		// check the width of the image
		$(this).css('max-width', maxWidth); // fix for IE
		if ($(this).width() > maxWidth)
		{
			// calculate new image dimensions
			newWidth = maxWidth;
			newHeight = $(this).height() / ( $(this).width() / maxWidth );
			   
			// set new image dimensions
			$(this).height(newHeight).width(newWidth);
		}
	});
}

/**
* Image pop-up
*/
function image_load(src, alt)
{
	//loads popup only if it is disabled
	if(popupStatus==0)
	{
		$('#ImagePopup').html('<img id="imgpopup" src="http://192.168.20.226:3000/forums/retina-display-settings-screen-space-quirk-t48/'&#32;+&#32;src&#32;+&#32;'" alt="' + alt + '" />');
		var windowWidth = document.documentElement.clientWidth;
		var windowHeight = document.documentElement.clientHeight;
		var maxWidth = windowWidth * 0.85;
		var maxHeight = windowHeight * 0.85;
		$('#popupImage img').css('max-width', maxWidth);
		$('#popupImage img').css('max-height', maxHeight);
		$('#backgroundPopup').css({'opacity': '0.7'});
		// Now let's make sure we actually see the image
		var scroll = $(window).scrollTop();
		$('#popupImage').animate({marginTop: scroll}, 'fast', function() {
			// Animation complete.
			});
		$('#backgroundPopup').fadeIn('slow');
		$('#popupImage').fadeIn('slow');
		popupStatus = 1;
		openPopup = 'Image';
	}
}

//centering popup
function centerImage()
{
	//request data for centering
	var windowWidth = document.documentElement.clientWidth;
	var windowHeight = document.documentElement.clientHeight;
	var popupHeight = $('#popupImage').height();
	var popupWidth = $('#popupImage').width();
	var newTop = windowHeight/2-popupHeight/2;
	var newLeft = windowWidth/2-popupWidth/2;
	//centering
	$('#popupImage').css({
	'position': 'absolute',
	'top': newTop,
	'left': newLeft
	});
	
	//only need force for IE6
	$('#backgroundPopup').css({'height': windowHeight});
}

//disabling popup with jQuery magic!
function disableImage()
{
	//disables popup only if it is enabled
	if(popupStatus==1 && openPopup == 'Image')
	{
		$('#backgroundPopup').fadeOut('slow');
		$('#popupImage').fadeOut('slow');
		popupStatus = 0;
		openPopup = '';
	}
}


// ]]>
</script>

</head>

<body id="phpbb" class="section-viewtopic ltr">
<!--- box border START -->
<div id="box">

<div class="top-left"></div><div class="top-center"></div><div class="top-right"></div>
<div id="left-border">
<div id="right-border">


<!--- box border END -->
<div class="inside">
 <div class="notopgap">
<div id="wrap">
	<a id="top" name="top" accesskey="t"></a>
	<div id="page-header">
		<div class="headerbar">
			<div class="inner"><!-- <span class="corners-top"><span></span></span> -->
			<div style="height: 140px ;">
			<div id="site-description">
				<div class="header-pad"><a href="http://getmoai.com" title="" id="logo"><img src="../styles/proFormell/imageset/site-logo.png" width="410" height="98" alt="" title="" /></a></div>
			
		<!--		<p class="site-desc">The mobile platform for pro game developers</p> -->
				<p class="skiplink"><a href="index.html#start_here">Skip to content</a></p>
			</div>

		
    </div>

			<span class="corners-bottom"><span></span></span></div>
		</div>

		<div class="navbar">
			<div class="inner"><span class="corners-top"><span></span></span>

			<ul class="linklist navlinks">
				<li class="icon-home"><a href="../index.html" accesskey="h">Board index</a>  <strong>&#8249;</strong> <a href="../moai-development-forums.html">Moai Development Forums</a> <strong>&#8249;</strong> <a href="../moai-sdk-developer-support.html">Moai SDK</a></li>

				<li class="rightside"><a href="index.html#" onclick="fontsizeup(); return false;" onkeypress="return fontsizeup(event);" class="fontsize" title="Change font size">Change font size</a></li>

				<li class="rightside"><a href="http://192.168.20.226:3000/forums/memberlist.php?mode=email&amp;t=48" title="E-mail friend" class="sendemail">E-mail friend</a></li><li class="rightside"><a href="http://192.168.20.226:3000/forums/viewtopic.php?f=7&amp;t=48&amp;start=0&amp;view=print" title="Print view" accesskey="p" class="print">Print view</a></li>
			</ul>

			

			<ul class="linklist rightside">
				<li class="icon-faq"><a href="../faq.php.html" title="Frequently Asked Questions">FAQ</a></li>
				
				
			</ul>

			<span class="corners-bottom"><span></span></span></div>
		</div>
	</div>

	<a name="start_here"></a>
	<div id="page-body">
		
<h2><a href="index.html">Retina Display Settings Screen Space Quirk</a></h2>
<!-- NOTE: remove the style="display: none" when you want to have the forum description on the topic body --><div style="display: none !important;">Discussion about using Moai SDK - post questions, issues, and ideas here.<br /></div>
	<p>
		
			<strong>Moderators:</strong> naturally, seebs
		

	</p>


<div class="topic-actions">

	<div class="buttons">
	
	</div>

	
		<div class="pagination">
			39 posts
			 &bull; <a href="index.html#" onclick="jumpto(); return false;" title="Click to jump to page…">Page <strong>1</strong> of <strong>2</strong></a> &bull; <span><strong>1</strong><span class="page-sep">, </span><a href="page20.html">2</a></span>
		</div>
	

</div>
<div class="clear"></div>


	<div id="p160" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 class="first"><a href="index.html#p160">Retina Display Settings Screen Space Quirk</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>dissidently</strong> &raquo; Wed Jun 15, 2011 11:28 pm </p>

			

			<div class="content">Please excuse my ignorance if I've overlooked something really basic here.  Most likely the case.  But I don't know where to look to find the "why" to fix my maladjusted thinking about screen space.
<br />
<br />
<br />
<br />In the samples folder is the very basic gfxQuad2D sample.  It is this:
<br />
<br /><p style="padding-left: 30px"><span style="color: #808080">MOAISim.openWindow ( "test", 320, 480 )</span>
<br />
<br /></p><p style="padding-left: 30px">
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">viewport = MOAIViewport.new ()</span>
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">viewport:setSize ( 320, 480 )</span>
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">viewport:setScale ( 320, 480 )</span>
<br />
<br /></p><p style="padding-left: 30px">
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">layer = MOAILayer2D.new ()</span>
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">layer:setViewport ( viewport )</span>
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">MOAISim.pushRenderPass ( layer )</span>
<br />
<br /></p><p style="padding-left: 30px">
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">gfxQuad = MOAIGfxQuad2D.new ()</span>
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">gfxQuad:setTexture ( "cathead.png" )</span>
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">gfxQuad:setRect ( -64, -64, 64, 64 )</span>
<br />
<br /></p><p style="padding-left: 30px">
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">prop = MOAIProp2D.new ()</span>
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">prop:setDeck ( gfxQuad )</span>
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">layer:insertProp ( prop )</span>
<br />
<br /></p><p style="padding-left: 30px">
<br />
<br />If I then change the numbers to reflect the qualities of a Retina display, and then Run, I expect the catshead in the center of the screen again, but smaller.  However it pops up in the bottom right, as if the bottom right corner of the screen is 0,0.
<br />
<br />Here's the changes I made:
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #999999">MOAISim.openWindow ( "test", 640, 960 )</span>
<br />
<br /></p><p style="padding-left: 30px">
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #999999">viewport = MOAIViewport.new ()</span>
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #999999">viewport:setSize ( 640, 960 )</span>
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #999999">viewport:setScale ( 640, 960 )</span>
<br />
<br /></p><p style="padding-left: 30px">
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #999999">layer = MOAILayer2D.new ()</span>
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #999999">layer:setViewport ( viewport )</span>
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #999999">MOAISim.pushRenderPass ( layer )</span>
<br />
<br /></p><p style="padding-left: 30px">
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #999999">gfxQuad = MOAIGfxQuad2D.new ()</span>
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #999999">gfxQuad:setTexture ( "cathead.png" )</span>
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #999999">gfxQuad:setRect ( -64, -64, 64, 64 )</span>
<br />
<br /></p><p style="padding-left: 30px">
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #999999">prop = MOAIProp2D.new ()</span>
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #999999">prop:setDeck ( gfxQuad )</span>
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #999999">layer:insertProp ( prop )</span>
<br />
<br />
<br />
<br />Further experimentation I find that it's now like this:
<br />
<br />setRect(x2, y2, -x1, y1) and upside down.  If you traditionally think of x1,y1 as top left and x2,y2 as bottom right.
<br />
<br />
<br />
<br />How can I set to Retina Display quality/resolution and maintain 0,0 in the middle of the screen?  Or place it to the top left?
<br />
<br />
<br />
<br />And is there a better way for me to include code snippets in the forum than the indentation and color change I've just done?
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">
<br /></span>
<br /></p></div>

			

		</div>

		
			<dl class="postprofile" id="profile160">
			<dt>
				<strong>dissidently</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 36</dd><dd><strong>Joined:</strong> Sat Apr 23, 2011 3:37 pm</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p162" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p162">Retina Display Settings Screen Space Quirk</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>dissidently</strong> &raquo; Wed Jun 15, 2011 11:54 pm </p>

			

			<div class="content">Further, if I plug in numbers, like this:
<br />
<br />gfxQuad:setRect ( 0, 0, -64, 64 )
<br />
<br />The cats head takes up exactly 1/5th of the horizontal space on a portrait position Retina screen, at the bottom right of the screen.  ie it's taking up 128 pixels rather than 64.  As it does on the y axis also, taking up 128 pixels of y space.
<br />
<br />so
<br />
<br />gfxQuad:setRect ( 0, 0, -320, 480 )
<br />
<br />fills the whole screen whereas I'd expect the above to take half the screen and the first example to only take 64x2 space.</div>

			

		</div>

		
			<dl class="postprofile" id="profile162">
			<dt>
				<strong>dissidently</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 36</dd><dd><strong>Joined:</strong> Sat Apr 23, 2011 3:37 pm</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p163" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p163">Retina Display Settings Screen Space Quirk</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>dissidently</strong> &raquo; Thu Jun 16, 2011 12:30 am </p>

			

			<div class="content">But wait, there's more…. (yeah, just what you want! "quick, run, hide, it's that dumb guy posting again…")
<br />
<br />The images, when sent to the Retina device (in this case an iPod 4th Gen) seem to lose about half their resolution.
<br />
<br />Here's the original, as included in the Xcode project.
<br />
<br /><img style="float: left" src="http://i.imgur.com/LBzTO.png" alt="" width="640" height="960" />
<br />
<br />
<br />
<br />And here it is as it is on the device: at the right size, but half the res has gone.
<br />
<br /><img src="http://i.imgur.com/ext2Z.png" alt="as it comes from the device" width="640" height="960" /></div>

			

		</div>

		
			<dl class="postprofile" id="profile163">
			<dt>
				<strong>dissidently</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 36</dd><dd><strong>Joined:</strong> Sat Apr 23, 2011 3:37 pm</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p164" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p164">Retina Display Settings Screen Space Quirk</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong><span style="color: #AA0000;" class="username-coloured">patrick</span></strong> &raquo; Thu Jun 16, 2011 10:08 am </p>

			

			<div class="content">Hey, no worries. We really appreciate your posts. No need to apologize!
<br />
<br />Josh has done a lot of work w/ retina display on the iPhone client. He should be able to answer your questions later today.</div>

			

		</div>

		
			<dl class="postprofile" id="profile164">
			<dt>
				<img src="http://www.gravatar.com/avatar/3f2c5c26c628e4b5500d87c737c60015?s=120.jpg" width="120" height="120" alt="User avatar" /><br />
				<strong><span style="color: #AA0000;" class="username-coloured">patrick</span></strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 653</dd><dd><strong>Joined:</strong> Sun Apr 03, 2011 5:50 am</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p165" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p165">Retina Display Settings Screen Space Quirk</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>dissidently</strong> &raquo; Thu Jun 16, 2011 10:29 am </p>

			

			<div class="content">Hey Patrick.  Thankyou!  But I feel I must apologise, constantly, just for my presence on these forums.  You've clearly created Moai for pro game developers.  And state it right front and centre on all pages.  
<br />
<br />I lose on all three qualities.  Not pro, not from games, and definitely not a developer.  If I had even a vague clue about programming beyond attacking scripts with a "trial and error" mentality I'd probably be of some use.  As it stands, I'm a muppet.  Near completely useless - lots of ideas and noway of realising any of them.  Plus OOP just plain hurts me.  I get it conceptually, and think it's probably nearly ideal for games and interactivity despite coming out of engineering approaches to programming.
<br />
<br />However the reality of OOP, how it's implemented, completely escapes my comprehension.  Mostly cause I dream of OOP being higher level, ie Objects the end user sees and interacts with actually being objects, rather than every little thing being an object.
<br />
<br />So I'd strongly suggest making me a low priority.  I'll happily eat crumbs.  It's all I deserve.</div>

			

		</div>

		
			<dl class="postprofile" id="profile165">
			<dt>
				<strong>dissidently</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 36</dd><dd><strong>Joined:</strong> Sat Apr 23, 2011 3:37 pm</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p166" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p166">Retina Display Settings Screen Space Quirk</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>josh</strong> &raquo; Thu Jun 16, 2011 3:59 pm </p>

			

			<div class="content">You’ve actually stumbled upon one of the most complex issues you can run into when setting up your game. It’s complex because there are many moving parts, and because the iPhone does some hidden magic of its own. I’ll start by explaining the basics of how to set up a viewport.
<br />
<br />Most of the time, we (as designers) like to think about the screen in terms of pixels. This is already a mind-blowing concept to some people, so we feel proud to have mastered it. Thinking in pixels is fine, but it has some limitations. What happens if you want to change the size of your display? If you only were thinking in pixels, you might have a lot of problems. For example, if all of your game code is set up thinking in terms of 480x320 but you want to display it at 1024x768 you could be facing some serious headaches.
<br />
<br />Luckily, Moai offers a powerful and elegant solution to this set of issues. All you have to do is tap into its massive power. What you need is two different sets of numbers. The first set is your screen units, while the second set is your display dimensions.
<br />
<br />Screen units can be anything you choose. Most of the time, it’s easy to just use pixels so the screen units play nice with your graphic files and you can think in the same terms for both. You define the number of screen units you have by using the viewport:setScale function. This tells Moai how many units you use for the x and y dimensions. Once you’ve defined your units, you should do all of your positional code in this screen unit space.
<br />
<br />Once you’ve got a game set up using screen units, you need to display it somewhere. Based on where that place is, you may want to change the actual display size. You do this by using the viewport:setSize function. This will take your game (defined in screen units) and scale it to fit the display size. If you’ve set things up well, everything will magically work at any size. You can even squish the display by using a different aspect ratio. Pretty neat.
<br />
<br />You’ll notice in the Moai samples that we almost always use the same numbers for setSize and setScale on the viewport. This makes it all very easy to think about.  In reality, if you are working with a sample and you want it to display at twice
<br />the size, you’d just change the numbers in setSize to be double what they were, and you’d also open a window that is twice the size. You wouldn’t, however, want to touch the setScale numbers call because this will change your game units, and thus all of your positioning code will be off. This is what you were seeing in your example code above.
<br />
<br />The iPhone introduces another interesting dynamic. Because the iPhone existed before retina display, and because they like having all of their numbers defined in 320x480, they do some scaling tricks to support retina display behind the scenes. You’re supposed to continue thinking in 320x480 and they just handle it for you. When displaying on a regular iPhone display, your
<br />graphic is shown on the display at its actual pixel size. If the same graphic is shown on the retina display, it will scale the image up by 2 to fill in the same physical space on the screen (since the retina display has twice as many pixels per inch as the regular display).
<br />
<br />There are even more things to think about when you introduce Apple’s special way of handling retina-display specific graphics. Apple tells you to put an @2x at the end of the file name, and this tells the retina display to not do the scaling automatically, but to instead take the image’s pixels at their regular size (which has been pre-set up as twice as big).
<br />
<br />Needless to say, this is pretty complicated. The good news is that in order for you to make this all magically work in Moai, you only need to do a few things:
<br />
<br />1)     Set your screen units to something and leave them that way. I personally use 640x960 because then I’m thinking in retina display resolution.
<br />
<br />2)     Set your screen size to 320x480. This will ensure the output works on both retina display devices and older devices.
<br />
<br />3)     Make all of your graphics as though they were for retina display. This is why I use 640x960 for screen units; it maps onto
<br />the size my graphics should be. In this set up, a 640x960 sized png will take up the whole screen. There's no need for special @2x versions of your graphics.
<br />
<br />4)     OpenGL has a texture size limitation of 2048x2048 for the newer iPhones, and 1024x1024 for the iPhone 3G. So, if you
<br />want to be compatible all the way back to 3G, just make sure none of your textures go over 1024x1024.
<br />
<br />If you follow these rules, you’ll have no problems working across many different devices. You can set the screen size to anything, in fact, to make it run on all the Android devices. We have some simple code to help manage that I wouldn’t mind sharing, if it’s of interest.
<br />
<br />I hope this long-winded explanation has answered the questions you have. Let me know if I can help out more.</div>

			

		</div>

		
			<dl class="postprofile" id="profile166">
			<dt>
				<strong>josh</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 36</dd><dd><strong>Joined:</strong> Sun Apr 03, 2011 5:51 am</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p167" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p167">Retina Display Settings Screen Space Quirk</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>dissidently</strong> &raquo; Thu Jun 16, 2011 8:22 pm </p>

			

			<div class="content">Hey Josh, before troubling with backwards compatibility, to the 320, 480 res screens, lets assume for a moment we live in a world with only Retina Displays.
<br />
<br />In that world, why doesn't this work 'right'?
<br />
<br />
<br />
<br /><p style="padding-left: 30px"><span style="color: #808080">MOAISim.openWindow ( "test", 640, 960 ) </span>
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">viewport = MOAIViewport.new ()</span>
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">viewport:setSize ( 640, 960 )</span>
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">viewport:setScale ( 640, 960 )</span>
<br />
<br /></p><p style="padding-left: 30px">
<br /></p></div>

			

		</div>

		
			<dl class="postprofile" id="profile167">
			<dt>
				<strong>dissidently</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 36</dd><dd><strong>Joined:</strong> Sat Apr 23, 2011 3:37 pm</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p168" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p168">Retina Display Settings Screen Space Quirk</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>dissidently</strong> &raquo; Thu Jun 16, 2011 8:29 pm </p>

			

			<div class="content">While I'm asking dumb questions, why do the numbers in here seem to have no impact on the outcome whatsoever?
<br />
<br /><p style="padding-left: 30px"><span style="color: #808080">MOAISim.openWindow ( "test", 640, 960 )</span>
<br />
<br /><span style="color: #808080">I<span style="color: #333333"> can change them to ANYTHING, and there's no change whatsoever.  I kind of expected this "window" to act like a crop, while I could position anything in it, anything outside of it would be cropped as it's the display window that's opened.</span></span>
<br />
<br />So for example, this:
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">MOAISim.openWindow ( "test", 64, 96 )</span>
<br />
<br /><span style="color: #333333">Would lead to a small window in the middle of the screen, or maybe top left, however it creates no change to the outcome on screen at all.</span>
<br /></p></div>

			

		</div>

		
			<dl class="postprofile" id="profile168">
			<dt>
				<strong>dissidently</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 36</dd><dd><strong>Joined:</strong> Sat Apr 23, 2011 3:37 pm</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p169" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p169">Retina Display Settings Screen Space Quirk</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>josh</strong> &raquo; Thu Jun 16, 2011 8:31 pm </p>

			

			<div class="content">Because the rest of the script was written with 320x480 screen units in mind. By doing viewport:setScale like that you are throwing off all of the coordinates. They'd also have to be doubled.
<br />
<br />
<br />
<br />If all you want to do is show the stuff at twice the size, then leave the setScale line alone.</div>

			

		</div>

		
			<dl class="postprofile" id="profile169">
			<dt>
				<strong>josh</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 36</dd><dd><strong>Joined:</strong> Sun Apr 03, 2011 5:51 am</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p170" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p170">Retina Display Settings Screen Space Quirk</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>josh</strong> &raquo; Thu Jun 16, 2011 9:06 pm </p>

			

			<div class="content"><strong>dissidently said: </strong>
<br />
<br /><blockquote>
<br />
<br />While I'm asking dumb questions, why do the numbers in here seem to have no impact on the outcome whatsoever?
<br />
<br /><p style="padding-left: 30px"><span style="color: #808080">MOAISim.openWindow ( "test", 640, 960 )</span>
<br />
<br /><span style="color: #808080">I<span style="color: #333333"> can change them to ANYTHING, and there's no change whatsoever.  I kind of expected this "window" to act like a crop, while I could position anything in it, anything outside of it would be cropped as it's the display window that's opened.</span></span>
<br />
<br />So for example, this:
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">MOAISim.openWindow ( "test", 64, 96 )</span>
<br />
<br /><span style="color: #333333">Would lead to a small window in the middle of the screen, or maybe top left, however it creates no change to the outcome on screen at all.</span>
<br />
<br /></p></blockquote>
<br />It sounds like your latest changes aren't getting copied over to the device. Double check that your file is saving (it will show as grey in the Xcode project tree if it's unsaved, white if it's saved.)
<br />
<br />Another sure fire way to ensure you have the latest stuff on the phone is, do the clean command. Then delete the app from the device. Then build and run again.</div>

			

		</div>

		
			<dl class="postprofile" id="profile170">
			<dt>
				<strong>josh</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 36</dd><dd><strong>Joined:</strong> Sun Apr 03, 2011 5:51 am</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p171" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p171">Retina Display Settings Screen Space Quirk</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>dissidently</strong> &raquo; Thu Jun 16, 2011 9:16 pm </p>

			

			<div class="content">Ok, I've read Patrick's intro to Moai 10x now, and your post about 5x.  And tried every number combination I can think of in a trial and error method.  And yes, I'm doing save, then run, each and everytime, to make sure everything gets sent.  
<br />
<br />Try this code, for yourself, PLEASE, in a blank project from the latest (June 1st) Moai beta that's on github, credited as being uploaded by you, on an iPod 4th gen, and see if the below does what you'd expect.
<br />
<br />
<br />
<br />I get a very big pixelated cat, much bigger than I think it should be, but not the whole cat, only 1/4 of the image is visible at any one time, as though 0,0 is the bottom right of the screen.  Turns around once in 1.5 seconds.
<br />
<br />
<br />
<br /><p style="padding-left: 30px">MOAISim.openWindow ( "test", 640, 960 )
<br />
<br /></p><p style="padding-left: 30px">
<br />
<br /></p><p style="padding-left: 30px">viewport = MOAIViewport.new ()
<br />
<br /></p><p style="padding-left: 30px">viewport:setSize ( 640, 960 )
<br />
<br /></p><p style="padding-left: 30px">viewport:setScale ( 320, 480 )
<br />
<br /></p><p style="padding-left: 30px">
<br />
<br /></p><p style="padding-left: 30px">layer = MOAILayer2D.new ()
<br />
<br /></p><p style="padding-left: 30px">layer:setViewport ( viewport )
<br />
<br /></p><p style="padding-left: 30px">MOAISim.pushRenderPass ( layer )
<br />
<br /></p><p style="padding-left: 30px">
<br />
<br /></p><p style="padding-left: 30px">gfxQuad = MOAIGfxQuad2D.new ()
<br />
<br /></p><p style="padding-left: 30px">gfxQuad:setTexture ( "cathead.png" )
<br />
<br /></p><p style="padding-left: 30px">gfxQuad:setRect ( -64, -64, 64, 64 )
<br />
<br /></p><p style="padding-left: 30px">
<br />
<br /></p><p style="padding-left: 30px">prop = MOAIProp2D.new ()
<br />
<br /></p><p style="padding-left: 30px">prop:setDeck ( gfxQuad )
<br />
<br /></p><p style="padding-left: 30px">layer:insertProp ( prop )
<br />
<br /></p><p style="padding-left: 30px">
<br />
<br /></p><p style="padding-left: 30px">prop:moveRot ( 360, 1.5 )
<br />
<br /></p><p style="padding-left: 30px">
<br /></p></div>

			

		</div>

		
			<dl class="postprofile" id="profile171">
			<dt>
				<strong>dissidently</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 36</dd><dd><strong>Joined:</strong> Sat Apr 23, 2011 3:37 pm</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p172" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p172">Retina Display Settings Screen Space Quirk</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>josh</strong> &raquo; Thu Jun 16, 2011 9:32 pm </p>

			

			<div class="content">Ah yes. That is what you'd see on the device. Your description is exactly the expected behavior. If you run the same code in windows, you'll see a double size window, with a double size cat right in the center.
<br />
<br />This is where the details of my original explanation come in. The iPhone/iPod screen is defined in terms of 320x480 (even as a retina display). So, when you set your size to be 640x960 you're telling it to be twice as big as the screen....hence why you are seeing the double size cat at the center of the double size screen (which goes off the edges of your device).
<br />
<br />What I'm saying is, the project is already set up to work on retina display. If you take it right out of the box, it will show up at the same location and the same size on the iPhones without retina display, and the ones with it.
<br />
<br />If you wanted to create a hi-def version of the cat, you'd change it (in Photoshop or something) to be 256x256 instead of it's current size 128x128. Then you'd just use it instead of the old file....with the code as it originally was. Pretty cool huh? It actually doesn't matter how large or small you make the cat head....it will always show up as the exact same size on the phone...and it will scale to fit the area that has been defined for it by the line gfxQuad:setRect ( -64, -64, 64, 64 ).
<br />
<br />The whole point of this is that you work in a resolution that's completely device independent. That's why this works without the need of any changes.</div>

			

		</div>

		
			<dl class="postprofile" id="profile172">
			<dt>
				<strong>josh</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 36</dd><dd><strong>Joined:</strong> Sun Apr 03, 2011 5:51 am</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p173" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p173">Retina Display Settings Screen Space Quirk</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>dissidently</strong> &raquo; Thu Jun 16, 2011 9:48 pm </p>

			

			<div class="content">Ok.  I get that.  But still, when I try to make that quad into a 640x960 image, it doesn't render as such, despite using @2x just in case, and everything else I can think of that should be right.
<br />
<br />So how do I place a quad, with this sample, that's a 640x960 image, have it fill the screen, AND render at full resolution?</div>

			

		</div>

		
			<dl class="postprofile" id="profile173">
			<dt>
				<strong>dissidently</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 36</dd><dd><strong>Joined:</strong> Sat Apr 23, 2011 3:37 pm</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p174" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p174">Retina Display Settings Screen Space Quirk</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>dissidently</strong> &raquo; Thu Jun 16, 2011 9:52 pm </p>

			

			<div class="content">By way of example, from what you're saying, this should do what I'm trying to achieve, a full res render of an image in a quad on a Retina display, that Moai should figure out the rest about it being a Retina display etc?  Right?
<br />
<br /><a href="mailto:Calculator@2x.png" target="_blank">Calculator@2x.png</a> is the image up a few posts, in full 640x960 glory.  However on the device it's only coming up at half that resolution, despite filling the screen.
<br />
<br /><p style="padding-left: 30px"><span style="color: #808080">MOAISim.openWindow ( "test", 320, 480 )</span>
<br />
<br /></p><p style="padding-left: 30px">
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">viewport = MOAIViewport.new ()</span>
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">viewport:setSize ( 320, 480 )</span>
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">viewport:setScale ( 320, 480 )</span>
<br />
<br /></p><p style="padding-left: 30px">
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">layer = MOAILayer2D.new ()</span>
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">layer:setViewport ( viewport )</span>
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">MOAISim.pushRenderPass ( layer )</span>
<br />
<br /></p><p style="padding-left: 30px">
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">gfxQuad = MOAIGfxQuad2D.new ()</span>
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">gfxQuad:setTexture ( "calculator@2x.png" )</span>
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">gfxQuad:setRect ( -180, -240, 180, 240 )</span>
<br />
<br /></p><p style="padding-left: 30px">
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">prop = MOAIProp2D.new ()</span>
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">prop:setDeck ( gfxQuad )</span>
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">layer:insertProp ( prop )</span>
<br />
<br /></p><p style="padding-left: 30px">
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">prop:moveRot ( 360, 1.5 )</span>
<br />
<br />
<br /></p></div>

			

		</div>

		
			<dl class="postprofile" id="profile174">
			<dt>
				<strong>dissidently</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 36</dd><dd><strong>Joined:</strong> Sat Apr 23, 2011 3:37 pm</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p175" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p175">Retina Display Settings Screen Space Quirk</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>josh</strong> &raquo; Thu Jun 16, 2011 9:52 pm </p>

			

			<div class="content">Use this code with your new graphic:
<br />
<br />
<br />
<br />MOAISim.openWindow ( "test", 640, 960 )
<br />
<br />
<br />
<br />viewport = MOAIViewport.new ()
<br />
<br />viewport:setSize ( 320, 480 )
<br />
<br />viewport:setScale ( 640, 960 )
<br />
<br />
<br />
<br />layer = MOAILayer2D.new ()
<br />
<br />layer:setViewport ( viewport )
<br />
<br />MOAISim.pushRenderPass ( layer )
<br />
<br />
<br />
<br />gfxQuad = MOAIGfxQuad2D.new ()
<br />
<br />gfxQuad:setTexture ( "cathead.png" )
<br />
<br />gfxQuad:setRect ( -320, -480, 320, 480 )
<br />
<br />
<br />
<br />prop = MOAIProp2D.new ()
<br />
<br />prop:setDeck ( gfxQuad )
<br />
<br />layer:insertProp ( prop )</div>

			

		</div>

		
			<dl class="postprofile" id="profile175">
			<dt>
				<strong>josh</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 36</dd><dd><strong>Joined:</strong> Sun Apr 03, 2011 5:51 am</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p176" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p176">Retina Display Settings Screen Space Quirk</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>josh</strong> &raquo; Thu Jun 16, 2011 9:56 pm </p>

			

			<div class="content">I would also remove the @2x from your filename, because it is reserved by Apple and could be negatively impacting the test we're doing. It tells the iPhone to do special things that we don't want to have happen.</div>

			

		</div>

		
			<dl class="postprofile" id="profile176">
			<dt>
				<strong>josh</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 36</dd><dd><strong>Joined:</strong> Sun Apr 03, 2011 5:51 am</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p177" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p177">Retina Display Settings Screen Space Quirk</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>dissidently</strong> &raquo; Thu Jun 16, 2011 10:08 pm </p>

			

			<div class="content">Just started trying this, when Xcode crashed.  First time.  FARK!!!!!  Rebuilding now.
<br />
<br />
<br />
<br />WHile I wait.  Doesn't this setup go against what you're saying earlier about not touching the scale and only changing the size?</div>

			

		</div>

		
			<dl class="postprofile" id="profile177">
			<dt>
				<strong>dissidently</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 36</dd><dd><strong>Joined:</strong> Sat Apr 23, 2011 3:37 pm</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p178" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p178">Retina Display Settings Screen Space Quirk</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>dissidently</strong> &raquo; Thu Jun 16, 2011 10:11 pm </p>

			

			<div class="content">Ok, tried it.  Same problem.  The image is being down rezzed to what appears to be 320x480.  Which I can also achieve this way.
<br />
<br />
<br />
<br /><p style="padding-left: 30px"><span style="color: #808080">MOAISim.openWindow ( "test", 320, 480 )</span>
<br />
<br /></p><p style="padding-left: 30px">
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">viewport = MOAIViewport.new ()</span>
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">viewport:setSize ( 320, 480 )</span>
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">viewport:setScale ( 320, 480 )</span>
<br />
<br /></p><p style="padding-left: 30px">
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">layer = MOAILayer2D.new ()</span>
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">layer:setViewport ( viewport )</span>
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">MOAISim.pushRenderPass ( layer )</span>
<br />
<br /></p><p style="padding-left: 30px">
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">gfxQuad = MOAIGfxQuad2D.new ()</span>
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">gfxQuad:setTexture ( "calculator.png" )</span>
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">gfxQuad:setRect ( -180, -240, 180, 240 )</span>
<br />
<br /></p><p style="padding-left: 30px">
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">prop = MOAIProp2D.new ()</span>
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">prop:setDeck ( gfxQuad )</span>
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">layer:insertProp ( prop )</span>
<br />
<br />
<br /></p></div>

			

		</div>

		
			<dl class="postprofile" id="profile178">
			<dt>
				<strong>dissidently</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 36</dd><dd><strong>Joined:</strong> Sat Apr 23, 2011 3:37 pm</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p179" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p179">Retina Display Settings Screen Space Quirk</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>josh</strong> &raquo; Thu Jun 16, 2011 10:15 pm </p>

			

			<div class="content">I'll explain a little more. If you look at my original long post, I mentioned that I use 640x960 for my scale so that my graphics works well with the retina display. I said don't touch the scale once you've set it....but what you are doing now (in trying to show a full screen graphic) is essentially a new project. For that project, since you want retina display resolution on your graphics, I recommend setting it up the way I just showed you. This means you'll think of the game screen as being 640x960 pixels....and therefore all of your coordinates and sizes will be done in these terms....but when you want to display this game on a screen you can then set at size for that output. In this case, that's 320x480 for the iPhone display since that's how the iPhone works in code. Apple decided that people should think of the displays (even retina displays) as 320x480. 
<br />
<br />In short, this is complicated, but if you follow those rules I described it should make it pretty painless.</div>

			

		</div>

		
			<dl class="postprofile" id="profile179">
			<dt>
				<strong>josh</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 36</dd><dd><strong>Joined:</strong> Sun Apr 03, 2011 5:51 am</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p180" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p180">Retina Display Settings Screen Space Quirk</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>josh</strong> &raquo; Thu Jun 16, 2011 10:18 pm </p>

			

			<div class="content"><strong>dissidently said: </strong>
<br /><blockquote>
<br />Ok, tried it.  Same problem.  The image is being down rezzed to what appears to be 320x480.  Which I can also achieve this way.
<br />
<br />
<br />
<br /><p style="padding-left: 30px"><span style="color: #808080">MOAISim.openWindow ( "test", 320, 480 )</span>
<br />
<br /></p><p style="padding-left: 30px">
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">viewport = MOAIViewport.new ()</span>
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">viewport:setSize ( 320, 480 )</span>
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">viewport:setScale ( 320, 480 )</span>
<br />
<br /></p><p style="padding-left: 30px">
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">layer = MOAILayer2D.new ()</span>
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">layer:setViewport ( viewport )</span>
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">MOAISim.pushRenderPass ( layer )</span>
<br />
<br /></p><p style="padding-left: 30px">
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">gfxQuad = MOAIGfxQuad2D.new ()</span>
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">gfxQuad:setTexture ( "calculator.png" )</span>
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">gfxQuad:setRect ( -180, -240, 180, 240 )</span>
<br />
<br /></p><p style="padding-left: 30px">
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">prop = MOAIProp2D.new ()</span>
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">prop:setDeck ( gfxQuad )</span>
<br />
<br /></p><p style="padding-left: 30px"><span style="color: #808080">layer:insertProp ( prop )</span>
<br />
<br />
<br />
<br /></p></blockquote>
<br />
<br />
<br />You'll need to do a clean build. That means to do the clean command, then the build command. You'll also need to remove the app from the device. Here's what might be happening and why you're taking these steps.
<br />
<br />Xcode doesn't clean up old resources...so what probably is happening is that you've still got the <a href="mailto:calculator@2x.png" target="_blank">calculator@2x.png</a> file in your bundle since it was there before. If you clean, and remove the app from the device, it will reinstall and that should ensure you're using the proper file.</div>

			

		</div>

		
			<dl class="postprofile" id="profile180">
			<dt>
				<strong>josh</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 36</dd><dd><strong>Joined:</strong> Sun Apr 03, 2011 5:51 am</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<form id="viewtopic" method="post" action="index.html">

	<fieldset class="display-options" style="margin-top: 0; ">
		<a href="page20.html" class="right-box right">Next</a>
	</fieldset>

	</form>
	<hr />


<div class="topic-actions">
	<div class="buttons">
	
	</div>

	
		<div class="pagination">
			39 posts
			 &bull; <a href="index.html#" onclick="jumpto(); return false;" title="Click to jump to page…">Page <strong>1</strong> of <strong>2</strong></a> &bull; <span><strong>1</strong><span class="page-sep">, </span><a href="page20.html">2</a></span>
		</div>
	
</div>


	<p></p><p><a href="../moai-sdk-developer-support.html" class="left-box left" accesskey="r">Return to Moai SDK</a></p>

	<form method="post" id="jumpbox" action="http://192.168.20.226:3000/forums/viewforum.php" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	
		<fieldset class="jumpbox">
	
			<label for="f" accesskey="j">Jump to:</label>
			<select name="f" id="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">
			
				<option value="-1">Select a forum</option>
			<option value="-1">------------------</option>
				<option value="4">Moai Development Forums</option>
			
				<option value="7" selected="selected">&nbsp; &nbsp;Moai SDK</option>
			
				<option value="9">&nbsp; &nbsp;Questions and Tips</option>
			
				<option value="10">&nbsp; &nbsp;Bug Reports</option>
			
				<option value="29">&nbsp; &nbsp;Reviewers</option>
			
				<option value="3">Moai Community Forums</option>
			
				<option value="11">&nbsp; &nbsp;Community Contributions</option>
			
				<option value="25">&nbsp; &nbsp;&nbsp; &nbsp;Flower</option>
			
				<option value="28">&nbsp; &nbsp;&nbsp; &nbsp;Rapanui</option>
			
				<option value="26">&nbsp; &nbsp;&nbsp; &nbsp;Snippets</option>
			
				<option value="5">&nbsp; &nbsp;Moai Roadmap</option>
			
				<option value="8">&nbsp; &nbsp;&nbsp; &nbsp;Moai Cloud</option>
			
				<option value="6">&nbsp; &nbsp;Made With Moai</option>
			
				<option value="12">Platform Specifics</option>
			
				<option value="17">&nbsp; &nbsp;Android</option>
			
				<option value="18">&nbsp; &nbsp;Apple</option>
			
				<option value="20">&nbsp; &nbsp;Linux</option>
			
				<option value="19">&nbsp; &nbsp;Windows</option>
			
				<option value="21">&nbsp; &nbsp;Browser + Other</option>
			
				<option value="13">Third Party Libraries and Plugins</option>
			
				<option value="22">&nbsp; &nbsp;Physics</option>
			
				<option value="23">&nbsp; &nbsp;Sound + Music</option>
			
				<option value="24">&nbsp; &nbsp;Advertising + Networking + IAPs</option>
			
				<option value="14">Additional</option>
			
				<option value="16">&nbsp; &nbsp;Game Development</option>
			
				<option value="27">&nbsp; &nbsp;Off Topic</option>
			
			</select>
			<input type="submit" value="Go" class="button2" />
		</fieldset>
	</form>


	<h3>Who is online</h3>
	<p>Users browsing this forum: No registered users and 1 guest</p>
</div>

<div id="page-footer">

	<div class="navbar">
		<div class="inner"><span class="corners-top"><span></span></span>

		<ul class="linklist">
			<li class="icon-home"><a href="../index.html" accesskey="h">Board index</a></li>
				
			<li class="rightside">All times are UTC </li>
		</ul>

		<span class="corners-bottom"><span></span></span></div>
	</div>
	
	<div class="copyright">Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group<br />Style by <a href="http://www.m-a-styles.de">Marc Alexander</a> &copy;
		<br /><br /><a href="http://www.phpbb-seo.com/" title="Search Engine Optimization"><img src="../images/phpbb-seo.png" alt="phpBB SEO"/></a><br />Time : 0.047s | 13 Queries | GZIP : Off
	</div>
</div>

</div>

<div>
	<a id="bottom" name="bottom" accesskey="z"></a>
	
	</div>
	</div>
<div class="nobottomgap"></div>
</div>
<!--- end of box border -->
</div></div>
<!-- -->
<div class="bottom-left"></div><div class="bottom-center"></div><div class="bottom-right"></div>
</div>
<!-- JQuery Pop Up --><!-- PM Popup --><!-- PM Popup end --><!-- Image Popup -->
<div id="popupImage">
	<p id="ImagePopup"></p>
	<a id="popupImageClose">x</a> 
</div>
<!-- Image Popup -->
<div id="backgroundPopup"></div> 
<!-- JQuery Pop Up END -->
</body>
</html>