<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta name="robots" content="noindex" />

<title>Moai Forum | The mobile platform for pro game developers &bull; View topic - RapaNui: a new, open-source, high-level programming framework for Moai</title>

<link href="styles/proFormell/theme/print.css" rel="stylesheet" type="text/css" />
<link type="image/vnd.microsoft.icon" rel="shortcut icon" href="styles/proFormell/theme/images/favicon.ico">
</head>

<body id="phpbb">
<div id="wrap">
	<a id="top" name="top" accesskey="t"></a>

	<div id="page-header">
		<h1>Moai Forum | The mobile platform for pro game developers</h1>
		<p>The mobile platform for pro game developers<br /><a href="index.html">/forums/</a></p>

		<h2>RapaNui: a new, open-source, high-level programming framework for Moai</h2>
		<p><a href="rapanui-a-new-open-source-high-level-programming-framework-for-moai-t307/page80.html">/forums/rapanui-a-new-open-source-high-level-programming-framework-for-moai-t307/page80.html</a></p>
	</div>

	<div id="page-body">
		<div class="page-number">Page <strong>5</strong> of <strong>5</strong></div>
		
			<div class="post">
				<h3>Re: RapaNui: a new, open-source, high-level programming fram</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Wed May 02, 2012 12:32 pm</strong></div>
				<div class="author">by <strong>Sergeyka</strong></div>
				<div class="content">Mattia, touch works even when the cockroach is under the newspaper.<br /><!-- m --><a class="postlink" href="http://www.box.com/s/c4aeebe02e2ae1c8d907">http://www.box.com/s/c4aeebe02e2ae1c8d907</a><!-- m --><br /><br />How to do so when the cockroach was hiding under the newspaper, touch did not work? In this case, the newspaper is not a rectangular shape and a cockroach will move randomly. It may need to consider a collision the cockroach with a newspaper ?<br /><br />Help me please <img src="images/smilies/icon_e_biggrin.gif" alt=":D" title="Very Happy" /></div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: RapaNui: a new, open-source, high-level programming fram</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Wed May 02, 2012 2:26 pm</strong></div>
				<div class="author">by <strong>mattfortunati</strong></div>
				<div class="content">Hi,<br /><br />@Sergeyka<br />I've checked the demo, thanks for adding the source.<br />We implemented the touch ignore for images,but I think you are looking for a sort of &quot;per pixel precise touch&quot;.<br />Mh...<br />At the moment there is nothing like this in Moai or RapaNui, so, Yes, you may consider to remove the cockroach when it collides with the newspaper.<br />However I head Moai is going to add a feature like a &quot;precise collision check&quot; to help us in this (and maybe after this we'll implement a &quot;precise touch collision&quot; into RapaNui.<br /><br />@fderudder<br />&gt;So far, RapaNui supports only plain XML .tmx files<br />You are right,we weren't considering isometric maps. Sorry.<br /><br />&gt;Would you be interested on getting the code when i'll be done with that ?<br />A parser for isometric maps? Why not! We weren't planning to do this at the moment.<br />Thanks for this and good luck for your work! Let us know!<br /><br /><br />Thanks to you guys for using RapaNui. Keep us informed for any news.<br />Have Fun!<br /><br />Mattia</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: RapaNui: a new, open-source, high-level programming fram</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Wed May 02, 2012 5:42 pm</strong></div>
				<div class="author">by <strong>fderudder</strong></div>
				<div class="content">Actually that's 2 different problems<br /><br />The isometric one is mainly because MOAI doesnt support isometric maps (<a href="post3487.html#p3487" class="postlink">see that previous post</a>). Paxton hare made a patch. Now combined with RapaNui, it gives results, but it's not perfect. I'll work more on that.<br /><br />The second part is coming directly from the <a href="https://github.com/bjorn/tiled/wiki/TMX-Map-Format" class="postlink">TMX map format page</a>. Tiled, the software i used to generate those maps (which is widely recommended around here) allows different way to <span style="font-style: italic">store</span> the map infos (full xml, which you are parsing, csv-based, the one i illustrate <a href="post3616.html#p3616" class="postlink">in this post</a>, and base64, which encodes the whole stuff in a  base64 hash).<br /><br />Which means that even for a 2d side scrolling level, you can have a csv or a base64 map. You can use a plain xml file, but, even if it's text, this creates ridiculously long files, which are a pain to read as a human being (for instance, my 10*10 iso map writes 100 lines <span style="font-weight: bold">per layer</span> because each tiles must be written, even empty ones), and of course, increases the file size (even if it's not an enormous size, it's still bigger in plain xml - for example, my reference map is 11KB in plain xml, and 2KB in csv format. I let you imagine how it scales on bigger maps, for a 2d side scroller, where you can have very long levels <img src="images/smilies/icon_e_wink.gif" alt=";)" title="Wink" /> ).</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: RapaNui: a new, open-source, high-level programming fram</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Mon May 07, 2012 4:18 pm</strong></div>
				<div class="author">by <strong>makotok1123</strong></div>
				<div class="content">Hello.<br />I think that I can not so difficult even analysis also base64 CSV.<br />By using the functionality of the MOAI and lua, can be analyzed without difficulty.<br /><br /><!-- m --><a class="postlink" href="https://github.com/makotok/Hanappe/blob/master/src/main/hp/tmx/TMXMapLoader.lua">https://github.com/makotok/Hanappe/blob ... Loader.lua</a><!-- m --></div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: RapaNui: a new, open-source, high-level programming fram</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Mon May 07, 2012 6:32 pm</strong></div>
				<div class="author">by <strong>anddrewscott</strong></div>
				<div class="content">Rapanui mentioned here:<br /><!-- m --><a class="postlink" href="http://gamedevnation.com/game-development/moai-or-corona-which-sdk-for-you/">http://gamedevnation.com/game-developme ... k-for-you/</a><!-- m --></div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: RapaNui: a new, open-source, high-level programming fram</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Mon May 07, 2012 9:58 pm</strong></div>
				<div class="author">by <strong>mattfortunati</strong></div>
				<div class="content">Wow! Thank you for the link andrew! Great! <br />I'm really happy to see that new people are discovering and enjoying Moai and Rapanui!</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: RapaNui: a new, open-source, high-level programming fram</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Wed May 09, 2012 3:36 pm</strong></div>
				<div class="author">by <strong>zengardenapps</strong></div>
				<div class="content">Hi everyone!<br /><br />Is any way to apply a transition to a RNGroup? I've searched around the code of Rapa Nui but I've found any approach, I thought those groups had a transform attached but it seems they don't.<br /><br />How do you handle transitions to a large group of images?<br /><br />At this time we're doing this:<br /><br />local transition = RNTransition:new()<br /><br />function goToPointA()<br />	for i = 1,myGroup.numChildren do<br />		local PosY = myGroup.displayObjects[i].y + 1500;<br />        	transition:run(myGroup.displayObjects[i], { type = &quot;move&quot;, delay, time = 3500, alpha = 0, y = PosY})<br />        end<br />end<br /><br />But we're sure there is a better (and more elegant) way to do this with Moai &amp; Rapa Nui<br /><br />Thank you and best regards</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: RapaNui: a new, open-source, high-level programming fram</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Wed May 09, 2012 7:49 pm</strong></div>
				<div class="author">by <strong>anddrewscott</strong></div>
				<div class="content">The reason moving a group won't work is because Rapanui uses MOAIs transition manager (instead of:<br />(example) group.x = group.x + 1)<br />to transit:<br /><dl class="codebox"><dt>Code: <a href="viewtopic.php%3Ff=6&amp;t=307&amp;start=80&amp;view=print.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;target:getProp<span class="br0">&#40;</span><span class="br0">&#41;</span>:moveLoc<span class="br0">&#40;</span>deltax, deltay, time<span class="br0">&#41;</span> </div></li><br /></ol></code></dd></dl><br /><br /><br /><blockquote><div><cite>zengardenapps wrote:</cite><dl class="codebox"><dt>Code: <a href="viewtopic.php%3Ff=6&amp;t=307&amp;start=80&amp;view=print.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">for i = <span style="">1</span>,myGroup.numChildren do</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; local PosY = myGroup.displayObjects&amp;#<span style="">91</span>;i&amp;#<span style="">93</span>;.y + <span style="">1500</span>;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; transition:run<span class="br0">&#40;</span>myGroup.displayObjects&amp;#<span style="">91</span>;i&amp;#<span style="">93</span>;, <span class="br0">&#123;</span> type = &quot;move&quot;, delay, time = <span style="">3500</span>, alpha = <span style="">0</span>, y = PosY<span class="br0">&#125;</span><span class="br0">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; end</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">end </div></li><br /></ol></code></dd></dl><br /></div></blockquote><br /><br />The code above could be put into RNTransition for when a group is transitioned.</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: RapaNui: a new, open-source, high-level programming fram</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Wed May 09, 2012 9:54 pm</strong></div>
				<div class="author">by <strong>mattfortunati</strong></div>
				<div class="content">@andrewscott @zengardenapps<br />Hi guys, you are right!<br />Like the RNDirector already does, a good way of applying a transition to all objects in a RNGroup is to iterate all of them and apply them a transition one by one. <br /><blockquote class="uncited"><div>The code above could be put into RNTransition for when a group is transitioned.</div></blockquote><br />Yes, it should work fine.<br />Else you can check RNDirector at line 134 for an example of this already embedded in RapaNui.<br /><br />Have Fun!</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: RapaNui: a new, open-source, high-level programming fram</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Thu May 10, 2012 8:11 am</strong></div>
				<div class="author">by <strong>zengardenapps</strong></div>
				<div class="content">@anddrewscott @mattfortunati<br /><br />Thank you very much, we're modifying RNTransition to handle this automatically.<br /><br />Thank you again!</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: RapaNui: a new, open-source, high-level programming fram</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Thu May 10, 2012 12:04 pm</strong></div>
				<div class="author">by <strong>J. A. Whye</strong></div>
				<div class="content">I've read all the threads I can find on RapaNui and looked at hundreds (thousands) of lines of code and decided maybe in a few minutes time someone could jump start me and I can stop banging my head against the wall... <img src="images/smilies/icon_e_smile.gif" alt=":)" title="Smile" /><br /><br />I modified the Moai SDK pathfinding-hex example to use RNMainThread.addTimedAction() and it worked great, so I know my host works and RapaNui works.<br /><br />Except I can't get the RN samples themselves to work. And when I tried to start completely from scratch and put an image on the screen I'm not having success.<br /><br />Let's say I take the RN folder and change main.lua to look like this:<br /><br /><dl class="codebox"><dt>Code: <a href="viewtopic.php%3Ff=6&amp;t=307&amp;start=80&amp;view=print.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="lua" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #0000aa;">require</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;rapanui-sdk/rapanui&quot;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">local</span> background <span style="color: #66cc66;">=</span> RNFactory<span style="color: #66cc66;">.</span>createImage<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;images/background-blue.png&quot;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /></ol></code></dd></dl><br /><br />Do I need anything else?<br /><br />I know in the Moai SDK samples they open a window and create a viewport but looking at the Angry Dogs code I don't see that happening, so assumed RN took care of that.<br /><br />I'm trying to run this example from the command line, not from inside Xcode. I've changed the directory to my test folder and then try to launch it like this: ../moai/moai main.lua<br /><br />I did a print(&quot;foo&quot;) in the code and that gets shown, so I know something's happening, but no window opens, no image is shown, etc.<br /><br />Could someone head me down the right path? <img src="images/smilies/icon_e_smile.gif" alt=":)" title="Smile" /><br /><br />Thanks.<br /><br /> Jay</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: RapaNui: a new, open-source, high-level programming fram</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Fri May 11, 2012 2:38 pm</strong></div>
				<div class="author">by <strong>Sergeyka</strong></div>
				<div class="content">Jay, i execute it:<br />&quot;E:\moai-sdk 1.0 R3\bin\win32\moai.exe&quot; &quot;E:\moai-sdk 1.0 R3\samples\config\config.lua&quot; E:\MyMoai\Galaxy\main.lua <br /><br />If the path has spaces, you need to take in quotes. In the test folder must be &quot;rapanui-sdk&quot; folder.<br /><br />Look at my sample:<br /><!-- m --><a class="postlink" href="http://www.box.com/s/c4aeebe02e2ae1c8d907">http://www.box.com/s/c4aeebe02e2ae1c8d907</a><!-- m --><br /><br />p.s. It for windows. I have not macos =)</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: RapaNui: a new, open-source, high-level programming fram</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sat May 12, 2012 1:47 am</strong></div>
				<div class="author">by <strong>J. A. Whye</strong></div>
				<div class="content">Thanks for sending that sample code -- at first glance I didn't think you actually answered my question, but then I ran your code and compared it to mine and was very confused, because you and I were doing the (basic) things the same but yours worked and mine didn't.<br /><br />Then I swapped out the rapanui-sdk folder and discovered when I use the one in your project, my project works. So I must have had an old rapanui download? Or messed it up some how. <img src="images/smilies/icon_e_smile.gif" alt=":)" title="Smile" /><br /><br />So thank you!<br /><br />To anyone following along, no, you don't have to have more than those two lines of code I posted in my original query -- as long as you have a working copy of rapanui-sdk along with it. <img src="images/smilies/icon_e_smile.gif" alt=":)" title="Smile" /><br /><br /> Jay</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: RapaNui: a new, open-source, high-level programming fram</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sat May 12, 2012 7:11 am</strong></div>
				<div class="author">by <strong>fderudder</strong></div>
				<div class="content">To make RapaNui read csv-encoded.tmx, you go in <a href="https://github.com/ymobe/rapanui/blob/master/rapanui-sdk/RNTiledMapParser.lua#L140" class="postlink">RNTiledMapParser.lua, line #140</a> and you change the { if .. end } block by the following code.<br /><br /><dl class="codebox"><dt>Code: <a href="viewtopic.php%3Ff=6&amp;t=307&amp;start=80&amp;view=print.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="lua" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">if</span> node<span style="color: #66cc66;">.</span>children<span style="color: #66cc66;">.</span>data <span style="color: #aa9900; font-weight: bold;">then</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> key<span style="color: #66cc66;">,</span> value <span style="color: #aa9900; font-weight: bold;">in</span> <span style="color: #0000aa;">pairs</span><span style="color: #66cc66;">&#40;</span>node<span style="color: #66cc66;">.</span>children<span style="color: #66cc66;">.</span>data<span style="color: #66cc66;">&#41;</span> <span style="color: #aa9900; font-weight: bold;">do</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080; font-style: italic;">-- if &nbsp;we find an attribute here, it's more likely that we are </span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080; font-style: italic;">-- dealing with a csv or base64 encoded tmx map</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">if</span> value<span style="color: #66cc66;">.</span>attributes <span style="color: #aa9900; font-weight: bold;">then</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">if</span> value<span style="color: #66cc66;">.</span>attributes<span style="color: #66cc66;">.</span>encoding <span style="color: #66cc66;">==</span> <span style="color: #ff6666;">&quot;csv&quot;</span> <span style="color: #aa9900; font-weight: bold;">then</span> &nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080; font-style: italic;">-- tmx map is encoded in csv, with layer's tiles' id returned as a string</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> rowTiles <span style="color: #66cc66;">=</span> splitString<span style="color: #66cc66;">&#40;</span> value<span style="color: #66cc66;">.</span>value<span style="color: #66cc66;">,</span> <span style="color: #ff6666;">&quot;, &quot;</span> <span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> i<span style="color: #66cc66;">,</span> row <span style="color: #aa9900; font-weight: bold;">in</span> <span style="color: #0000aa;">ipairs</span><span style="color: #66cc66;">&#40;</span>rowTiles<span style="color: #66cc66;">&#41;</span> <span style="color: #aa9900; font-weight: bold;">do</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> tiles <span style="color: #66cc66;">=</span> splitString<span style="color: #66cc66;">&#40;</span>row<span style="color: #66cc66;">,</span> <span style="color: #ff6666;">&quot;,&quot;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> j<span style="color: #66cc66;">,</span> tile <span style="color: #aa9900; font-weight: bold;">in</span> <span style="color: #0000aa;">ipairs</span><span style="color: #66cc66;">&#40;</span>tiles<span style="color: #66cc66;">&#41;</span> <span style="color: #aa9900; font-weight: bold;">do</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; index <span style="color: #66cc66;">=</span> <span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#40;</span>i <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">*</span><span style="color: #cc66cc;">10</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">+</span> <span style="color: #66cc66;">&#40;</span>j<span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#41;</span> &nbsp;<span style="color: #808080; font-style: italic;">-- 0-based array !</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; map<span style="color: #66cc66;">.</span>layers<span style="color: #66cc66;">&#91;</span>map<span style="color: #66cc66;">.</span>layersSize<span style="color: #66cc66;">&#93;</span><span style="color: #66cc66;">.</span>tiles<span style="color: #66cc66;">&#91;</span>index<span style="color: #66cc66;">&#93;</span> <span style="color: #66cc66;">=</span> <span style="color: #0000aa;">tonumber</span><span style="color: #66cc66;">&#40;</span>tile<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">else</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080; font-style: italic;">-- full xml based .tmx files</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> key<span style="color: #66cc66;">,</span> value <span style="color: #aa9900; font-weight: bold;">in</span> <span style="color: #0000aa;">pairs</span><span style="color: #66cc66;">&#40;</span>value<span style="color: #66cc66;">&#41;</span> <span style="color: #aa9900; font-weight: bold;">do</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080; font-style: italic;">-- check for all tile nodes</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">if</span> <span style="color: #0000aa;">type</span><span style="color: #66cc66;">&#40;</span>value<span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">==</span> <span style="color: #ff6666;">&quot;table&quot;</span> <span style="color: #aa9900; font-weight: bold;">then</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> key<span style="color: #66cc66;">,</span> value <span style="color: #aa9900; font-weight: bold;">in</span> <span style="color: #0000aa;">pairs</span><span style="color: #66cc66;">&#40;</span>value<span style="color: #66cc66;">&#41;</span> <span style="color: #aa9900; font-weight: bold;">do</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> key<span style="color: #66cc66;">,</span> value <span style="color: #aa9900; font-weight: bold;">in</span> <span style="color: #0000aa;">pairs</span><span style="color: #66cc66;">&#40;</span>value<span style="color: #66cc66;">&#41;</span> <span style="color: #aa9900; font-weight: bold;">do</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; map<span style="color: #66cc66;">.</span>layers<span style="color: #66cc66;">&#91;</span>map<span style="color: #66cc66;">.</span>layersSize<span style="color: #66cc66;">&#93;</span><span style="color: #66cc66;">.</span>tiles<span style="color: #66cc66;">&#91;</span>map<span style="color: #66cc66;">.</span>layers<span style="color: #66cc66;">&#91;</span>map<span style="color: #66cc66;">.</span>layersSize<span style="color: #66cc66;">&#93;</span><span style="color: #66cc66;">.</span>tilesnumber<span style="color: #66cc66;">&#93;</span> <span style="color: #66cc66;">=</span> <span style="color: #0000aa;">tonumber</span><span style="color: #66cc66;">&#40;</span>value<span style="color: #66cc66;">.</span>attributes<span style="color: #66cc66;">.</span>gid<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; map<span style="color: #66cc66;">.</span>layers<span style="color: #66cc66;">&#91;</span>map<span style="color: #66cc66;">.</span>layersSize<span style="color: #66cc66;">&#93;</span><span style="color: #66cc66;">.</span>tilesnumber <span style="color: #66cc66;">=</span> map<span style="color: #66cc66;">.</span>layers<span style="color: #66cc66;">&#91;</span>map<span style="color: #66cc66;">.</span>layersSize<span style="color: #66cc66;">&#93;</span><span style="color: #66cc66;">.</span>tilesnumber <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">1</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /></ol></code></dd></dl><br /><br />I have not worked yet on the base-64, since i had a lot of stuff to do not Lua/Moai/RapaNui related</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: RapaNui: a new, open-source, high-level programming fram</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sat May 12, 2012 11:57 am</strong></div>
				<div class="author">by <strong>Sergeyka</strong></div>
				<div class="content">Jay, in moai 1.0  something changed.<br /><br />Moai 1.0 r3 + Rapanui(last version of master or dev branch ) = OK  <img src="images/smilies/icon_e_smile.gif" alt=":)" title="Smile" /> <br /><br />If you use the Moai 0.9x then you need the old Rapanui.</div>
			</div>
			<hr />
		
	</div>

	<div id="page-footer">
		<div class="page-number">All times are UTC <br />Page <strong>5</strong> of <strong>5</strong></div>
		<div class="copyright">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</div>
	</div>
</div>

</body>
</html>