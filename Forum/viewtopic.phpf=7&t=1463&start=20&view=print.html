<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta name="robots" content="noindex" />

<title>Moai Forum &bull; View topic - Moai + Luajit</title>

<link href="styles/proFormell/theme/print.css" rel="stylesheet" type="text/css" />
<link type="image/vnd.microsoft.icon" rel="shortcut icon" href="styles/proFormell/theme/images/favicon.ico">
</head>

<body id="phpbb">
<div id="wrap">
	<a id="top" name="top" accesskey="t"></a>

	<div id="page-header">
		<h1>Moai Forum</h1>
		<p>The mobile platform for pro game developers<br /><a href="index.html">/forums/</a></p>

		<h2>Moai + Luajit</h2>
		<p><a href="moai-luajit-t1463/page20.html">/forums/moai-luajit-t1463/page20.html</a></p>
	</div>

	<div id="page-body">
		<div class="page-number">Page <strong>2</strong> of <strong>4</strong></div>
		
			<div class="post">
				<h3>Re: Moai + Luajit</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sat Mar 16, 2013 6:15 pm</strong></div>
				<div class="author">by <strong>ezraanderson</strong></div>
				<div class="content">this is very interesting to me. The benchmarks look really impressive, but does anybody have benchmarks for moai and luajit, maybe 5000 blinking starts or something. I am kinda of a geek for performance and optimization, i want to know if its worth my time to implement it in my programs.</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Moai + Luajit</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Tue Mar 19, 2013 4:22 pm</strong></div>
				<div class="author">by <strong>makotok1123</strong></div>
				<div class="content">Does LuaJIT pass to the examination of iOS?<br />I heard that does not pass.</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Moai + Luajit</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Tue Mar 19, 2013 4:35 pm</strong></div>
				<div class="author">by <strong>tommo.zhou</strong></div>
				<div class="content">You can pass the review, but it's not using JIT on iOS (still 2x faster).</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Moai + Luajit</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Thu Mar 21, 2013 9:13 pm</strong></div>
				<div class="author">by <strong>spectralcanine</strong></div>
				<div class="content"><blockquote><div><cite>felixgallo wrote:</cite>Also, using tommo's branch directly didn't work for me; for some reason my (fairly recent) android sdk errors out when attempting to import android.widget.EditText as part of the MOAIAndroidKeyboard work.  Since I don't need MOAIAndroidKeyboard, rather than screw with it I grafted tommo's ant directory onto spacepluk's less recently updated moai-dev.  The frankenstein repo then shambled slowly to life.<br /><br />Thanks again Tommo.</div></blockquote><br /><br />This happens because the base project (host-source/project in the android directory) has some unrelated unicode letter right after the inclusion of EditText.<br />Delete that letter and everything works fine.<br /><br />Realizing this took a chunk out of the few hours that took me to actually get Moai to work on my Android device, using Windows...(the &quot;formal&quot; instructions are out of date and outright wrong).</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Moai + Luajit</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Fri Apr 05, 2013 3:03 am</strong></div>
				<div class="author">by <strong>ezraanderson</strong></div>
				<div class="content">@keelo -thank you<br /><br />i have know idea what i am doing, and i am sure there is a better way but this is how i got luat-jit implmented into vs2010<br /><br /><br />1. download lua jet 2.0 and extracted it<br />2. run vs2010 command prompt and execute msvcbuild.bat<br />3. rename \moai-dev-master\3rdparty\lua-5.1.3 to lua-5.1.3-back<br />4. make a new folder \moai-dev-master\3rdparty\lua-5.1.3 then copy the contents of LuaJIT-2.0.0 into it<br />5. rename lua51.lib to lua-5.1.3.lib and copy into \moai-dev-master\vs2010\lua-lib\Release\<br />6. rename lua51.dll to lua-5.1.3.dll and copy into \moai-dev-master\vs2010\lua-dll<br />7. open \moai-dev-master\vs2010\lua\lua.vcxproj in pspad and find lua.c and change it to luajit.c<br />8.modify MOAILuaRuntime.cpp to #include lua.h instead of lstate.h, and remove the code that depends on regular lua -- commented out the dump functions they were full of red underlines<br />9. build<br />10. run &quot;cd moai-dev/src/lua-headers &amp;&amp; moai main.lua&quot; with your new moai binaries to generate a new version of the moai.lua bytecode in moai_lua.h<br />11 build again<br /><br />notes: moaiext-debugger fails to build you must build it first before you build the solution<br /><br /><br />executing the following code will tell you if you are running lua jit<br /><dl class="codebox"><dt>Code: <a href="viewtopic.php%3Ff=7&amp;t=1463&amp;start=20&amp;view=print.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="lua" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> jit <span style="color: #66cc66;">=</span> <span style="color: #0000aa;">require</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;jit&quot;</span><span style="color: #66cc66;">&#41;</span> &nbsp; &nbsp; </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; <span style="color: #0000aa;">print</span><span style="color: #66cc66;">&#40;</span>jit<span style="color: #66cc66;">.</span>status<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp;<span style="color: #aa9900; font-weight: bold;">local</span> startTime <span style="color: #66cc66;">=</span> <span style="color: #0000aa;">os.clock</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span> &nbsp; &nbsp; </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp;<span style="color: #aa9900; font-weight: bold;">local</span> x<span style="color: #66cc66;">=</span><span style="color: #cc66cc;">0</span><span style="color: #66cc66;">;</span> <span style="color: #aa9900; font-weight: bold;">for</span> i<span style="color: #66cc66;">=</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span><span style="color: #cc66cc;">1e9</span> <span style="color: #aa9900; font-weight: bold;">do</span> x<span style="color: #66cc66;">=</span><span style="color: #0000aa;">math.abs</span><span style="color: #66cc66;">&#40;</span>x<span style="color: #66cc66;">&#41;</span> <span style="color: #aa9900; font-weight: bold;">end</span> <span style="color: #808080; font-style: italic;">--takes over a minute on normal lua, &nbsp; </span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp;<span style="color: #0000aa;">print</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000aa;">os.clock</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">-</span>startTime<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /></ol></code></dd></dl></div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Moai + Luajit</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Fri Apr 19, 2013 8:47 am</strong></div>
				<div class="author">by <strong>JDance</strong></div>
				<div class="content">Thanks everyone for the instructions of settings up LuaJIT on iOS !<br /><br />I ended up running the lua headers as a dofile(&quot;moai.lua&quot;) in the lua code.<br /><br />I'm in the process of optimizing my game to run at 30 fps on my iPhone 3GS.<br /><br />This is what I can report on performance (over a 5 second profile):<br />Before LuaJIT - After<br />21 fps -&gt; after 29 fps (this might be capped)<br />1.1 s in AKUUpdate -&gt; 0.2 s in AKUUpdate (some time spent in other lua functions outside main loop instead it seems)<br />CPU frametime 65-70 ms -&gt; 35-40 ms (in xcode fps analyze tool)<br /><br />Really took a load off my own optimization work ! <img src="images/smilies/icon_e_smile.gif" alt=":)" title="Smile" /><br /><br />I'm using a lot of vectors in lua so I'm also thinking about moving those to LuaJITs FFI so they use native C structs instead of lua tables. See <!-- m --><a class="postlink" href="http://luajit.org/ext_ffi.html">http://luajit.org/ext_ffi.html</a><!-- m --></div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Moai + Luajit</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Fri Apr 19, 2013 10:43 am</strong></div>
				<div class="author">by <strong>tommo.zhou</strong></div>
				<div class="content">FFI is slow without JIT enabled.<br /><a href="http://www.freelists.org/post/luajit/FFI-in-interpreter-mode,20" class="postlink">http://www.freelists.org/post/luajit/FFI-in-interpreter-mode,20</a></div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Moai + Luajit</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Fri Apr 19, 2013 10:57 am</strong></div>
				<div class="author">by <strong>JDance</strong></div>
				<div class="content">Oh, damn! Thanks for that heads up. Maybe it can be used on Android then ..</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Moai + Luajit</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Fri Jun 28, 2013 7:59 am</strong></div>
				<div class="author">by <strong>ezraanderson</strong></div>
				<div class="content">Does anybody have android instructions?</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Moai + Luajit</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sat Jun 29, 2013 12:58 am</strong></div>
				<div class="author">by <strong>ezraanderson</strong></div>
				<div class="content"><span style="font-weight: bold">edit</span> Deleted</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Moai + Luajit</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sat Jun 29, 2013 4:56 am</strong></div>
				<div class="author">by <strong>tommo.zhou</strong></div>
				<div class="content">You should use static library in Android.mk for Luajit :<br /><dl class="codebox"><dt>Code: <a href="viewtopic.php%3Ff=7&amp;t=1463&amp;start=20&amp;view=print.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; include $<span class="br0">&#40;</span>CLEAR_VARS<span class="br0">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; LOCAL_MODULE &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; := luajit</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; LOCAL_ARM_MODE &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; := $<span class="br0">&#40;</span>MY_ARM_MODE<span class="br0">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; LOCAL_CFLAGS&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; := -include $<span class="br0">&#40;</span>MY_MOAI_ROOT<span class="br0">&#41;</span>/src/zlcore/zl_replace.h</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; LOCAL_C_INCLUDES &nbsp; &nbsp; &nbsp; &nbsp;:= $<span class="br0">&#40;</span>MY_HEADER_SEARCH_PATHS<span class="br0">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; LOCAL_SRC_FILES &nbsp; &nbsp; &nbsp; &nbsp; := $<span class="br0">&#40;</span>MY_MOAI_ROOT<span class="br0">&#41;</span>/3rdparty/luajit-<span style="">2.0</span>/android/libluajit.a</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; include $<span class="br0">&#40;</span>PREBUILT_STATIC_LIBRARY<span class="br0">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /></ol></code></dd></dl></div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Moai + Luajit</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sat Jun 29, 2013 5:05 am</strong></div>
				<div class="author">by <strong>ezraanderson</strong></div>
				<div class="content">@tommo.zhou Thank you so much for the code snippets.<br /><br />This is very simple.<br /><br /><br />LUA JIT  instructions for windows xp, jit for android<br /><span style="font-weight: bold">notes:</span><br />* must have cygwin installed<br />* must have ndk installed<br />* download LuaJIT-2.0.0.zip<br />* read this link: <!-- m --><a class="postlink" href="http://luajit.org/install.html">http://luajit.org/install.html</a><!-- m --><br />* read this link: <!-- m --><a class="postlink" href="http://stackoverflow.com/questions/4563928/linking-thirdparty-libs-libs-a-with-ndk">http://stackoverflow.com/questions/4563 ... a-with-ndk</a><!-- m --><br />* cpu matters don't think there is a universal build(this would be a probem) <br /><br /><br /><span style="font-weight: bold">** UPDATE PATHS AS NEEDED ***</span><br /><span style="font-weight: bold">** UPDATE PATHS AS NEEDED ***</span><br /><span style="font-weight: bold">** UPDATE PATHS AS NEEDED ***</span><br /><br />1. Modify MOAILuaRuntime.cpp to &gt;&gt; #include lua.h &gt;&gt; instead of &gt;&gt; #include lstate.h &gt;&gt; and remove the code that depends on regular lua -- commented out the dump functions they were full of red underlines.<br />2. extract  LuaJIT-2.0.0.zip &gt;&gt; to &gt;&gt; \3rdparty\<br />3. CHOOSE &gt;&gt; cortex-a7 or cortex-a8<br /><br /><br /><span style="font-weight: bold">cortex-a7: </span> Run the following script from \3rdparty\LuaJIT-2.0.0\ <br /><dl class="codebox"><dt>Code: <a href="viewtopic.php%3Ff=7&amp;t=1463&amp;start=20&amp;view=print.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">#!/bin/sh &nbsp; &nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">MOAIROOT=D:/moai-sdk/moai-dev-OUYA</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">NDK=D:/moai-sdk/android-ndk-r8e</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">NDKABI=<span style="">8</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">NDKVER=$NDK/toolchains/arm-linux-androideabi-<span style="">4.6</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">NDKP=$NDKVER/prebuilt//windows//bin//arm-linux-androideabi-</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">NDKF=&quot;--sysroot $NDK/platforms/android-$NDKABI/arch-arm&quot; &nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">CFLAGS=&quot;-I $MOAIROOT/src -include zlcore/zl_replace.h &quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">rm -rf android </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">mkdir android &nbsp; </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">make HOST_CC=&quot;gcc -m32&quot; CROSS=$NDKP TARGET_CFLAGS=&quot;$CFLAGS&quot; TARGET_FLAGS=&quot;$NDKF&quot; TARGET=arm TARGET_SYS=android clean all &nbsp; &nbsp; &nbsp; </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">cp -p src/libluajit.a android/libluajit.a &nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">make clean &nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">cp src/luaconf.h src/lua.h src/lauxlib.h src/lualib.h android &nbsp; &nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /></ol></code></dd></dl><br /><br /><br /><span style="font-weight: bold"> cortex-a8: </span> Run the following script from \3rdparty\LuaJIT-2.0.0\ <br /><br /><dl class="codebox"><dt>Code: <a href="viewtopic.php%3Ff=7&amp;t=1463&amp;start=20&amp;view=print.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="code" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">#!/bin/sh &nbsp; </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">rm -rf android </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">mkdir android &nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">MOAIROOT=D:/moai-sdk/moai-dev-OUYA</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">NDK=D:/moai-sdk/android-ndk-r8e</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">NDKABI=14</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">NDKVER=$NDK/toolchains/arm-linux-androideabi-4.6</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">NDKP=$NDKVER/prebuilt//windows//bin//arm-linux-androideabi-</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">NDKF=&quot;--sysroot $NDK/platforms/android-$NDKABI/arch-arm&quot;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">NDKARCH=&quot;-march=armv7-a -mcpu=cortex-a9 -mfpu=vfpv3-d16 -mfloat-abi=softfp -Wl,--fix-cortex-a8&quot; &nbsp; &nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">CFLAGS=&quot;-I $MOAIROOT/src -include zlcore/zl_replace.h &quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">make HOST_CC=&quot;gcc.exe -m32&quot; CROSS=$NDKP TARGET_CFLAGS=&quot;$CFLAGS&quot; &nbsp;TARGET_FLAGS=&quot;$NDKF $NDKARCH&quot; &nbsp;TARGET=arm &nbsp; TARGET_SYS=android clean all &nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">cp -p libluajit.a android/libluajit.a</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">make clean</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">cp luaconf.h lua.h lauxlib.h lualib.h android</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /></ol></code></dd></dl><br /><br />4. make a folder/file &gt;&gt; at &gt;&gt;  \ant\libmoai\jni\LuaJIT-2.0.0\Andriod.mk<br />5. add the following code &gt;&gt; to &gt;&gt; \ant\libmoai\jni\LuaJIT-2.0.0\Andriod.mk   <br /><dl class="codebox"><dt>Code: <a href="viewtopic.php%3Ff=7&amp;t=1463&amp;start=20&amp;view=print.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; include $<span class="br0">&#40;</span>CLEAR_VARS<span class="br0">&#41;</span> &nbsp; &nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; LOCAL_MODULE &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;:= luajit &nbsp; &nbsp; </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; LOCAL_ARM_MODE &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;:= $<span class="br0">&#40;</span>MY_ARM_MODE<span class="br0">&#41;</span> &nbsp; &nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; LOCAL_CFLAGS &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;:= -include $<span class="br0">&#40;</span>MY_MOAI_ROOT<span class="br0">&#41;</span>/src/zlcore/zl_replace.h &nbsp; &nbsp; &nbsp; </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; LOCAL_C_INCLUDES &nbsp; &nbsp; &nbsp; &nbsp;:= $<span class="br0">&#40;</span>MY_HEADER_SEARCH_PATHS<span class="br0">&#41;</span> &nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; LOCAL_SRC_FILES &nbsp; &nbsp; &nbsp; &nbsp; := $<span class="br0">&#40;</span>MY_MOAI_ROOT<span class="br0">&#41;</span>/3rdparty/LuaJIT-2.0.0/android/libluajit.a &nbsp; </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; include $<span class="br0">&#40;</span>PREBUILT_STATIC_LIBRARY<span class="br0">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /></ol></code></dd></dl><br />       <br />6. edit  &gt;&gt; \ant\libmoai\jni\Android.mk<br /><dl class="codebox"><dt>Code: <a href="viewtopic.php%3Ff=7&amp;t=1463&amp;start=20&amp;view=print.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"># header search paths</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; #MY_HEADER_SEARCH_PATHS += $<span class="br0">&#40;</span>MY_MOAI_ROOT<span class="br0">&#41;</span>/3rdparty/lua-5.1.3/src &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; MY_HEADER_SEARCH_PATHS += $<span class="br0">&#40;</span>MY_MOAI_ROOT<span class="br0">&#41;</span>/3rdparty/LuaJIT-2.0.0/src &nbsp; &nbsp; &nbsp; &nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"># libraries</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; #LOCAL_STATIC_LIBRARIES += liblua &nbsp; &nbsp; </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; LOCAL_STATIC_LIBRARIES += luajit</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"># include submodules</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; #include lua/Android.mk</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; include LuaJIT-2.0.0/Android.mk</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /></ol></code></dd></dl>  <br />7. run &gt;&gt; \ant\libmoai\clean.bat<br />8. run &gt;&gt; \ant\libmoai\build.bat<br />9. run &gt;&gt; \ant\make-host.bat<br />10. rename &gt;&gt; untitled-host &gt;&gt; to &gt;&gt; jit-host<br />11  read &gt;&gt; <!-- m --><a class="postlink" href="http://luajit.org/faq.html">http://luajit.org/faq.html</a><!-- m --> **<br />12. edit, this for print output &gt;&gt; \jit-host\build\project\assets\\init.lua &gt;&gt;<br /><dl class="codebox"><dt>Code: <a href="viewtopic.php%3Ff=7&amp;t=1463&amp;start=20&amp;view=print.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="lua" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; package<span style="color: #66cc66;">.</span>path <span style="color: #66cc66;">=</span> <span style="color: #ff6666;">&quot;?;?.lua&quot;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080; font-style: italic;">----------------------------------------------------------------</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080; font-style: italic;">-- this function supports all the ways a user could call print</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080; font-style: italic;">----------------------------------------------------------------</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000aa;">print</span> <span style="color: #66cc66;">=</span> <span style="color: #aa9900; font-weight: bold;">function</span> <span style="color: #66cc66;">&#40;</span> <span style="color: #66cc66;">...</span> <span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> output <span style="color: #66cc66;">=</span> <span style="color: #ff6666;">'LUA--&gt;'</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; <span style="color: #808080; font-style: italic;">--******************************</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; <span style="color: #808080; font-style: italic;">--LUA JIT __ MAYBECRASHES</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #808080; font-style: italic;">-- &nbsp;for i=1, select(&quot;#&quot;,...) do &nbsp; &nbsp;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080; font-style: italic;">-- if select(i,...) == nil then </span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080; font-style: italic;">-- else</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080; font-style: italic;">-- &nbsp; &nbsp; &nbsp;output = output..' &nbsp;'..tostring(select(i,...))</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080; font-style: italic;">-- end &nbsp; </span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #808080; font-style: italic;">-- end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; <span style="color: #808080; font-style: italic;">--***************************</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; <span style="color: #808080; font-style: italic;">--LUA 5.2</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080; font-style: italic;">-- local arg = table.pack(...) &nbsp; &nbsp;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080; font-style: italic;">--for i=1, arg.n do &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080; font-style: italic;">--print(i, arg[i]) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080; font-style: italic;">--output = output..' &nbsp;'..arg[i]</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080; font-style: italic;">--end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; <span style="color: #808080; font-style: italic;">--************************************</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; <span style="color: #808080; font-style: italic;">--LUA 5.1 &nbsp; &nbsp; &nbsp;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> arg <span style="color: #66cc66;">=</span> <span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">...</span><span style="color: #66cc66;">&#125;</span> &nbsp; &nbsp; &nbsp; &nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> i <span style="color: #66cc66;">=</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> &nbsp;<span style="color: #66cc66;">#</span>arg <span style="color: #aa9900; font-weight: bold;">do</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;output <span style="color: #66cc66;">=</span> output<span style="color: #66cc66;">..</span><span style="color: #ff6666;">' &nbsp;'</span><span style="color: #66cc66;">..</span><span style="color: #0000aa;">tostring</span><span style="color: #66cc66;">&#40;</span>arg<span style="color: #66cc66;">&#91;</span>i<span style="color: #66cc66;">&#93;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; MOAILogMgr<span style="color: #66cc66;">.</span><span style="color: #0000aa;">log</span> <span style="color: #66cc66;">&#40;</span> output <span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp;<span style="color: #0000aa;">print</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">'WELCOME TO LUA'</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080; font-style: italic;">----------------------------------------------------------------</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080; font-style: italic;">-- error function that actually prints the error</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080; font-style: italic;">----------------------------------------------------------------</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> superError <span style="color: #66cc66;">=</span> <span style="color: #0000aa;">error</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000aa;">error</span> <span style="color: #66cc66;">=</span> <span style="color: #aa9900; font-weight: bold;">function</span> <span style="color: #66cc66;">&#40;</span> message<span style="color: #66cc66;">,</span> level <span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000aa;">print</span> <span style="color: #66cc66;">&#40;</span> <span style="color: #ff6666;">&quot;error: &quot;</span> <span style="color: #66cc66;">..</span> message <span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000aa;">print</span> <span style="color: #66cc66;">&#40;</span> <span style="color: #0000aa;">debug</span><span style="color: #66cc66;">.</span>traceback <span style="color: #66cc66;">&#40;</span> <span style="color: #ff6666;">&quot;&quot;</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">2</span> <span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; superError <span style="color: #66cc66;">&#40;</span> message<span style="color: #66cc66;">,</span> level <span style="color: #aa9900; font-weight: bold;">or</span> <span style="color: #cc66cc;">1</span> <span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /></ol></code></dd></dl><br />   <br /> 13. edit &gt;&gt; \jit-host\build\project\androidManifest.xml &gt;&gt; include following<br /><dl class="codebox"><dt>Code: <a href="viewtopic.php%3Ff=7&amp;t=1463&amp;start=20&amp;view=print.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /></ol></code></dd></dl>     <br />     <br /> 14. add files to  \moai-dev-OUYA\src\lua-headers\(main.lua,moai.lua,moai_lua.h)  &gt;&gt; to &gt;&gt; \jit-host\build\project\assets\lua    <br /> 14. edit &gt;&gt; \jit-host\build\project\assets\lua\main.lua &gt;&gt; clear all &gt;&gt; add the following<br /> <dl class="codebox"><dt>Code: <a href="viewtopic.php%3Ff=7&amp;t=1463&amp;start=20&amp;view=print.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="lua" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp;<span style="color: #aa9900; font-weight: bold;">local</span> filename &nbsp; <span style="color: #66cc66;">=</span> <span style="color: #ff6666;">'moai.lua'</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> headername <span style="color: #66cc66;">=</span> <span style="color: #ff6666;">'moai_lua'</span> </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> compiled <span style="color: #66cc66;">=</span> <span style="color: #0000aa;">string.dump</span> <span style="color: #66cc66;">&#40;</span> <span style="color: #0000aa;">loadfile</span> <span style="color: #66cc66;">&#40;</span> filename <span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> header <span style="color: #66cc66;">=</span> MOAIDataBuffer<span style="color: #66cc66;">.</span>toCppHeader <span style="color: #66cc66;">&#40;</span> compiled<span style="color: #66cc66;">,</span> headername<span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">12</span> <span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> &nbsp; taskData_Write <span style="color: #66cc66;">=</span> MOAIDataBuffer<span style="color: #66cc66;">.</span>new<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;taskData_Write<span style="color: #66cc66;">:</span>setString<span style="color: #66cc66;">&#40;</span>header<span style="color: #66cc66;">&#41;</span> &nbsp; </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; taskData_Write<span style="color: #66cc66;">:</span>save<span style="color: #66cc66;">&#40;</span> <span style="color: #ff6666;">'/storage/sdcard0/LUA-JIT-HEADER/moai_lua.h'</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; </div></li><br /></ol></code></dd></dl>  	      <br /> <br /> 15. copy the header file off the android &gt;&gt; storage/sdcard0/LUA-JIT-HEADER/moai_lua.h &gt;&gt; to &gt;&gt; \moai-dev\src\lua-headers\   <br /> 16. run &gt;&gt; \ant\libmoai\build.bat<br /> 17. copy &gt;&gt; \ant\libmoai\libs\armeabi-v7a\libmoai.so &gt;&gt; to &gt;&gt;  \ant\jit-host\build\project\libs\armeabi-v7a\ <br /> 18. install on andriod &gt;&gt; run the following code &gt;&gt;<br /> <br /><dl class="codebox"><dt>Code: <a href="viewtopic.php%3Ff=7&amp;t=1463&amp;start=20&amp;view=print.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="lua" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #0000aa;">print</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">'Lua Versions:'</span><span style="color: #66cc66;">,</span><span style="color: #0000aa;">_VERSION</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #0000aa;">print</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">'Jit Status:'</span> &nbsp; &nbsp; &nbsp;<span style="color: #66cc66;">,</span>jit<span style="color: #66cc66;">.</span>status<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> startTime <span style="color: #66cc66;">=</span> <span style="color: #0000aa;">os.clock</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> x<span style="color: #66cc66;">=</span><span style="color: #cc66cc;">0</span><span style="color: #66cc66;">;</span> <span style="color: #aa9900; font-weight: bold;">for</span> i<span style="color: #66cc66;">=</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span><span style="color: #cc66cc;">1e9</span> <span style="color: #aa9900; font-weight: bold;">do</span> x<span style="color: #66cc66;">=</span><span style="color: #0000aa;">math.abs</span><span style="color: #66cc66;">&#40;</span>x<span style="color: #66cc66;">&#41;</span> <span style="color: #aa9900; font-weight: bold;">end</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000aa;">print</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;Jit Time&quot;</span><span style="color: #66cc66;">,</span><span style="color: #0000aa;">os.clock</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">-</span>startTime<span style="color: #66cc66;">&#41;</span> &nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /></ol></code></dd></dl><br /><br /><span style="font-weight: bold">note:</span><br />if it doesn't work redo the step-1 to step -2, I had to do a clean-extract because the ndk-clean wasn't cleaning properly.<br /><br /><span style="font-weight: bold"><br />****** I built for the OUYA which is cortex-8. I am not sure how a cortext-8 build will work on cortex-7 ******</span></div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Moai + Luajit</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sat Jun 29, 2013 12:54 pm</strong></div>
				<div class="author">by <strong>scottwb</strong></div>
				<div class="content">What are the benefits for games?</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Moai + Luajit</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sat Jun 29, 2013 7:33 pm</strong></div>
				<div class="author">by <strong>ezraanderson</strong></div>
				<div class="content">&gt;&gt;deleted</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Moai + Luajit</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sat Jun 29, 2013 7:51 pm</strong></div>
				<div class="author">by <strong>ezraanderson</strong></div>
				<div class="content">Please use the following scimark.lua and report your scores(higher scores are better)<br /><!-- m --><a class="postlink" href="http://luajit.org/download/scimark.lua">http://luajit.org/download/scimark.lua</a><!-- m --> <br /><br />edit  &gt;&gt; scimark.lua <br /><dl class="codebox"><dt>Code: <a href="viewtopic.php%3Ff=7&amp;t=1463&amp;start=20&amp;view=print.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="code" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">local function printf(...)</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; --io.write(format(...))</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; print(format(...)) &nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">end</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /></ol></code></dd></dl><br /><br /><br /><br />OUYA - Lua(jit)  -good results<br /><dl class="codebox"><dt>Code: <a href="viewtopic.php%3Ff=7&amp;t=1463&amp;start=20&amp;view=print.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="lua" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">33x faster</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /></ol></code></dd></dl><br /><br /><br /><br />OUYA - Lua(jit-pure interpreter)  -good results<br /><dl class="codebox"><dt>Code: <a href="viewtopic.php%3Ff=7&amp;t=1463&amp;start=20&amp;view=print.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="lua" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">FFT &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #cc66cc;">5.07</span> <span style="color: #66cc66;">&#91;</span><span style="color: #cc66cc;">1024</span><span style="color: #66cc66;">&#93;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">SOR &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #cc66cc;">15.47</span> <span style="color: #66cc66;">&#91;</span><span style="color: #cc66cc;">1001</span><span style="color: #66cc66;">&#93;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">MC &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #cc66cc;">3.8</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">Sparse &nbsp; &nbsp; <span style="color: #cc66cc;">10.7</span> <span style="color: #66cc66;">&#91;</span><span style="color: #cc66cc;">100</span><span style="color: #66cc66;">,</span><span style="color: #cc66cc;">5000</span><span style="color: #66cc66;">&#93;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">LU &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #cc66cc;">11.98</span><span style="color: #66cc66;">&#91;</span><span style="color: #cc66cc;">100</span><span style="color: #66cc66;">&#93;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">SCIMARK &nbsp;<span style="color: #cc66cc;">9.3</span><span style="color: #66cc66;">&#91;</span>small problem size<span style="color: #66cc66;">&#93;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /></ol></code></dd></dl><br /><br /><br /><br />OUYA - Lua(no-jit) - still gets poor fps compared to iphone-3gs<br /><dl class="codebox"><dt>Code: <a href="viewtopic.php%3Ff=7&amp;t=1463&amp;start=20&amp;view=print.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="lua" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">FFT &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #cc66cc;">4.43</span> <span style="color: #66cc66;">&#91;</span><span style="color: #cc66cc;">1024</span><span style="color: #66cc66;">&#93;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">SOR &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #cc66cc;">9.49</span> <span style="color: #66cc66;">&#91;</span><span style="color: #cc66cc;">1001</span><span style="color: #66cc66;">&#93;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">MC &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #cc66cc;">2.41</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">Sparse &nbsp; &nbsp; <span style="color: #cc66cc;">5.53</span> <span style="color: #66cc66;">&#91;</span><span style="color: #cc66cc;">100</span><span style="color: #66cc66;">,</span><span style="color: #cc66cc;">5000</span><span style="color: #66cc66;">&#93;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">LU &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #cc66cc;">6.69</span><span style="color: #66cc66;">&#91;</span><span style="color: #cc66cc;">100</span><span style="color: #66cc66;">&#93;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">SCIMARK &nbsp;<span style="color: #cc66cc;">5.71</span><span style="color: #66cc66;">&#91;</span>small problem size<span style="color: #66cc66;">&#93;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /></ol></code></dd></dl><br /><br /><br />iphone(3gs) - lua(no-jit) <br /><dl class="codebox"><dt>Code: <a href="viewtopic.php%3Ff=7&amp;t=1463&amp;start=20&amp;view=print.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="lua" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">FFT <span style="color: #cc66cc;">0.80</span> <span style="color: #66cc66;">&#91;</span><span style="color: #cc66cc;">1024</span><span style="color: #66cc66;">&#93;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">SOR <span style="color: #cc66cc;">1.72</span> <span style="color: #66cc66;">&#91;</span><span style="color: #cc66cc;">1001</span><span style="color: #66cc66;">&#93;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">MC &nbsp;<span style="color: #cc66cc;">0.55</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">Sparse <span style="color: #cc66cc;">1.03</span> <span style="color: #66cc66;">&#91;</span><span style="color: #cc66cc;">100</span><span style="color: #66cc66;">,</span><span style="color: #cc66cc;">5000</span><span style="color: #66cc66;">&#93;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">LU <span style="color: #cc66cc;">1.19</span> <span style="color: #66cc66;">&#91;</span><span style="color: #cc66cc;">100</span><span style="color: #66cc66;">&#93;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">SCIMARK <span style="color: #cc66cc;">1.06</span><span style="color: #66cc66;">&#91;</span>small problem size<span style="color: #66cc66;">&#93;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /></ol></code></dd></dl><br /><br /><br />Samsung galaxy-s2 - lua(no-jit)<br /><dl class="codebox"><dt>Code: <a href="viewtopic.php%3Ff=7&amp;t=1463&amp;start=20&amp;view=print.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="lua" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">FFT <span style="color: #cc66cc;">3.80</span> <span style="color: #66cc66;">&#91;</span><span style="color: #cc66cc;">1024</span><span style="color: #66cc66;">&#93;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">SOR <span style="color: #cc66cc;">7.00</span> <span style="color: #66cc66;">&#91;</span><span style="color: #cc66cc;">1001</span><span style="color: #66cc66;">&#93;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">MC &nbsp;<span style="color: #cc66cc;">1.86</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">Sparse <span style="color: #cc66cc;">4.06</span> <span style="color: #66cc66;">&#91;</span><span style="color: #cc66cc;">100</span><span style="color: #66cc66;">,</span><span style="color: #cc66cc;">5000</span><span style="color: #66cc66;">&#93;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">LU <span style="color: #cc66cc;">4.72</span> <span style="color: #66cc66;">&#91;</span><span style="color: #cc66cc;">100</span><span style="color: #66cc66;">&#93;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">SCIMARK <span style="color: #cc66cc;">4.15</span><span style="color: #66cc66;">&#91;</span>small problem size<span style="color: #66cc66;">&#93;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /></ol></code></dd></dl><br /><br />win(xp) - lua(jit) - really fast<br /><dl class="codebox"><dt>Code: <a href="viewtopic.php%3Ff=7&amp;t=1463&amp;start=20&amp;view=print.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="lua" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">FFT <span style="color: #cc66cc;">426</span> <span style="color: #66cc66;">&#91;</span><span style="color: #cc66cc;">1024</span><span style="color: #66cc66;">&#93;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">SOR <span style="color: #cc66cc;">827</span> <span style="color: #66cc66;">&#91;</span><span style="color: #cc66cc;">1001</span><span style="color: #66cc66;">&#93;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">MC &nbsp;<span style="color: #cc66cc;">236</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">Sparse <span style="color: #cc66cc;">405</span> <span style="color: #66cc66;">&#91;</span><span style="color: #cc66cc;">100</span><span style="color: #66cc66;">,</span><span style="color: #cc66cc;">5000</span><span style="color: #66cc66;">&#93;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">LU <span style="color: #cc66cc;">1157</span> <span style="color: #66cc66;">&#91;</span><span style="color: #cc66cc;">100</span><span style="color: #66cc66;">&#93;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">SCIMARK <span style="color: #cc66cc;">610</span><span style="color: #66cc66;">&#91;</span>small problem size<span style="color: #66cc66;">&#93;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /></ol></code></dd></dl><br /><br /><br />win(xp) - lua(no-jit)<br /><dl class="codebox"><dt>Code: <a href="viewtopic.php%3Ff=7&amp;t=1463&amp;start=20&amp;view=print.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="lua" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">FFT <span style="color: #cc66cc;">8</span> <span style="color: #66cc66;">&#91;</span><span style="color: #cc66cc;">1024</span><span style="color: #66cc66;">&#93;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">SOR <span style="color: #cc66cc;">20</span> <span style="color: #66cc66;">&#91;</span><span style="color: #cc66cc;">1001</span><span style="color: #66cc66;">&#93;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">MC &nbsp;<span style="color: #cc66cc;">6</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">Sparse <span style="color: #cc66cc;">11</span> <span style="color: #66cc66;">&#91;</span><span style="color: #cc66cc;">100</span><span style="color: #66cc66;">,</span><span style="color: #cc66cc;">5000</span><span style="color: #66cc66;">&#93;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">LU <span style="color: #cc66cc;">14</span> <span style="color: #66cc66;">&#91;</span><span style="color: #cc66cc;">100</span><span style="color: #66cc66;">&#93;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">SCIMARK <span style="color: #cc66cc;">11</span><span style="color: #66cc66;">&#91;</span>small problem size<span style="color: #66cc66;">&#93;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /></ol></code></dd></dl><br /><br /><br />osx - (I don't want to turn on my mac, I will add this later)<br /><dl class="codebox"><dt>Code: <a href="viewtopic.php%3Ff=7&amp;t=1463&amp;start=20&amp;view=print.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /></ol></code></dd></dl></div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Moai + Luajit</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sun Jun 30, 2013 8:05 am</strong></div>
				<div class="author">by <strong>ezraanderson</strong></div>
				<div class="content">1. running luajit as a pure interpreter on OUYA is 2x faster than normal lua<br />2. running luajit on OUYA is 33x faster  than the normal lua.</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Moai + Luajit</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Thu Jul 04, 2013 10:53 am</strong></div>
				<div class="author">by <strong>scottwb</strong></div>
				<div class="content">@ezraanderson<br /><br />Congrats on getting it working <img src="images/smilies/icon_e_smile.gif" alt=":)" title="Smile" /><br /><br />I'd love to hear what you did as I'm planning on switching to luajit.</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Moai + Luajit</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Thu Jul 04, 2013 7:26 pm</strong></div>
				<div class="author">by <strong>ezraanderson</strong></div>
				<div class="content">~: Sudo Bash<br /><br />My instruction writing is terrible(sorry) but i updated them it should work.<br /><br />wait for a bit before you implement. I am doing a lot of android host work, hopefully I will find some true performance gains.</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Moai + Luajit</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Fri Jul 05, 2013 11:08 am</strong></div>
				<div class="author">by <strong>an.nguyen</strong></div>
				<div class="content">Hi ezraanderson,<br /><br />I followed your instructions to make the build for Android on Mac. But I failed to build libmoai, the compilation worked, but failed at creating the .so lib. Do you have any suggestions? Thank you very much.<br /><br /><dl class="codebox"><dt>Code: <a href="viewtopic.php%3Ff=7&amp;t=1463&amp;start=20&amp;view=print.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="bash" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">......</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">StaticLibrary &nbsp;: libzlcore.a</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">SharedLibrary &nbsp;: libmoai.so</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000000; font-weight: bold;">/</span>Users<span style="color: #000000; font-weight: bold;">/</span>annguyen<span style="color: #000000; font-weight: bold;">/</span>Desktop<span style="color: #000000; font-weight: bold;">/</span>android<span style="color: #000000; font-weight: bold;">/</span>ndk<span style="color: #000000; font-weight: bold;">/</span>toolchains<span style="color: #000000; font-weight: bold;">/</span>arm-linux-androideabi-<span style="color: #000000;">4.6</span><span style="color: #000000; font-weight: bold;">/</span>prebuilt<span style="color: #000000; font-weight: bold;">/</span>darwin-x86<span style="color: #000000; font-weight: bold;">/</span>bin<span style="color: #000000; font-weight: bold;">/</span>..<span style="color: #000000; font-weight: bold;">/</span>lib<span style="color: #000000; font-weight: bold;">/</span>gcc<span style="color: #000000; font-weight: bold;">/</span>arm-linux-androideabi<span style="color: #000000; font-weight: bold;">/</span><span style="color: #000000;">4.6</span><span style="color: #000000; font-weight: bold;">/</span>..<span style="color: #000000; font-weight: bold;">/</span>..<span style="color: #000000; font-weight: bold;">/</span>..<span style="color: #000000; font-weight: bold;">/</span>..<span style="color: #000000; font-weight: bold;">/</span>arm-linux-androideabi<span style="color: #000000; font-weight: bold;">/</span>bin<span style="color: #000000; font-weight: bold;">/</span>ld: <span style="color: #000000; font-weight: bold;">/</span>Users<span style="color: #000000; font-weight: bold;">/</span>annguyen<span style="color: #000000; font-weight: bold;">/</span>Desktop<span style="color: #000000; font-weight: bold;">/</span>moai<span style="color: #000000; font-weight: bold;">/</span>projects<span style="color: #000000; font-weight: bold;">/</span>moai-dev<span style="color: #000000; font-weight: bold;">/</span>moai-dev<span style="color: #000000; font-weight: bold;">/</span>ant<span style="color: #000000; font-weight: bold;">/</span>libmoai<span style="color: #000000; font-weight: bold;">/</span>obj<span style="color: #000000; font-weight: bold;">/</span>local<span style="color: #000000; font-weight: bold;">/</span>armeabi-v7a<span style="color: #000000; font-weight: bold;">/</span>objs<span style="color: #000000; font-weight: bold;">/</span>moai<span style="color: #000000; font-weight: bold;">/</span>src<span style="color: #000000; font-weight: bold;">/</span>moai.o: <span style="color: #000000; font-weight: bold;">in</span> <span style="color: #000000; font-weight: bold;">function</span> MOAILuaSingletonClass<span style="color: #000000; font-weight: bold;">&lt;</span>MOAIAppAndroid<span style="color: #000000; font-weight: bold;">&gt;</span>::RegisterLuaClass<span style="color: #7a0874; font-weight: bold;">&#40;</span>MOAILuaState<span style="color: #000000; font-weight: bold;">&amp;</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>:..<span style="color: #000000; font-weight: bold;">/</span>..<span style="color: #000000; font-weight: bold;">/</span>..<span style="color: #000000; font-weight: bold;">/</span>src<span style="color: #000000; font-weight: bold;">/</span>moaicore<span style="color: #000000; font-weight: bold;">/</span>MOAILuaObject-impl.h:<span style="color: #000000;">102</span>: error: undefined reference to <span style="color: #ff0000;">'luaL_register'</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">......</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">collect2: <span style="color: #c20cb9; font-weight: bold;">ld</span> returned <span style="color: #000000;">1</span> <span style="color: #7a0874; font-weight: bold;">exit</span> status</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">make: <span style="color: #000000; font-weight: bold;">***</span> <span style="color: #7a0874; font-weight: bold;">&#91;</span><span style="color: #000000; font-weight: bold;">/</span>Users<span style="color: #000000; font-weight: bold;">/</span>annguyen<span style="color: #000000; font-weight: bold;">/</span>Desktop<span style="color: #000000; font-weight: bold;">/</span>moai<span style="color: #000000; font-weight: bold;">/</span>projects<span style="color: #000000; font-weight: bold;">/</span>moai-dev<span style="color: #000000; font-weight: bold;">/</span>moai-dev<span style="color: #000000; font-weight: bold;">/</span>ant<span style="color: #000000; font-weight: bold;">/</span>libmoai<span style="color: #000000; font-weight: bold;">/</span>obj<span style="color: #000000; font-weight: bold;">/</span>local<span style="color: #000000; font-weight: bold;">/</span>armeabi-v7a<span style="color: #000000; font-weight: bold;">/</span>libmoai.so<span style="color: #7a0874; font-weight: bold;">&#93;</span> Error <span style="color: #000000;">1</span></div></li><br /></ol></code></dd></dl></div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Moai + Luajit</h3>
				<div class="date"><img src="styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Fri Jul 05, 2013 5:57 pm</strong></div>
				<div class="author">by <strong>ezraanderson</strong></div>
				<div class="content">Sorry, I forgot a step because it was already done in my source code for my windows-host<br /><br /><blockquote class="uncited"><div>modify MOAILuaRuntime.cpp to #include lua.h instead of lstate.h, and remove the code that depends on regular lua -- commented out the dump functions they were full of red underlines</div></blockquote></div>
			</div>
			<hr />
		
	</div>

	<div id="page-footer">
		<div class="page-number">All times are UTC <br />Page <strong>2</strong> of <strong>4</strong></div>
		<div class="copyright">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />http://www.phpbb.com/</div>
	</div>
</div>

</body>
</html>