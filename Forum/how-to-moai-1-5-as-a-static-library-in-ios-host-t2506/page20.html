<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>Moai Forum &bull; View topic - How to Moai &quot;1.5&quot; As A Static Library in iOS host?</title>

<link rel="alternate" type="application/atom+xml" title="Feed - Moai Forum" href="../feed.php.html" /><link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="../feed.php%3Fmode=forums.html" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="../feed.php%3Fmode=topics.html" /><link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="../feed.php%3Fmode=topics_active.html" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - Apple" href="../feed.php%3Ff=18.html" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - How to Moai &quot;1.5&quot; As A Static Library in iOS host?" href="../feed.php%3Ff=18&amp;t=2506.html" />

<!--
	phpBB style name: proFormell
	Based on style:   prosilver (this is the default phpBB3 style)
	Inspired by:	  Formell (Joomla Style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:  	  Marc Alexander
	
	NOTE: This page was generated by phpBB, the free open-source bulletin board package.
	      The phpBB Group is not responsible for the content of this page and forum. For more information
	      about phpBB please visit http://www.phpbb.com
-->

<script type="text/javascript">
// <![CDATA[
	var jump_page = 'Enter the page number you wish to go to:';
	var on_page = '2';
	var per_page = '20';
	var base_url = '/forums/how-to-moai-1-5-as-a-static-library-in-ios-host-t2506/';
	var style_cookie = 'phpBBstyle';
	var style_cookie_settings = '; path=/';
	var onload_functions = new Array();
	var onunload_functions = new Array();
	var is_ie6 = false;

	/**
	* Find a member
	*/
	function find_username(url)
	{
		popup(url, 760, 570, '_usersearch');
		return false;
	}

	/**
	* New function for handling multiple calls to window.onload and window.unload by pentapenguin
	*/
	window.onload = function()
	{
		for (var i = 0; i < onload_functions.length; i++)
		{
			eval(onload_functions[i]);
		}
	}

	window.onunload = function()
	{
		for (var i = 0; i < onunload_functions.length; i++)
		{
			eval(onunload_functions[i]);
		}
	}

// ]]>
</script>
<!--[if lt IE 7]>
<script type="text/javascript">
// <![CDATA[
var is_ie6 = true;
// ]]>
</script>
<![endif]-->


<link href="../styles/proFormell/theme/print.css" rel="stylesheet" type="text/css" media="print" title="printonly" />

<link href="../style.css" rel="stylesheet" type="text/css" media="screen, projection" />



<link href="../styles/proFormell/theme/images/favicon.ico" rel="shortcut icon" />

<script type="text/javascript" src="../styles/prosilver/template/forum_fn.js"></script>
<script src="../styles/prosilver/template/jquery-1.4.4.min.js" type="text/javascript"></script>

<script type="text/javascript">
// <![CDATA[
/**
* New pop-up functions
* based on  http://yensdesign.com/2008/09/how-to-create-a-stunning-and-smooth-popup-using-jquery/
*/

//SETTING UP OUR POPUP
//0 means disabled; 1 means enabled;
var popupStatus = 0;
var openPopup = '';

//loading popup with jQuery magic!
function loadPopup()
{
	//loads popup only if it is disabled
	if(popupStatus==0)
	{
		$('#backgroundPopup').css({'opacity': '0.7'});
		// Now let's make sure we actually see the image
		var scroll = $(window).scrollTop();
		$('#popupPM').animate({marginTop: scroll}, 'fast', function() {
			// Animation complete.
			});
		$('#backgroundPopup').fadeIn('slow');
		$('#popupPM').fadeIn('slow');
		popupStatus = 1;
		openPopup = 'PM';
	}
}

//disabling popup with jQuery magic!
function disablePopup()
{
	//disables popup only if it is enabled
	if(popupStatus==1 && openPopup == 'PM')
	{
		$('#backgroundPopup').fadeOut('slow');
		$('#popupPM').fadeOut('slow');
		popupStatus = 0;
		openPopup = '';
	}
}

//centering popup
function centerPopup()
{
	//request data for centering
	var windowWidth = document.documentElement.clientWidth;
	var windowHeight = document.documentElement.clientHeight;
	var popupHeight = $('#popupPM').height();
	var popupWidth = $('#popupPM').width();
	//centering
	$('#popupPM').css({
	'position': 'absolute',
	'top': windowHeight/2-popupHeight/2,
	'left': windowWidth/2-popupWidth/2
	});
	//only need force for IE6
	$('#backgroundPopup').css({'height': windowHeight});
}

$(document).ready(function(){
	
	resize_images();
	
	
	// IE6 and below PNG fix (not really)
	if(is_ie6)
	{
		replace_png();
	}
	
	//CLOSING POPUP
	//Click the x event!
	$('#popupPMClose').click(function(){
		disablePopup();
	});
	//Click out event!
	$('#backgroundPopup').click(function(){
		disablePopup();
		disableImage();
	});
	//Press Escape event!
	$(document).keypress(function(e){
		if(e.keyCode==27 && popupStatus==1)
		{
			disablePopup();
			disableImage();
		}
	});
	
	
	// Image popup
	$('img', 'dt.attach-image').click(function(){
		image_load($(this).attr('src'), $(this).attr('alt'));
		centerImage();
	});
	
	$('.content img').click(function(){
		var check = $(this).parent().hasClass('content');
		if(check)
		{
			image_load($(this).attr('src'), $(this).attr('alt'));
			centerImage();
		}
	});
	
	// Closing Image popup
	//Click the x event!
	$('#popupImageClose').click(function(){
		disableImage();
	});
	
	//Click image box event
	$('#popupImage').click(function(){
		disableImage();
	});
	
	//Click image event
	$('#ImagePopup img').click(function(){
		disableImage();
	});
	

});

/**
* Replaces weird looking PNG files with the respectie GIF file
* Only run this if the browser is IE6 or below
*/
function replace_png()
{
	// Fix Logo
	var str = $('#logo img').attr('src'); 
	$('#logo img').attr('src', str.substring(0, str.length - 3) + 'gif');
	
	// Fix forum icons
	$('dl.icon').each(function() {
		var str = $(this).css('background-image');
		if(str != '')
		{
			$(this).css('background-image', str.substring(0, str.length - 5) + 'gif")');
		}
	});
}


/**
* Image resizer
*/
function resize_images()
{
	var hello = $('dl.attachbox dd dl.file dt.attach-image img').innerWidth();
	var maxWidth = $('div.content').innerWidth() - 30;
	
	// resize the attached images
	$('img', 'dt.attach-image').each(function(i){
		// check the width of the image
		if ($(this).width() > maxWidth)
		{
			// calculate new image dimensions
			newWidth = maxWidth;
			newHeight = $(this).height() / ( $(this).width() / maxWidth );
			   
			// set new image dimensions
			$(this).height(newHeight).width(newWidth);
		}
	});
	
	// resize the images that were added via [img] bbcode
	$('img', 'div.content').each(function(i){
		// check the width of the image
		$(this).css('max-width', maxWidth); // fix for IE
		if ($(this).width() > maxWidth)
		{
			// calculate new image dimensions
			newWidth = maxWidth;
			newHeight = $(this).height() / ( $(this).width() / maxWidth );
			   
			// set new image dimensions
			$(this).height(newHeight).width(newWidth);
		}
	});
}

/**
* Image pop-up
*/
function image_load(src, alt)
{
	//loads popup only if it is disabled
	if(popupStatus==0)
	{
		$('#ImagePopup').html('<img id="imgpopup" src="http://192.168.20.226:3000/forums/how-to-moai-1-5-as-a-static-library-in-ios-host-t2506/'&#32;+&#32;src&#32;+&#32;'" alt="' + alt + '" />');
		var windowWidth = document.documentElement.clientWidth;
		var windowHeight = document.documentElement.clientHeight;
		var maxWidth = windowWidth * 0.85;
		var maxHeight = windowHeight * 0.85;
		$('#popupImage img').css('max-width', maxWidth);
		$('#popupImage img').css('max-height', maxHeight);
		$('#backgroundPopup').css({'opacity': '0.7'});
		// Now let's make sure we actually see the image
		var scroll = $(window).scrollTop();
		$('#popupImage').animate({marginTop: scroll}, 'fast', function() {
			// Animation complete.
			});
		$('#backgroundPopup').fadeIn('slow');
		$('#popupImage').fadeIn('slow');
		popupStatus = 1;
		openPopup = 'Image';
	}
}

//centering popup
function centerImage()
{
	//request data for centering
	var windowWidth = document.documentElement.clientWidth;
	var windowHeight = document.documentElement.clientHeight;
	var popupHeight = $('#popupImage').height();
	var popupWidth = $('#popupImage').width();
	var newTop = windowHeight/2-popupHeight/2;
	var newLeft = windowWidth/2-popupWidth/2;
	//centering
	$('#popupImage').css({
	'position': 'absolute',
	'top': newTop,
	'left': newLeft
	});
	
	//only need force for IE6
	$('#backgroundPopup').css({'height': windowHeight});
}

//disabling popup with jQuery magic!
function disableImage()
{
	//disables popup only if it is enabled
	if(popupStatus==1 && openPopup == 'Image')
	{
		$('#backgroundPopup').fadeOut('slow');
		$('#popupImage').fadeOut('slow');
		popupStatus = 0;
		openPopup = '';
	}
}


// ]]>
</script>

</head>

<body id="phpbb" class="section-viewtopic ltr">
<!--- box border START -->
<div id="box">

<div class="top-left"></div><div class="top-center"></div><div class="top-right"></div>
<div id="left-border">
<div id="right-border">


<!--- box border END -->
<div class="inside">
 <div class="notopgap">
<div id="wrap">
	<a id="top" name="top" accesskey="t"></a>
	<div id="page-header">
		<div class="headerbar">
			<div class="inner"><!-- <span class="corners-top"><span></span></span> -->
			<div style="height: 140px ;">
			<div id="site-description">
				<div class="header-pad"><a href="page20.html" title="" id="logo"><img src="../styles/proFormell/imageset/site-logo.png" width="410" height="98" alt="" title="" /></a></div>
			
		<!--		<p class="site-desc">The mobile platform for pro game developers</p> -->
				<p class="skiplink"><a href="page20.html#start_here">Skip to content</a></p>
			</div>

		
    </div>

			<span class="corners-bottom"><span></span></span></div>
		</div>

		<div class="navbar">
			<div class="inner"><span class="corners-top"><span></span></span>

			<ul class="linklist navlinks">
				<li class="icon-home"><a href="../index.html" accesskey="h">Board index</a>  <strong>&#8249;</strong> <a href="../platform-specifics-f12.html">Platform Specifics</a> <strong>&#8249;</strong> <a href="../apple-f18.html">Apple</a></li>

				<li class="rightside"><a href="page20.html#" onclick="fontsizeup(); return false;" onkeypress="return fontsizeup(event);" class="fontsize" title="Change font size">Change font size</a></li>

				<li class="rightside"><a href="../memberlist.php%3Fmode=email&amp;t=2506.html" title="E-mail friend" class="sendemail">E-mail friend</a></li><li class="rightside"><a href="../viewtopic.php%3Ff=18&amp;t=2506&amp;start=20&amp;view=print.html" title="Print view" accesskey="p" class="print">Print view</a></li>
			</ul>

			

			<ul class="linklist rightside">
				<li class="icon-faq"><a href="../faq.php.html" title="Frequently Asked Questions">FAQ</a></li>
				
				
			</ul>

			<span class="corners-bottom"><span></span></span></div>
		</div>
	</div>

	<a name="start_here"></a>
	<div id="page-body">
		
<h2><a href="page20.html">How to Moai &quot;1.5&quot; As A Static Library in iOS host?</a></h2>
<!-- NOTE: remove the style="display: none" when you want to have the forum description on the topic body --><div style="display: none !important;">iPhone / iPad / OSX / xcode<br /></div>
	<p>
		
			<strong>Moderator:</strong> nosheet
		

	</p>


<div class="topic-actions">

	<div class="buttons">
	
	</div>

	
		<div class="pagination">
			41 posts
			 &bull; <a href="page20.html#" onclick="jumpto(); return false;" title="Click to jump to page…">Page <strong>2</strong> of <strong>3</strong></a> &bull; <span><a href="index.html">1</a><span class="page-sep">, </span><strong>2</strong><span class="page-sep">, </span><a href="page40.html">3</a></span>
		</div>
	

</div>
<div class="clear"></div>


	<div id="p14473" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 class="first"><a href="page20.html#p14473">Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>ezraanderson</strong> &raquo; Fri May 16, 2014 10:34 pm </p>

			

			<div class="content">~<br /><span style="font-weight: bold">I have been dealing with this same issue that last couple of days.</span><br /><br /><ul> <li>1. You need to set base-sdk to 7.0</li><li>2. And deployment target at 5.1(or6.0), I honestly don't know if you can go as low as 4.2 anymore.</li></ul><br /><span style="font-weight: bold">Things that break it are:</span><br /><br /><ul><li>1. Playhaven needs an option to disabled it -&gt; bin/create-projects-ios.sh-&gt;add -&gt; disabled_ext=&quot;${disabled_ext}PLAYHAVEN;&quot; -&gt;  before -&gt; build_dir=${PWD}-&gt; <br /><dl class="codebox"><dt>Code: <a href="page20.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="text" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">disabled_ext=&quot;${disabled_ext}PLAYHAVEN;&quot;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">build_dir=${PWD}</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /></ol></code></dd></dl><br /></li><li>2. adSupport apple requires ios 6.0, you can remove it from /ios-host/cmakelists.txt-&gt;line:80-&gt;#AdSupport</li><li>3. mobileapptracker --&gt; Haven't figure out how to remove this yet.</li></ul><br /><span style="font-weight: bold">Even when you get this far, when you try to validate the app it fails with:</span><br /><br /><ul><li>1. [IDFA] which is ad-support errors(I think)</li><li>2. 57x57 icons, which I have tried to fix, but no matter what I do, I always get this error.</li></ul><br /><span style="font-weight: bold">Notes:</span><br /><ul><li>You might have to leave adSupport in and make sure the api is never gets called.</li><li>I also get linking errors to std references sometimes, to correct this you just need to restart xcode.</li><li>To build an  archive you need to build for the profiler first</li></ul><br />Honestly, the state of the ios projects is kind of a mess it worked fine in 1.3 &amp; 1.4p0. But some of these problems are just &quot;Growing pains&quot; of new versions of ios/osx/xcode/moai. The good news is that moai-forge is being working on to correct some of these problems. Today, I am going to try what @jdance suggested earlier and rebuild a project from the &quot;1.4 xcode workspace&quot; then add-in the static-libs and header files from 1.5. Hoping this will give me more control over the project to investigate further.</div>

			<div id="sig14473" class="signature">Dead Dark: A roguelike, zombie apocalypse survival game<br /><a href="http://www.ezraanderson.com" class="postlink">My Website</a> | <a href="https://www.facebook.com/ezraanderson1979" class="postlink">My Facebook</a> | <a href="https://twitter.com/ezraanderson79" class="postlink">My Twitter</a> | <a href="https://itunes.apple.com/us/artist/ezra-anderson/id477619040" class="postlink">My Games on Itunes</a> | <a href="https://play.google.com/store/apps/developer?id=Ezra+Anderson" class="postlink">My Games on Android</a></div>

		</div>

		
			<dl class="postprofile" id="profile14473">
			<dt>
				<img src="../download/file.php%253favatar%253d1202_1372191800.jpg" width="120" height="120" alt="User avatar" /><br />
				<strong>ezraanderson</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 1020</dd><dd><strong>Joined:</strong> Wed Nov 21, 2012 9:24 pm</dd><dd><strong>Location:</strong> Canada</dd>

		</dl>
	

		<div class="back2top"><a href="page20.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p14485" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page20.html#p14485">Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>kreios</strong> &raquo; Sat May 17, 2014 10:42 am </p>

			

			<div class="content">I just submitted a build to Apple using moai 1.5. The lowest I managed to get working was iOS 5<br /><br />I did get iOS 4.3 compiling and working, but when I came to validate the archive I just kept having trouble with the icons and launch images (invalid paths). Spent a couple of days fooling round with it and in the end I had to use the asset catalogs. This was never a problem for me in the previous moai versions.<br /><br />I also got the IDFA warnings, but as I'm using Tapjoy I fixed that on the iTunes Connect side. The only other warning was something about some function having the same name as some Apple function, which I had to ignore and hope Apple does too.<br /><br />I don't think I disabled Playhaven though, or mobileapptracker.<br /><br />With all the trouble I've had updating my app to 1.5, I don't think it's worth it. I think its probably worth sticking with 1.4 until things get a bit more stable.</div>

			

		</div>

		
			<dl class="postprofile" id="profile14485">
			<dt>
				<strong>kreios</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 66</dd><dd><strong>Joined:</strong> Thu Jun 13, 2013 12:50 am</dd>

		</dl>
	

		<div class="back2top"><a href="page20.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p14494" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page20.html#p14494">Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>ezraanderson</strong> &raquo; Sun May 18, 2014 6:59 am </p>

			

			<div class="content">~<br />I tried building an xcode-workspace from scratch today, it went really well until the linking phase. I linked in all the headers and the *.a but I am stuck on this:<br /><ul><li> <!-- m --><a class="postlink" href="http://pastebin.com/gCgSr9rG">http://pastebin.com/gCgSr9rG</a><!-- m --> </li></ul>I tried disabling some of the 3rdparty modules and rebuilding with ios-build.sh but yet I have the same linking errors, I also tried adding the 3rdparty *.a, but yet I couldn't seem to get them linked in properly.  So what am I missing?<br /><br />I get more error when linking tapjoy in<br /><ul><li> <!-- m --><a class="postlink" href="http://pastebin.com/KCmX9Mfh">http://pastebin.com/KCmX9Mfh</a><!-- m --></li></ul><br /><br /><span style="font-weight: bold">edit: just noticed jdance pull request, this will probably help with disabling.</span><br /><!-- m --><a class="postlink" href="https://github.com/moai/moai-dev/pull/877/files">https://github.com/moai/moai-dev/pull/877/files</a><!-- m --></div>

			<div id="sig14494" class="signature">Dead Dark: A roguelike, zombie apocalypse survival game<br /><a href="http://www.ezraanderson.com" class="postlink">My Website</a> | <a href="https://www.facebook.com/ezraanderson1979" class="postlink">My Facebook</a> | <a href="https://twitter.com/ezraanderson79" class="postlink">My Twitter</a> | <a href="https://itunes.apple.com/us/artist/ezra-anderson/id477619040" class="postlink">My Games on Itunes</a> | <a href="https://play.google.com/store/apps/developer?id=Ezra+Anderson" class="postlink">My Games on Android</a></div>

		</div>

		
			<dl class="postprofile" id="profile14494">
			<dt>
				<img src="../download/file.php%253favatar%253d1202_1372191800.jpg" width="120" height="120" alt="User avatar" /><br />
				<strong>ezraanderson</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 1020</dd><dd><strong>Joined:</strong> Wed Nov 21, 2012 9:24 pm</dd><dd><strong>Location:</strong> Canada</dd>

		</dl>
	

		<div class="back2top"><a href="page20.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p14495" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page20.html#p14495">Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>halfnelson</strong> &raquo; Mon May 19, 2014 1:02 am </p>

			

			<div class="content">A pull request has been merged into moai-dev that allows you to use create-projects-ios.sh and where the resulting project compiles and links cleanly, archives cleanly and passes validation, it sets the sdk version to 7.0 (required by apple) and the target version to 5.1. (this might work with lower numbers). It forces the stdlib to be libstdc++ like the old xcode, this is to ensure compatibility with existing third party libs.<br /><br />In the works and nearing completion is a create-io-host-project.sh and create-ios-libs.sh, the libs script builds all of the lib moai static libs and copies them and the headers to the lib folder of the sdk, it also exports a cmake file that create-ios-host-project can use to generate a host project that uses the libs, with all the dependencies setup correctly. This host project is set to not regenerate or use cmake once created. This can be used as the &quot;protoproject&quot; as suggested earlier.<br /><br />I will release as soon as it is going and get some feedback as to how to handle plugins etc.<br /><br />Please let me know of any other problems with the create-projects-ios.sh scripts</div>

			

		</div>

		
			<dl class="postprofile" id="profile14495">
			<dt>
				<strong>halfnelson</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 636</dd><dd><strong>Joined:</strong> Thu Jun 14, 2012 4:48 am</dd>

		</dl>
	

		<div class="back2top"><a href="page20.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p14496" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page20.html#p14496">Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>nosheet</strong> &raquo; Mon May 19, 2014 8:59 am </p>

			

			<div class="content">@halfnelson, this sounds fantastic, looking forward to try it out later this week! Again, thanks for this outstanding work that you put into moving the entire Moai project forward, especially solving the biggest problem there was about the engine - the set up.<br />I hope I'll soon be able to contribute back more to this community, too, after being pretty silent on these forums for more than a month.<br />Thanks again!</div>

			<div id="sig14496" class="signature">A few games I've made, just before I stopped making them:<br /><a href="http://www.spin-up-game.com" class="postlink">http://www.spin-up-game.com</a> and <a href="http://www.foosballhero.com" class="postlink">http://www.foosballhero.com</a></div>

		</div>

		
			<dl class="postprofile" id="profile14496">
			<dt>
				<img src="../download/file.php%253favatar%253d912_1393431272.jpg" width="120" height="120" alt="User avatar" /><br />
				<strong>nosheet</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 424</dd><dd><strong>Joined:</strong> Mon May 28, 2012 9:40 pm</dd><dd><strong>Location:</strong> Madrid, Spain</dd>

		</dl>
	

		<div class="back2top"><a href="page20.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p14506" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page20.html#p14506">Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>sshukul</strong> &raquo; Tue May 20, 2014 9:26 am </p>

			

			<div class="content">Thanks ezra, kreios ... as you guys suggested I've just stuck with the 1.4 host for now and made my lua script calls compatible with both hosts, I was also spending way too much time trying to get it to work. <br /><br />The only major tangible benefit for me for upgrading to 1.5 right now would be the LuaJIT integration, which is only partially beneficial in iOS unlike Android, so I guess I'll wait it out until the dust settles a little. The garbage collection improvements would be nice too but crashes have been less of a problem on iOS for me than Android.<br /><br />Your stuff sounds really great though halfnelson, especially the protoproject libs option as I too tend to make custom changes to the host so it would be a pain to redo them after every major upgrade, will try it when it's out. Thanks again, you've really brought Moai back to life. <br /><br />Likewise I too hope to contribute back to the community once I've got all my stability upgrades and platforms out. This first game had a pretty long maintenance and upgrade period as I learnt so much with it, but looks like it's finally tapering off. I've got some Moai plugins and tools sitting around that I think would be really helpful to the community once I've got all the hacks and kinks out.</div>

			

		</div>

		
			<dl class="postprofile" id="profile14506">
			<dt>
				<img src="../download/file.php%253favatar%253d1389_1402231553.jpg" width="100" height="100" alt="User avatar" /><br />
				<strong>sshukul</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 82</dd><dd><strong>Joined:</strong> Wed Mar 27, 2013 8:44 am</dd>

		</dl>
	

		<div class="back2top"><a href="page20.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p14509" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page20.html#p14509">Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>halfnelson</strong> &raquo; Tue May 20, 2014 11:36 am </p>

			

			<div class="content">Thanks for the feedback sshukul. Out of interest, for the changes you say you make to the host, are they in the moai-iphone lib or in moaiview etc classes? Just wondering whether to leave the moai-iphone classes as source so they can be easily modified and the rest as libs.</div>

			

		</div>

		
			<dl class="postprofile" id="profile14509">
			<dt>
				<strong>halfnelson</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 636</dd><dd><strong>Joined:</strong> Thu Jun 14, 2012 4:48 am</dd>

		</dl>
	

		<div class="back2top"><a href="page20.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p14516" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page20.html#p14516">Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>ezraanderson</strong> &raquo; Tue May 20, 2014 10:29 pm </p>

			

			<div class="content">~<br />So I successful rebuilt a project from scratch today by adding all the correct files &amp; library's. It only took about 30 minutes.<br /><br />1. You can use an old moai-xcode project or build from scratch(a least get, the icons &amp; plists)<br /><ul><li> <!-- m --><a class="postlink" href="https://github.com/moai/moai-dev/tree/1.4-development/xcode/ios">https://github.com/moai/moai-dev/tree/1 ... /xcode/ios</a><!-- m --></li></ul>2. Run -&gt; ./bin/build-ios.sh ./lua-project/<br />3. Collect all the built *.a, add them to your xcode project, build phases -&gt; link binary<br />4.  Add all of the correct files, lines:20-&gt;30<br /><ul><li> <!-- m --><a class="postlink" href="https://github.com/moai/moai-dev/blob/master/cmake/host-ios/CMakeLists.txt">https://github.com/moai/moai-dev/blob/m ... eLists.txt</a><!-- m --></li></ul><dl class="codebox"><dt>Code: <a href="page20.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="lua" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; <span style="color: #ff6666;">&quot;${IOS_HOST}/*.cpp&quot;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; <span style="color: #ff6666;">&quot;${IOS_HOST}/*.mm&quot;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; <span style="color: #ff6666;">&quot;${IOS_HOST}/*.h&quot;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; <span style="color: #ff6666;">&quot;${MOAI_ROOT}/src/host-modules/*.cpp&quot;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; <span style="color: #ff6666;">&quot;${MOAI_ROOT}/src/host-modules/*.h&quot;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; <span style="color: #ff6666;">&quot;${MOAI_ROOT}/src/host-glut/ParticlePresets.cpp&quot;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; <span style="color: #ff6666;">&quot;${MOAI_ROOT}/src/host-glut/ParticlePresets.h&quot;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">file <span style="color: #66cc66;">&#40;</span> GLOB MOAIIOS_RESOURCES $<span style="color: #66cc66;">&#123;</span>IOS_HOST<span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">/*.</span>png<span style="color: #66cc66;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /></ol></code></dd></dl><br />5.  Add all of apples library, line:69-&gt;90, build phases -&gt; link binary<br /><ul><li> <!-- m --><a class="postlink" href="https://github.com/moai/moai-dev/blob/master/cmake/host-ios/CMakeLists.txt">https://github.com/moai/moai-dev/blob/m ... eLists.txt</a><!-- m --></li></ul><dl class="codebox"><dt>Code: <a href="page20.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="text" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;AdSupport</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; AudioToolbox</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; CoreAudio</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; CoreGraphics</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; CoreLocation</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; CoreTelephony</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; CoreMotion</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; CFNetwork</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; Foundation</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; GameKit</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; EventKit</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; MediaPlayer</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; MobileCoreServices</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; MessageUI</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; OpenGLES</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; QuartzCore</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; StoreKit</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; Social</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; SystemConfiguration</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; Twitter</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; UIKit</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /></ol></code></dd></dl><br />6. Add -&gt; build phases -&gt; link binary<br /><dl class="codebox"><dt>Code: <a href="page20.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="text" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">libc++.dylib</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /></ol></code></dd></dl><br />7. Add needed third parties library, by dragging them into xcode, and let xcode copy the files into the project<br /><dl class="codebox"><dt>Code: <a href="page20.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="text" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">3rdparty/chartboostiOS-3.0.7</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">3rdparty/crittercismiOS-4.0.6</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">3rdparty/facebookiOS-3.0.6.b</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">3rdparty/MobileAppTracking-ios</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">3rdparty/TapjoySDK_iOS_v9.1.0</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /></ol></code></dd></dl> <br />8. @jdance thanks -&gt; add -&gt; build-settings -&gt; search paths -&gt; user header search paths<br /><dl class="codebox"><dt>Code: <a href="page20.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="text" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&quot;/volumes/pull/moai-dev/src&quot;/** &quot;/volumes/pull/moai-dev/3rdparty/LuaJIT-2.0.1/src&quot; &quot;/volumes/pull/moai-dev/3rdparty/contrib&quot; &quot;/volumes/pull/moai-dev/3rdparty/tinyxml&quot; &quot;/volumes/pull/moai-dev/3rdparty/lpng140&quot; &quot;/volumes/pull/moai-dev/3rdparty/c-ares-1.7.5&quot; &quot;/volumes/pull/moai-dev/3rdparty/openssl-1.0.0d/include-iphone&quot; &quot;/volumes/pull/moai-dev/3rdparty/curl-7.19.7/include-iphone&quot; &quot;/volumes/pull/moai-dev/3rdparty/curl-7.19.7/lib&quot; &quot;/volumes/pull/moai-dev/3rdparty/expat-2.0.1/lib&quot; &quot;/volumes/pull/moai-dev/3rdparty/freetype-2.4.4/include&quot; &quot;/volumes/pull/moai-dev/3rdparty/box2d-2.2.1&quot; &quot;/volumes/pull/moai-dev/3rdparty/chipmunk-5.3.4/include&quot; &quot;/volumes/pull/moai-dev/3rdparty/chipmunk-5.3.4/include/chipmunk&quot; &quot;/volumes/pull/moai-dev/3rdparty/luacrypto-0.2.0/src&quot; &quot;/volumes/pull/moai-dev/3rdparty/luacurl-1.2.1/src&quot; &quot;/volumes/pull/moai-dev/3rdparty/luasocket-2.0.2/src&quot; &quot;/volumes/pull/moai-dev/3rdparty/luasql-2.2.0/src&quot; &quot;/volumes/pull/moai-dev/3rdparty/libogg-1.2.2/include&quot; &quot;/volumes/pull/moai-dev/3rdparty/jansson-2.1/src&quot; &quot;/volumes/pull/moai-dev/3rdparty/jpeg-8c&quot; &quot;/volumes/pull/moai-dev/3rdparty/untz/include&quot; &quot;/volumes/pull/moai-dev/3rdparty/untz/src&quot; &quot;/volumes/pull/moai-dev/3rdparty/libvorbis-1.3.2/lib&quot; &quot;/volumes/pull/moai-dev/3rdparty/libvorbis-1.3.2/include&quot; &quot;/volumes/pull/moai-dev/3rdparty/tlsf-2.0&quot; &quot;/volumes/pull/moai-dev/3rdparty/zlib-1.2.3&quot; &quot;/volumes/pull/moai-dev/3rdparty/ooid-0.99&quot; &quot;/volumes/pull/moai-dev/3rdparty/tapjoyiOS-8.1.9/TapjoyConnect&quot; &quot;/volumes/pull/moai-dev/3rdparty/crittercismiOS-3.3.3/CrittercismSDK-crashonly&quot; &quot;/volumes/pull/moai-dev/3rdparty/chartboostiOS-3.0.7&quot; &quot;/volumes/pull/moai-dev/3rdparty/facebookiOS-3.0.6.b/src&quot; &quot;/volumes/pull/moai-dev/3rdparty/vungle116/lib&quot; &quot;/volumes/pull/moai-dev/3rdparty/adcolonyiOS-1911/Library&quot; &quot;/volumes/pull/moai-dev/3rdparty/&quot; &quot;/volumes/pull/moai-dev/3rdparty/mongoose&quot; &quot;/Users/ezra/Desktop/host_ios/&quot;/**</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /></ol></code></dd></dl><br />9. build settings -&gt; custom compiler flags  -&gt; other Cflags &amp; other C++ flags -&gt;<br /><dl class="codebox"><dt>Code: <a href="page20.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="text" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">-include &quot;/Volumes/pull/moai-dev/src/zl-vfs/zl_replace.h&quot;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /></ol></code></dd></dl><br /><br /><span style="font-weight: bold">Notes:</span><br /><ul><li> 3rdparty library are tricky to get linked in correctly.</li><li> Errors like &quot;Undefined symbols for architecture armv7:&quot; --&gt; <!-- m --><a class="postlink" href="http://pastebin.com/gCgSr9rG">http://pastebin.com/gCgSr9rG</a><!-- m --> --&gt; probably mean the framework is not linked in correctly</li><li> The *.a(libs) are armv7, so they wont work on the simulator, moai-forge branch exports fat libs that can work on the simulator.</li><li> My previous post errors were caused by missing 3rdparty &amp; Apple *.a(libs)</li><li> I haven't tried archiving or validation.</li></ul><br /><br />This post is probably pointless because I know halfnelson has better solution coming but it might be a useful reference so I thought I would post it anyways.<br /><br />Thank you halfnelson for you awesome work <img src="../images/smilies/icon_e_smile.gif" alt=":)" title="Smile" /><br /><br />-----------------------------------------------------------------------------------------------------------------------------------<br /><br /><span style="font-weight: bold">edit:</span> Seems to deploy and run fine with -&gt; IOS deployment target -&gt; ios4.3 -&gt; on my IOS 6.0.1 device.<br /><span style="font-weight: bold">edit</span> warning &quot;the app references non-public selectors in payload/appname.app/appname&quot; my guess is its in a 3rdparty library, I updated facebook sdk but still get the same warning, the following link tells you to igoner the warning<br /><ul><li> <!-- m --><a class="postlink" href="http://stackoverflow.com/questions/21423971/the-app-references-non-public-selectors-in-payload-appname-app-appname-termina">http://stackoverflow.com/questions/2142 ... me-termina</a><!-- m --></li></ul><span style="font-weight: bold">edit:</span> [IDFA] error, I had to enable this in iTunes connect, if disabled your binary will be rejected automatically, this is caused by 3rdparty libraries, Facebook &amp; playheaven, and the apple *.a(lib)  adSupport(I think).<br /><ul><li> <!-- m --><a class="postlink" href="http://stackoverflow.com/questions/22979151/improper-advertising-identifier-idfa-usage">http://stackoverflow.com/questions/2297 ... idfa-usage</a><!-- m --></li></ul><span style="font-weight: bold">edit:</span> added some icons<br /><dl class="codebox"><dt>Code: <a href="page20.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="text" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">80x80, Icon-Small-40@2x</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">120x120, Icon-60@2x</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /></ol></code></dd></dl><br />And submitted an app that passed apples auto-reject, and the app went in for review.</div>

			
				<div class="notice">Last edited by ezraanderson on Fri May 30, 2014 6:17 pm, edited 6 times in total.
					
				</div>
			<div id="sig14516" class="signature">Dead Dark: A roguelike, zombie apocalypse survival game<br /><a href="http://www.ezraanderson.com" class="postlink">My Website</a> | <a href="https://www.facebook.com/ezraanderson1979" class="postlink">My Facebook</a> | <a href="https://twitter.com/ezraanderson79" class="postlink">My Twitter</a> | <a href="https://itunes.apple.com/us/artist/ezra-anderson/id477619040" class="postlink">My Games on Itunes</a> | <a href="https://play.google.com/store/apps/developer?id=Ezra+Anderson" class="postlink">My Games on Android</a></div>

		</div>

		
			<dl class="postprofile" id="profile14516">
			<dt>
				<img src="../download/file.php%253favatar%253d1202_1372191800.jpg" width="120" height="120" alt="User avatar" /><br />
				<strong>ezraanderson</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 1020</dd><dd><strong>Joined:</strong> Wed Nov 21, 2012 9:24 pm</dd><dd><strong>Location:</strong> Canada</dd>

		</dl>
	

		<div class="back2top"><a href="page20.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p14517" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page20.html#p14517">Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>halfnelson</strong> &raquo; Tue May 20, 2014 10:54 pm </p>

			

			<div class="content">I am glad you got it going ezra! The resulting project that you end up with is what I am aiming for anyway, I will follow your instructions and create a template project, and make sure that any generated projects match that one. Great stuff.</div>

			

		</div>

		
			<dl class="postprofile" id="profile14517">
			<dt>
				<strong>halfnelson</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 636</dd><dd><strong>Joined:</strong> Thu Jun 14, 2012 4:48 am</dd>

		</dl>
	

		<div class="back2top"><a href="page20.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p14522" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page20.html#p14522">Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>sshukul</strong> &raquo; Wed May 21, 2014 9:35 am </p>

			

			<div class="content">@halfnelson most of my changes are in MoaiAppDelegate.mm for anti-piracy stuff and MoaiView.mm for fixing landscape orientation issues etc. I added a couple of methods to the moai-iphone lib as well, so it might be handy to leave it as source, as that's where people will probably want to add custom method calls from lua. The rest shouldn't need any modification as far as I can see.<br /><br />@ezra thanks for the detailed instructional, can't wait to try it out.</div>

			

		</div>

		
			<dl class="postprofile" id="profile14522">
			<dt>
				<img src="../download/file.php%253favatar%253d1389_1402231553.jpg" width="100" height="100" alt="User avatar" /><br />
				<strong>sshukul</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 82</dd><dd><strong>Joined:</strong> Wed Mar 27, 2013 8:44 am</dd>

		</dl>
	

		<div class="back2top"><a href="page20.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p14580" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page20.html#p14580">Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>nosheet</strong> &raquo; Fri May 23, 2014 11:08 am </p>

			

			<div class="content">I took a bit of time (obviously not enough time) to test the new build scripts, and I must say I am completely lost on what to do with the XCode project created by create-project-ios.sh script.<br />It has several build schemes that I am not sure what they are supposed to do (ALL_BUILD and ZERO_CHECK), I assume they somehow build and link the Moai-related libraries, because I don't see any libraries anywhere in the project. Also, the host includes and runs the Lua source files from samples/hello-moai (I assume the path to Lua source files is buried in some CMake script), despite the fact that MOAIAppDelegate should be running the moai.lua file in [bundle resources path]/lua folder (which I assume doesn't even exist in this project).<br /><br />The only thing I can do with the project is hit &quot;build&quot; button which, as if by a miracle (I say miracle because I don't see any libraries or where the path to samples/hello-moai was set) will actually spit out an app and install it into my device with the default hello-moai sample, but apart from that I don't even know how to start using the host (ie. adding source files or more importantly, making a copy of entire project so I can reuse it in different apps).</div>

			<div id="sig14580" class="signature">A few games I've made, just before I stopped making them:<br /><a href="http://www.spin-up-game.com" class="postlink">http://www.spin-up-game.com</a> and <a href="http://www.foosballhero.com" class="postlink">http://www.foosballhero.com</a></div>

		</div>

		
			<dl class="postprofile" id="profile14580">
			<dt>
				<img src="../download/file.php%253favatar%253d912_1393431272.jpg" width="120" height="120" alt="User avatar" /><br />
				<strong>nosheet</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 424</dd><dd><strong>Joined:</strong> Mon May 28, 2012 9:40 pm</dd><dd><strong>Location:</strong> Madrid, Spain</dd>

		</dl>
	

		<div class="back2top"><a href="page20.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p14601" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page20.html#p14601">Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>halfnelson</strong> &raquo; Fri May 23, 2014 9:51 pm </p>

			

			<div class="content">nosheet: I think that is the point of this whole thread. Getting to a copy paste-able reusable project. <br /><br />Currently the create-projects-ios.sh script takes a command line parameter of the path to the lua files and adds them to resources (under &quot;moai&quot; folder from memory), the libraries are all there in the project, the are under subfolders. <br /><br />It is currently a one shot thing and assumes that you don't want to make too many changes to the project. You can follow ezra's guide to setting it up to just build the libs, and having a hand crafted project file (like the 1.4p0 project that was never ported to 1.5) that links to those libs.<br /><br />ALL_BUILD (builds all targets) and ZERO_CHECK (recreates the project files if it detects changes to the cmakelists.txt sources) and are the price paid for once project file format (cmakelists.txt) many output types (vstudio, makefile, xcodeproj, mingw makefile, android makefile, etc)<br /><br />But since the ios host code is only ever xcodeproj, I am trying to pull that part out as a standalone copy paste-able project and have the rest still generated and compiled by cmake+xcode. Ezra has a walkthrough on how to do this manually (he might even share his project).</div>

			

		</div>

		
			<dl class="postprofile" id="profile14601">
			<dt>
				<strong>halfnelson</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 636</dd><dd><strong>Joined:</strong> Thu Jun 14, 2012 4:48 am</dd>

		</dl>
	

		<div class="back2top"><a href="page20.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p14706" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page20.html#p14706">Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>vladpalos</strong> &raquo; Tue Jun 03, 2014 5:21 pm </p>

			

			<div class="content">Hi guys, great job on the 1.5 version! <br /><br />The problems I had while compiling where related to the fact that my (mac) partition was formatted with case-sensitive filename support and as such, I had some errors like &quot;include: No such file or directory&quot;.<br /><br />As I recall, the problems were with chartboostIOS-3.0.7 name, where in fact it was chartboostiOS-3.0.7 (notice the capital i). Also I had a problem with OpenUDID ( openUDID ) and playhaven PHPublisherSubcontentRequest.h (PHPublisherSubContentRequest.h).<br /><br />To fix this I changed the source code and built information to macth the actual filenames on disk.<br /><br />However, after I successfully compiled the source code (with about 100 warnings), the built somehow stops with the status: <span style="font-weight: bold">Canceled</span>.<br /><br />Does anyone have any idea why is this happenning?</div>

			

		</div>

		
			<dl class="postprofile" id="profile14706">
			<dt>
				<strong>vladpalos</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 25</dd><dd><strong>Joined:</strong> Mon Oct 15, 2012 10:55 am</dd>

		</dl>
	

		<div class="back2top"><a href="page20.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p14708" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page20.html#p14708">Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>JDance</strong> &raquo; Tue Jun 03, 2014 5:59 pm </p>

			

			<div class="content">@vlad check the compile log, pure text version. Otherwise its some xcode thing so --&gt; stackoverflow <img src="../images/smilies/icon_e_smile.gif" alt=":)" title="Smile" /></div>

			

		</div>

		
			<dl class="postprofile" id="profile14708">
			<dt>
				<img src="../download/file.php%253favatar%253d1128_1359560257.jpg" width="98" height="99" alt="User avatar" /><br />
				<strong>JDance</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 450</dd><dd><strong>Joined:</strong> Mon Oct 08, 2012 7:11 am</dd><dd><strong>Location:</strong> http://skyturns.se</dd>

		</dl>
	

		<div class="back2top"><a href="page20.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p14709" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page20.html#p14709">Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>halfnelson</strong> &raquo; Tue Jun 03, 2014 9:54 pm </p>

			

			<div class="content">@vlad, if you were using the project generated by create-projects-ios.sh then having it cancel partway through a build can happen if it detects a change to one of the cmakelists.txt. Just rebuild again and it should go fine.</div>

			

		</div>

		
			<dl class="postprofile" id="profile14709">
			<dt>
				<strong>halfnelson</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 636</dd><dd><strong>Joined:</strong> Thu Jun 14, 2012 4:48 am</dd>

		</dl>
	

		<div class="back2top"><a href="page20.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p14747" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page20.html#p14747">Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>ezraanderson</strong> &raquo; Mon Jun 09, 2014 8:00 pm </p>

			

			<div class="content">@Jdance &amp; Everyone.<br /><br />When using &quot;build-ios.sh&quot; it outputs debug library's which are not optimized. So you are going to want to make release library's with:<br /><ul><li> <!-- m --><a class="postlink" href="https://github.com/moai/moai-dev/blob/master/bin/build-ios.sh">https://github.com/moai/moai-dev/blob/m ... ild-ios.sh</a><!-- m --></li></ul><dl class="codebox"><dt>Code: <a href="page20.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="text" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">line 212: xcodebuild -target moai -sdk ${SDK} -arch ${ARCH} -configuration Release IPHONEOS_DEPLOYMENT_TARGET='6.1'</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /></ol></code></dd></dl><br /><br />If your targeting lower deployment, lowering the &quot;IPHONEOS_DEPLOYMENT_TARGET&quot;  is necessary step to avoid special optimization from &quot;miphoneos-version-min=7.0&quot; . Error from mismatched optimization and deployment targets:<br /><ul><li> <!-- m --><a class="postlink" href="http://stackoverflow.com/questions/19015780/sincos-stret-undefined-symbol-when-linking">http://stackoverflow.com/questions/1901 ... en-linking</a><!-- m --></li></ul><dl class="codebox"><dt>Code: <a href="page20.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="text" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">dyld: lazy symbol binding failed, ___sincos_stret </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /></ol></code></dd></dl><br /><br />However, lua-jit now fails to build when lowering the &quot;IPHONEOS_DEPLOYMENT_TARGET&quot;<br /><dl class="codebox"><dt>Code: <a href="page20.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="text" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">./lj_def.h:45:10: fatal error: 'string.h' file not found</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /></ol></code></dd></dl><br /><br /><br /><span style="font-weight: bold">edit:</span> I got lua-jit to build by dropping in the 6.1.sdk for Device &amp; Simulator. This appeared to make lua-jit build 4 times(as a fat lib).<br /><ul><li> Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS6.1.sdk</li><li> Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator6.1.sdk</li></ul><br />I am a little concerned this will break app-submission.<br /><br /><span style="font-weight: bold">edit:</span> I think the appropriate fix is probably in one of these files:<br /><ul><li>third-party/luajit/CMakeLists.txt --&gt; <!-- m --><a class="postlink" href="https://github.com/moai/moai-dev/blob/master/cmake/third-party/luajit/CMakeLists.txt">https://github.com/moai/moai-dev/blob/m ... eLists.txt</a><!-- m --></li><li>third-party/luajit/luajit_ios.sh --&gt; <!-- m --><a class="postlink" href="https://github.com/moai/moai-dev/blob/master/cmake/third-party/luajit/luajit_ios.sh">https://github.com/moai/moai-dev/blob/m ... jit_ios.sh</a><!-- m --></li></ul><br /><span style="font-weight: bold">Conclusion: </span><br />Release libs --&gt; C++ logic &amp; loops are easily twice as fast.<br />Lua-jit --&gt; Calls between lua and C are twice as fast, all lua stuff seems twice as fast.<br />Results --&gt; If your bottleneck is in logic &amp; loops, running lua-jit &amp; release binary's appear to be essential.</div>

			<div id="sig14747" class="signature">Dead Dark: A roguelike, zombie apocalypse survival game<br /><a href="http://www.ezraanderson.com" class="postlink">My Website</a> | <a href="https://www.facebook.com/ezraanderson1979" class="postlink">My Facebook</a> | <a href="https://twitter.com/ezraanderson79" class="postlink">My Twitter</a> | <a href="https://itunes.apple.com/us/artist/ezra-anderson/id477619040" class="postlink">My Games on Itunes</a> | <a href="https://play.google.com/store/apps/developer?id=Ezra+Anderson" class="postlink">My Games on Android</a></div>

		</div>

		
			<dl class="postprofile" id="profile14747">
			<dt>
				<img src="../download/file.php%253favatar%253d1202_1372191800.jpg" width="120" height="120" alt="User avatar" /><br />
				<strong>ezraanderson</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 1020</dd><dd><strong>Joined:</strong> Wed Nov 21, 2012 9:24 pm</dd><dd><strong>Location:</strong> Canada</dd>

		</dl>
	

		<div class="back2top"><a href="page20.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p14749" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page20.html#p14749">Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>ezraanderson</strong> &raquo; Tue Jun 10, 2014 2:31 am </p>

			

			<div class="content">~<br />This is my finial xcodebuild command.  Adding &quot;GCC_FAST_MATH=YES LLVM_VECTORIZE_LOOPS=YES&quot; gave me 5 fps more on my C++ loops &amp; logic. <br /><br /><dl class="codebox"><dt>Code: <a href="page20.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="lua" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">xcodebuild <span style="color: #66cc66;">-</span>target moai <span style="color: #66cc66;">-</span>sdk $<span style="color: #66cc66;">&#123;</span>SDK<span style="color: #66cc66;">&#125;</span> <span style="color: #66cc66;">-</span>arch $<span style="color: #66cc66;">&#123;</span>ARCH<span style="color: #66cc66;">&#125;</span> <span style="color: #66cc66;">-</span>configuration Release IPHONEOS_DEPLOYMENT_TARGET<span style="color: #66cc66;">=</span><span style="color: #ff6666;">'6.1'</span> GCC_FAST_MATH<span style="color: #66cc66;">=</span>YES LLVM_VECTORIZE_LOOPS<span style="color: #66cc66;">=</span>YES<span style="color: #66cc66;">;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /></ol></code></dd></dl><br /><br />However, Sqlite wouldn't build with fast-math, and facebook requires sqlite.<br /><br />My biggest bottleneck now for iOS is just drawing pixels.</div>

			<div id="sig14749" class="signature">Dead Dark: A roguelike, zombie apocalypse survival game<br /><a href="http://www.ezraanderson.com" class="postlink">My Website</a> | <a href="https://www.facebook.com/ezraanderson1979" class="postlink">My Facebook</a> | <a href="https://twitter.com/ezraanderson79" class="postlink">My Twitter</a> | <a href="https://itunes.apple.com/us/artist/ezra-anderson/id477619040" class="postlink">My Games on Itunes</a> | <a href="https://play.google.com/store/apps/developer?id=Ezra+Anderson" class="postlink">My Games on Android</a></div>

		</div>

		
			<dl class="postprofile" id="profile14749">
			<dt>
				<img src="../download/file.php%253favatar%253d1202_1372191800.jpg" width="120" height="120" alt="User avatar" /><br />
				<strong>ezraanderson</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 1020</dd><dd><strong>Joined:</strong> Wed Nov 21, 2012 9:24 pm</dd><dd><strong>Location:</strong> Canada</dd>

		</dl>
	

		<div class="back2top"><a href="page20.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p14751" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page20.html#p14751">Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>JDance</strong> &raquo; Tue Jun 10, 2014 8:10 am </p>

			

			<div class="content">Sounds interesting! Did you run <span style="font-weight: bold">./build-ios.sh -release</span> before trying this out? Why would <span style="font-weight: bold">--configuration Release</span> change minimum platform target to ios 7 ?</div>

			

		</div>

		
			<dl class="postprofile" id="profile14751">
			<dt>
				<img src="../download/file.php%253favatar%253d1128_1359560257.jpg" width="98" height="99" alt="User avatar" /><br />
				<strong>JDance</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 450</dd><dd><strong>Joined:</strong> Mon Oct 08, 2012 7:11 am</dd><dd><strong>Location:</strong> http://skyturns.se</dd>

		</dl>
	

		<div class="back2top"><a href="page20.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p14763" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page20.html#p14763">Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>ezraanderson</strong> &raquo; Tue Jun 10, 2014 6:31 pm </p>

			

			<div class="content">~<br /><blockquote class="uncited"><div>./build-ios.sh -release</div></blockquote><br /><br />Yes, I tried this ./build-ios.sh -release, I also tried manually  setting &quot;-DCMAKE_BUILD_TYPE=&quot; in the script, also tried many other variations,  I am guessing &quot;xcodebuild&quot; just ignores it. <br /><br /><blockquote class="uncited"><div>minimum platform target to ios 7 </div></blockquote><br /><br />Even with a &quot;debug build&quot; you will see &quot;miphoneos-version-min=7.0&quot; in the console output  but because no optimization is taken place you will have no errors when lower your deployment target via-xcode-ide and loading  the code to the device. But with optimizing it appears to optimize by the deployment target.<br /><br /><blockquote class="uncited"><div>-configuration Release</div></blockquote><br /><br />If you look at the &quot;build.sh&quot; scripts in the 1.4p0 xcode-ios project they use &quot;-configuration $config&quot;<br /><dl class="codebox"><dt>Code: <a href="page20.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="text" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">xcodebuild -configuration $config -workspace /Volumes/moai-sdk/moai-dev-Version-1.4p0/moai-dev-Version-1.4p0/xcode/ios/MoaiSample.xcodeproj/project.xcworkspace -scheme moai -sdk iphoneos build CONFIGURATION_BUILD_DIR=/Users/ezra/Desktop/SAMPLE/$job/ios/$config </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /></ol></code></dd></dl><br /><br />When its building you should see the optimization level In the console output. <br /><dl class="codebox"><dt>Code: <a href="page20.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="text" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">Relase: &quot;-O3&quot;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">Debug: &quot;-O0&quot;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /></ol></code></dd></dl><br /><br />A helpful hint for passing build flags into &quot;xcodebuild&quot; is to open up &quot;project.pbxproj&quot; from an xcode-workspace, and find the value you want to pass to xcodebuild.<br /><dl class="codebox"><dt>Code: <a href="page20.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="text" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">PRODUCT_NAME=moai;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /></ol></code></dd></dl></div>

			<div id="sig14763" class="signature">Dead Dark: A roguelike, zombie apocalypse survival game<br /><a href="http://www.ezraanderson.com" class="postlink">My Website</a> | <a href="https://www.facebook.com/ezraanderson1979" class="postlink">My Facebook</a> | <a href="https://twitter.com/ezraanderson79" class="postlink">My Twitter</a> | <a href="https://itunes.apple.com/us/artist/ezra-anderson/id477619040" class="postlink">My Games on Itunes</a> | <a href="https://play.google.com/store/apps/developer?id=Ezra+Anderson" class="postlink">My Games on Android</a></div>

		</div>

		
			<dl class="postprofile" id="profile14763">
			<dt>
				<img src="../download/file.php%253favatar%253d1202_1372191800.jpg" width="120" height="120" alt="User avatar" /><br />
				<strong>ezraanderson</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 1020</dd><dd><strong>Joined:</strong> Wed Nov 21, 2012 9:24 pm</dd><dd><strong>Location:</strong> Canada</dd>

		</dl>
	

		<div class="back2top"><a href="page20.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p14775" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="page20.html#p14775">Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>vladpalos</strong> &raquo; Thu Jun 12, 2014 5:56 am </p>

			

			<div class="content">Thank you @JDance and @halfnelson,<br /><br />The problem still was the case-sensitive partition stuff.<br />I've found out that I had another partition formatted without the case-sensitive option, so I cloned again the moai repo and it compiled without any problems.<br /><br />Hope this helps!</div>

			

		</div>

		
			<dl class="postprofile" id="profile14775">
			<dt>
				<strong>vladpalos</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 25</dd><dd><strong>Joined:</strong> Mon Oct 15, 2012 10:55 am</dd>

		</dl>
	

		<div class="back2top"><a href="page20.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<form id="viewtopic" method="post" action="page20.html">

	<fieldset class="display-options" style="margin-top: 0; ">
		<a href="index.html" class="left-box left">Previous</a><a href="page40.html" class="right-box right">Next</a>
	</fieldset>

	</form>
	<hr />


<div class="topic-actions">
	<div class="buttons">
	
	</div>

	
		<div class="pagination">
			41 posts
			 &bull; <a href="page20.html#" onclick="jumpto(); return false;" title="Click to jump to page…">Page <strong>2</strong> of <strong>3</strong></a> &bull; <span><a href="index.html">1</a><span class="page-sep">, </span><strong>2</strong><span class="page-sep">, </span><a href="page40.html">3</a></span>
		</div>
	
</div>


	<p></p><p><a href="../apple-f18.html" class="left-box left" accesskey="r">Return to Apple</a></p>

	<form method="post" id="jumpbox" action="http://192.168.20.226:3000/forums/viewforum.php" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	
		<fieldset class="jumpbox">
	
			<label for="f" accesskey="j">Jump to:</label>
			<select name="f" id="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">
			
				<option value="-1">Select a forum</option>
			<option value="-1">------------------</option>
				<option value="4">Moai Development Forums</option>
			
				<option value="7">&nbsp; &nbsp;Moai SDK</option>
			
				<option value="9">&nbsp; &nbsp;Questions and Tips</option>
			
				<option value="10">&nbsp; &nbsp;Bug Reports</option>
			
				<option value="29">&nbsp; &nbsp;Reviewers</option>
			
				<option value="3">Moai Community Forums</option>
			
				<option value="11">&nbsp; &nbsp;Community Contributions</option>
			
				<option value="25">&nbsp; &nbsp;&nbsp; &nbsp;Flower</option>
			
				<option value="28">&nbsp; &nbsp;&nbsp; &nbsp;Rapanui</option>
			
				<option value="26">&nbsp; &nbsp;&nbsp; &nbsp;Snippets</option>
			
				<option value="5">&nbsp; &nbsp;Moai Roadmap</option>
			
				<option value="8">&nbsp; &nbsp;&nbsp; &nbsp;Moai Cloud</option>
			
				<option value="6">&nbsp; &nbsp;Made With Moai</option>
			
				<option value="12">Platform Specifics</option>
			
				<option value="17">&nbsp; &nbsp;Android</option>
			
				<option value="18" selected="selected">&nbsp; &nbsp;Apple</option>
			
				<option value="20">&nbsp; &nbsp;Linux</option>
			
				<option value="19">&nbsp; &nbsp;Windows</option>
			
				<option value="21">&nbsp; &nbsp;Browser + Other</option>
			
				<option value="13">Third Party Libraries and Plugins</option>
			
				<option value="22">&nbsp; &nbsp;Physics</option>
			
				<option value="23">&nbsp; &nbsp;Sound + Music</option>
			
				<option value="24">&nbsp; &nbsp;Advertising + Networking + IAPs</option>
			
				<option value="14">Additional</option>
			
				<option value="16">&nbsp; &nbsp;Game Development</option>
			
				<option value="27">&nbsp; &nbsp;Off Topic</option>
			
			</select>
			<input type="submit" value="Go" class="button2" />
		</fieldset>
	</form>


	<h3>Who is online</h3>
	<p>Users browsing this forum: No registered users and 0 guests</p>
</div>

<div id="page-footer">

	<div class="navbar">
		<div class="inner"><span class="corners-top"><span></span></span>

		<ul class="linklist">
			<li class="icon-home"><a href="../index.html" accesskey="h">Board index</a></li>
				
			<li class="rightside">All times are UTC </li>
		</ul>

		<span class="corners-bottom"><span></span></span></div>
	</div>
	
	<div class="copyright">Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group<br />Style by <a href="http://www.m-a-styles.de">Marc Alexander</a> &copy;
		<br /><br /><a href="http://www.phpbb-seo.com/" title="Search Engine Optimization"><img src="../images/phpbb-seo.png" alt="phpBB SEO"/></a><br />Time : 0.072s | 11 Queries | GZIP : Off
	</div>
</div>

</div>

<div>
	<a id="bottom" name="bottom" accesskey="z"></a>
	
	</div>
	</div>
<div class="nobottomgap"></div>
</div>
<!--- end of box border -->
</div></div>
<!-- -->
<div class="bottom-left"></div><div class="bottom-center"></div><div class="bottom-right"></div>
</div>
<!-- JQuery Pop Up --><!-- PM Popup --><!-- PM Popup end --><!-- Image Popup -->
<div id="popupImage">
	<p id="ImagePopup"></p>
	<a id="popupImageClose">x</a> 
</div>
<!-- Image Popup -->
<div id="backgroundPopup"></div> 
<!-- JQuery Pop Up END -->
</body>
</html>