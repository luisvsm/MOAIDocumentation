<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>Moai Forum &bull; View topic - How to Moai &quot;1.5&quot; As A Static Library in iOS host?</title>

<link rel="alternate" type="application/atom+xml" title="Feed - Moai Forum" href="../feed.php.html" /><link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="../feed.php%3Fmode=forums.html" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="../feed.php%3Fmode=topics.html" /><link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="../feed.php%3Fmode=topics_active.html" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - Apple" href="../feed.php%3Ff=18.html" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - How to Moai &quot;1.5&quot; As A Static Library in iOS host?" href="../feed.php%3Ff=18&amp;t=2506.html" />

<!--
	phpBB style name: proFormell
	Based on style:   prosilver (this is the default phpBB3 style)
	Inspired by:	  Formell (Joomla Style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:  	  Marc Alexander
	
	NOTE: This page was generated by phpBB, the free open-source bulletin board package.
	      The phpBB Group is not responsible for the content of this page and forum. For more information
	      about phpBB please visit http://www.phpbb.com
-->

<script type="text/javascript">
// <![CDATA[
	var jump_page = 'Enter the page number you wish to go to:';
	var on_page = '1';
	var per_page = '20';
	var base_url = '/forums/how-to-moai-1-5-as-a-static-library-in-ios-host-t2506/';
	var style_cookie = 'phpBBstyle';
	var style_cookie_settings = '; path=/';
	var onload_functions = new Array();
	var onunload_functions = new Array();
	var is_ie6 = false;

	/**
	* Find a member
	*/
	function find_username(url)
	{
		popup(url, 760, 570, '_usersearch');
		return false;
	}

	/**
	* New function for handling multiple calls to window.onload and window.unload by pentapenguin
	*/
	window.onload = function()
	{
		for (var i = 0; i < onload_functions.length; i++)
		{
			eval(onload_functions[i]);
		}
	}

	window.onunload = function()
	{
		for (var i = 0; i < onunload_functions.length; i++)
		{
			eval(onunload_functions[i]);
		}
	}

// ]]>
</script>
<!--[if lt IE 7]>
<script type="text/javascript">
// <![CDATA[
var is_ie6 = true;
// ]]>
</script>
<![endif]-->


<link href="../styles/proFormell/theme/print.css" rel="stylesheet" type="text/css" media="print" title="printonly" />

<link href="../style.css" rel="stylesheet" type="text/css" media="screen, projection" />



<link href="../styles/proFormell/theme/images/favicon.ico" rel="shortcut icon" />

<script type="text/javascript" src="../styles/prosilver/template/forum_fn.js"></script>
<script src="../styles/prosilver/template/jquery-1.4.4.min.js" type="text/javascript"></script>

<script type="text/javascript">
// <![CDATA[
/**
* New pop-up functions
* based on  http://yensdesign.com/2008/09/how-to-create-a-stunning-and-smooth-popup-using-jquery/
*/

//SETTING UP OUR POPUP
//0 means disabled; 1 means enabled;
var popupStatus = 0;
var openPopup = '';

//loading popup with jQuery magic!
function loadPopup()
{
	//loads popup only if it is disabled
	if(popupStatus==0)
	{
		$('#backgroundPopup').css({'opacity': '0.7'});
		// Now let's make sure we actually see the image
		var scroll = $(window).scrollTop();
		$('#popupPM').animate({marginTop: scroll}, 'fast', function() {
			// Animation complete.
			});
		$('#backgroundPopup').fadeIn('slow');
		$('#popupPM').fadeIn('slow');
		popupStatus = 1;
		openPopup = 'PM';
	}
}

//disabling popup with jQuery magic!
function disablePopup()
{
	//disables popup only if it is enabled
	if(popupStatus==1 && openPopup == 'PM')
	{
		$('#backgroundPopup').fadeOut('slow');
		$('#popupPM').fadeOut('slow');
		popupStatus = 0;
		openPopup = '';
	}
}

//centering popup
function centerPopup()
{
	//request data for centering
	var windowWidth = document.documentElement.clientWidth;
	var windowHeight = document.documentElement.clientHeight;
	var popupHeight = $('#popupPM').height();
	var popupWidth = $('#popupPM').width();
	//centering
	$('#popupPM').css({
	'position': 'absolute',
	'top': windowHeight/2-popupHeight/2,
	'left': windowWidth/2-popupWidth/2
	});
	//only need force for IE6
	$('#backgroundPopup').css({'height': windowHeight});
}

$(document).ready(function(){
	
	resize_images();
	
	
	// IE6 and below PNG fix (not really)
	if(is_ie6)
	{
		replace_png();
	}
	
	//CLOSING POPUP
	//Click the x event!
	$('#popupPMClose').click(function(){
		disablePopup();
	});
	//Click out event!
	$('#backgroundPopup').click(function(){
		disablePopup();
		disableImage();
	});
	//Press Escape event!
	$(document).keypress(function(e){
		if(e.keyCode==27 && popupStatus==1)
		{
			disablePopup();
			disableImage();
		}
	});
	
	
	// Image popup
	$('img', 'dt.attach-image').click(function(){
		image_load($(this).attr('src'), $(this).attr('alt'));
		centerImage();
	});
	
	$('.content img').click(function(){
		var check = $(this).parent().hasClass('content');
		if(check)
		{
			image_load($(this).attr('src'), $(this).attr('alt'));
			centerImage();
		}
	});
	
	// Closing Image popup
	//Click the x event!
	$('#popupImageClose').click(function(){
		disableImage();
	});
	
	//Click image box event
	$('#popupImage').click(function(){
		disableImage();
	});
	
	//Click image event
	$('#ImagePopup img').click(function(){
		disableImage();
	});
	

});

/**
* Replaces weird looking PNG files with the respectie GIF file
* Only run this if the browser is IE6 or below
*/
function replace_png()
{
	// Fix Logo
	var str = $('#logo img').attr('src'); 
	$('#logo img').attr('src', str.substring(0, str.length - 3) + 'gif');
	
	// Fix forum icons
	$('dl.icon').each(function() {
		var str = $(this).css('background-image');
		if(str != '')
		{
			$(this).css('background-image', str.substring(0, str.length - 5) + 'gif")');
		}
	});
}


/**
* Image resizer
*/
function resize_images()
{
	var hello = $('dl.attachbox dd dl.file dt.attach-image img').innerWidth();
	var maxWidth = $('div.content').innerWidth() - 30;
	
	// resize the attached images
	$('img', 'dt.attach-image').each(function(i){
		// check the width of the image
		if ($(this).width() > maxWidth)
		{
			// calculate new image dimensions
			newWidth = maxWidth;
			newHeight = $(this).height() / ( $(this).width() / maxWidth );
			   
			// set new image dimensions
			$(this).height(newHeight).width(newWidth);
		}
	});
	
	// resize the images that were added via [img] bbcode
	$('img', 'div.content').each(function(i){
		// check the width of the image
		$(this).css('max-width', maxWidth); // fix for IE
		if ($(this).width() > maxWidth)
		{
			// calculate new image dimensions
			newWidth = maxWidth;
			newHeight = $(this).height() / ( $(this).width() / maxWidth );
			   
			// set new image dimensions
			$(this).height(newHeight).width(newWidth);
		}
	});
}

/**
* Image pop-up
*/
function image_load(src, alt)
{
	//loads popup only if it is disabled
	if(popupStatus==0)
	{
		$('#ImagePopup').html('<img id="imgpopup" src="http://192.168.20.226:3000/forums/how-to-moai-1-5-as-a-static-library-in-ios-host-t2506/'&#32;+&#32;src&#32;+&#32;'" alt="' + alt + '" />');
		var windowWidth = document.documentElement.clientWidth;
		var windowHeight = document.documentElement.clientHeight;
		var maxWidth = windowWidth * 0.85;
		var maxHeight = windowHeight * 0.85;
		$('#popupImage img').css('max-width', maxWidth);
		$('#popupImage img').css('max-height', maxHeight);
		$('#backgroundPopup').css({'opacity': '0.7'});
		// Now let's make sure we actually see the image
		var scroll = $(window).scrollTop();
		$('#popupImage').animate({marginTop: scroll}, 'fast', function() {
			// Animation complete.
			});
		$('#backgroundPopup').fadeIn('slow');
		$('#popupImage').fadeIn('slow');
		popupStatus = 1;
		openPopup = 'Image';
	}
}

//centering popup
function centerImage()
{
	//request data for centering
	var windowWidth = document.documentElement.clientWidth;
	var windowHeight = document.documentElement.clientHeight;
	var popupHeight = $('#popupImage').height();
	var popupWidth = $('#popupImage').width();
	var newTop = windowHeight/2-popupHeight/2;
	var newLeft = windowWidth/2-popupWidth/2;
	//centering
	$('#popupImage').css({
	'position': 'absolute',
	'top': newTop,
	'left': newLeft
	});
	
	//only need force for IE6
	$('#backgroundPopup').css({'height': windowHeight});
}

//disabling popup with jQuery magic!
function disableImage()
{
	//disables popup only if it is enabled
	if(popupStatus==1 && openPopup == 'Image')
	{
		$('#backgroundPopup').fadeOut('slow');
		$('#popupImage').fadeOut('slow');
		popupStatus = 0;
		openPopup = '';
	}
}


// ]]>
</script>

</head>

<body id="phpbb" class="section-viewtopic ltr">
<!--- box border START -->
<div id="box">

<div class="top-left"></div><div class="top-center"></div><div class="top-right"></div>
<div id="left-border">
<div id="right-border">


<!--- box border END -->
<div class="inside">
 <div class="notopgap">
<div id="wrap">
	<a id="top" name="top" accesskey="t"></a>
	<div id="page-header">
		<div class="headerbar">
			<div class="inner"><!-- <span class="corners-top"><span></span></span> -->
			<div style="height: 140px ;">
			<div id="site-description">
				<div class="header-pad"><a href="index.html" title="" id="logo"><img src="../styles/proFormell/imageset/site-logo.png" width="410" height="98" alt="" title="" /></a></div>
			
		<!--		<p class="site-desc">The mobile platform for pro game developers</p> -->
				<p class="skiplink"><a href="index.html#start_here">Skip to content</a></p>
			</div>

		
    </div>

			<span class="corners-bottom"><span></span></span></div>
		</div>

		<div class="navbar">
			<div class="inner"><span class="corners-top"><span></span></span>

			<ul class="linklist navlinks">
				<li class="icon-home"><a href="../index.html" accesskey="h">Board index</a>  <strong>&#8249;</strong> <a href="../platform-specifics-f12.html">Platform Specifics</a> <strong>&#8249;</strong> <a href="../apple-f18.html">Apple</a></li>

				<li class="rightside"><a href="index.html#" onclick="fontsizeup(); return false;" onkeypress="return fontsizeup(event);" class="fontsize" title="Change font size">Change font size</a></li>

				<li class="rightside"><a href="../memberlist.php%3Fmode=email&amp;t=2506.html" title="E-mail friend" class="sendemail">E-mail friend</a></li><li class="rightside"><a href="http://192.168.20.226:3000/forums/viewtopic.php?f=18&amp;t=2506&amp;start=0&amp;view=print" title="Print view" accesskey="p" class="print">Print view</a></li>
			</ul>

			

			<ul class="linklist rightside">
				<li class="icon-faq"><a href="../faq.php.html" title="Frequently Asked Questions">FAQ</a></li>
				
				
			</ul>

			<span class="corners-bottom"><span></span></span></div>
		</div>
	</div>

	<a name="start_here"></a>
	<div id="page-body">
		
<h2><a href="index.html">How to Moai &quot;1.5&quot; As A Static Library in iOS host?</a></h2>
<!-- NOTE: remove the style="display: none" when you want to have the forum description on the topic body --><div style="display: none !important;">iPhone / iPad / OSX / xcode<br /></div>
	<p>
		
			<strong>Moderator:</strong> nosheet
		

	</p>


<div class="topic-actions">

	<div class="buttons">
	
	</div>

	
		<div class="pagination">
			41 posts
			 &bull; <a href="index.html#" onclick="jumpto(); return false;" title="Click to jump to pageâ€¦">Page <strong>1</strong> of <strong>3</strong></a> &bull; <span><strong>1</strong><span class="page-sep">, </span><a href="page20.html">2</a><span class="page-sep">, </span><a href="page40.html">3</a></span>
		</div>
	

</div>
<div class="clear"></div>


	<div id="p13198" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 class="first"><a href="index.html#p13198">How to Moai &quot;1.5&quot; As A Static Library in iOS host?</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>nosheet</strong> &raquo; Sun Feb 09, 2014 6:19 pm </p>

			

			<div class="content">I am trying to update iOS host and resolve the orientation and a couple of other problems, but before anything else I am trying to link to static libraries, and I am completely lost trying to link to header files.<br />Previously, we had a handy &quot;/include&quot; folder that contained all the required headers, neatly pulled out of the source code.<br />However, now with the lack of the include folder and a complete reorganization of AKU files, I am pretty lost as how to link to relevant header files.<br /><br />Before I dive in and waste days of work on this, did anyone already maybe address this?<br />Thanks <img src="../images/smilies/icon_e_smile.gif" alt=":)" title="Smile" /><br />N</div>

			<div id="sig13198" class="signature">A few games I've made, just before I stopped making them:<br /><a href="http://www.spin-up-game.com" class="postlink">http://www.spin-up-game.com</a> and <a href="http://www.foosballhero.com" class="postlink">http://www.foosballhero.com</a></div>

		</div>

		
			<dl class="postprofile" id="profile13198">
			<dt>
				<img src="../download/file.php%253favatar%253d912_1393431272.jpg" width="120" height="120" alt="User avatar" /><br />
				<strong>nosheet</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 424</dd><dd><strong>Joined:</strong> Mon May 28, 2012 9:40 pm</dd><dd><strong>Location:</strong> Madrid, Spain</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p13342" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p13342">Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>shayneo</strong> &raquo; Mon Feb 24, 2014 6:22 am </p>

			

			<div class="content">Not sure if it'll work, but I believe you can tell xcode to search for header files recursively. If it was xcode3 I could tell you how, but xcode5? Yipee!</div>

			

		</div>

		
			<dl class="postprofile" id="profile13342">
			<dt>
				<strong>shayneo</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 3</dd><dd><strong>Joined:</strong> Mon Feb 24, 2014 5:10 am</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p13827" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p13827">Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>JDance</strong> &raquo; Fri Mar 28, 2014 12:17 pm </p>

			

			<div class="content">Hey nosheet any luck with this? I moved to 1.5 now and am trying to compile but noticed that the cmake scripts creates a gigantic moai.xcodeproj with host and everything. My host project is customized and with a lot of properties set like icons and stuff so I really need to include just the moai-framework as a separate library or project. Which I guess is your situation as well <img src="../images/smilies/icon_e_smile.gif" alt=":)" title="Smile" /> Would be nice to just update the cmake files for the moai-framework as needed without recreating my whole host project.<br /><br />Anyway how did you even start to link to a static library?</div>

			

		</div>

		
			<dl class="postprofile" id="profile13827">
			<dt>
				<img src="../download/file.php%253favatar%253d1128_1359560257.jpg" width="98" height="99" alt="User avatar" /><br />
				<strong>JDance</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 429</dd><dd><strong>Joined:</strong> Mon Oct 08, 2012 7:11 am</dd><dd><strong>Location:</strong> http://skyturns.se</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p13828" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p13828">Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>nosheet</strong> &raquo; Fri Mar 28, 2014 1:35 pm </p>

			

			<div class="content">No, was not very lucky with this one.<br /><br />In general, before 1.5, there was a number of steps to take to include static library. I'll write from memory so I may get something wrong. You may also want to check this post where I talked a bit about that (in the  context of the host I published): <!-- l --><a class="postlink-local" href="../easy-to-use-ios-host-with-landscape-and-gyro-t1844/index.html">easy-to-use-ios-host-with-landscape-and-gyro-t1844/</a><!-- l --><br /><br />1) First we'd need to build static library, which I used to do by running the build.sh script in the /xcode/libmoai/ folder.<br />It will build the moai libraries, somewhere in /tmp/moai/... folder (look for terminal output it will tell you where they are). <br /><br />2) Look for libraries (it will likely be a set of 6 files with .a extension, such as libmoai-ios.a, libmoai-ios-zlcora.a, etc...).<br />They will come in several flavors, we want to pick universal for Debug and Release (this will be two sets of 6 files of libraries).<br /><br />3) Copy libraries somewhere where you will find it later more easily, ie<br />/Users/**USERNAME**/Documents/4_LIB/Moai/1-40_SRC/_LIBS/ios_debug<br />/Users/**USERNAME**/Documents/4_LIB/Moai/1-40_SRC/_LIBS/ios_release<br /><br />4) Now you need to open your iOS Host XCode project.<br /><br />5) In Target Properties &gt; Build Phases &gt; Link Binary With Libraries, you need to press + and add the .a files in ios_release folder.<br /><br />6) In Project Properties &gt; Build Settings &gt; Library Search Paths, you need to expand the row, it so you see Debug and Release.<br />In Debug add the folder where debug version of libraries is, ie. /Users/**USERNAME**/Documents/4_LIB/Moai/1-40_SRC/_LIBS/ios_debug<br />In Release, add the other folder, with release version of libraries.<br /><br />Same thing for Target Properties &gt;  Build Settings &gt; Library Search Paths, add the same values, or better yet, just put there $(inherited) and the target properties will inherit values you've put in project properties.<br /><br /><br />7) Now for the headers. Adding static library in C++ require the links to all headers of the files used in libary so that the compilar can see the interface (or something like that ). <br />This is done in Project Properties &gt; Header Search Paths, you need to add the /include folder that came with your Moai distribution.<br />Same thing for Target Properties &gt; Header Search Paths (or just put there $(inherited) and the target properties will inherit values you've put in project properties)<br /><br /><br /><br />Now this was all fine and dandy up to 1.4 because Moai came with /include folder.<br />However, since 1.5 has been restructuring the project dramatically, it's no longer the case, so it's not possible to do step 7.<br /><br />Hope this clarifies the issue.</div>

			<div id="sig13828" class="signature">A few games I've made, just before I stopped making them:<br /><a href="http://www.spin-up-game.com" class="postlink">http://www.spin-up-game.com</a> and <a href="http://www.foosballhero.com" class="postlink">http://www.foosballhero.com</a></div>

		</div>

		
			<dl class="postprofile" id="profile13828">
			<dt>
				<img src="../download/file.php%253favatar%253d912_1393431272.jpg" width="120" height="120" alt="User avatar" /><br />
				<strong>nosheet</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 424</dd><dd><strong>Joined:</strong> Mon May 28, 2012 9:40 pm</dd><dd><strong>Location:</strong> Madrid, Spain</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p13829" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p13829">Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>JDance</strong> &raquo; Fri Mar 28, 2014 1:43 pm </p>

			

			<div class="content">Thanks for the tips, I'll give it a go. But for header search paths I would guess we can make a list of all the moai directories that has header files. Hopefully it can recurse somehow and otherwise it will just be a bit of work to create a long list of dirs.. That is if I can get the library inclusion to work at all <img src="../images/smilies/icon_e_smile.gif" alt=":)" title="Smile" /></div>

			

		</div>

		
			<dl class="postprofile" id="profile13829">
			<dt>
				<img src="../download/file.php%253favatar%253d1128_1359560257.jpg" width="98" height="99" alt="User avatar" /><br />
				<strong>JDance</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 429</dd><dd><strong>Joined:</strong> Mon Oct 08, 2012 7:11 am</dd><dd><strong>Location:</strong> http://skyturns.se</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p13830" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p13830">Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>nosheet</strong> &raquo; Fri Mar 28, 2014 3:54 pm </p>

			

			<div class="content">Plain recursion doesn't work in this case (you can set path to be recursive in Xcode, but it doesn't work in this particular case.</div>

			<div id="sig13830" class="signature">A few games I've made, just before I stopped making them:<br /><a href="http://www.spin-up-game.com" class="postlink">http://www.spin-up-game.com</a> and <a href="http://www.foosballhero.com" class="postlink">http://www.foosballhero.com</a></div>

		</div>

		
			<dl class="postprofile" id="profile13830">
			<dt>
				<img src="../download/file.php%253favatar%253d912_1393431272.jpg" width="120" height="120" alt="User avatar" /><br />
				<strong>nosheet</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 424</dd><dd><strong>Joined:</strong> Mon May 28, 2012 9:40 pm</dd><dd><strong>Location:</strong> Madrid, Spain</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p13836" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p13836">Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>Muzz</strong> &raquo; Fri Mar 28, 2014 9:29 pm </p>

			

			<div class="content">Well if you are having troubles with this... i don't feel so bad any more. I'm here at Rhosters place and he can't work it out either... <br /><br />Has anyone managed to get 1.5 working on IOS at all yet? Some of the improvements sound mighty useful.</div>

			

		</div>

		
			<dl class="postprofile" id="profile13836">
			<dt>
				<strong>Muzz</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 103</dd><dd><strong>Joined:</strong> Sat May 19, 2012 11:50 pm</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p13839" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p13839">Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>halfnelson</strong> &raquo; Fri Mar 28, 2014 9:42 pm </p>

			

			<div class="content">@Muzz: Should work fine on iOS. Just run the create-projects-ios.sh script from the bin folder or <br /><dl class="codebox"><dt>Code: <a href="index.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">build-ios &lt;path_to_lua_files&gt;</div></li><br /></ol></code></dd></dl>. If these don't work or you have another use-case you would like implemented let me know and I will see what I can do.<br /><br />@nosheet,@Jdance:<br />If this is a common enough requirement, then I can have a go at just spitting out the libmoai required files so you can statically link. Did you want it to include all the plugins (twitter etc?) and all the headers etc they need too?<br /><br />Is the problem that you just want the libmoai project and none of the host stuff? or do you not want to build it all the time and improve host build speeds?</div>

			

		</div>

		
			<dl class="postprofile" id="profile13839">
			<dt>
				<strong>halfnelson</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 629</dd><dd><strong>Joined:</strong> Thu Jun 14, 2012 4:48 am</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p13840" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p13840">Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>halfnelson</strong> &raquo; Fri Mar 28, 2014 10:07 pm </p>

			

			<div class="content">Thinking about it a bit more: If it is just the ability to update your existing host, i am wondering if the custom host support would help. <br /><br />If you copy the cmake/host-ios folder to outside of the sdk, and update the CMakeLists to include your custom hosts files instead of the ones from the sdk, you can edit the create-projects-ios script and add -DCUSTOM_HOST=&lt;path-to-your-copy-of-hostios&gt; and it should create a project with your files as the host files but the sdk ones as the lib.<br /><br />Having a look at the cmake scripts there is a small mistake with this and you will need to apply this patch:<br /><a href="https://github.com/moaiforge/moai-sdk/commit/53686b584ec80b0ec5467f7999c1c0fd22e8bd3c" class="postlink">https://github.com/moaiforge/moai-sdk/commit/53686b584ec80b0ec5467f7999c1c0fd22e8bd3c</a></div>

			

		</div>

		
			<dl class="postprofile" id="profile13840">
			<dt>
				<strong>halfnelson</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 629</dd><dd><strong>Joined:</strong> Thu Jun 14, 2012 4:48 am</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p13841" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p13841">Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>Muzz</strong> &raquo; Fri Mar 28, 2014 10:18 pm </p>

			

			<div class="content">Oh awesome, it's building now! thanks half nelson!</div>

			

		</div>

		
			<dl class="postprofile" id="profile13841">
			<dt>
				<strong>Muzz</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 103</dd><dd><strong>Joined:</strong> Sat May 19, 2012 11:50 pm</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p13872" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p13872">Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>JDance</strong> &raquo; Mon Mar 31, 2014 7:21 am </p>

			

			<div class="content"><blockquote><div><cite>halfnelson wrote:</cite>Thinking about it a bit more: If it is just the ability to update your existing host, i am wondering if the custom host support would help. <br /><br />If you copy the cmake/host-ios folder to outside of the sdk, and update the CMakeLists to include your custom hosts files instead of the ones from the sdk, you can edit the create-projects-ios script and add -DCUSTOM_HOST=&lt;path-to-your-copy-of-hostios&gt; and it should create a project with your files as the host files but the sdk ones as the lib.<br /><br />Having a look at the cmake scripts there is a small mistake with this and you will need to apply this patch:<br /><a href="https://github.com/moaiforge/moai-sdk/commit/53686b584ec80b0ec5467f7999c1c0fd22e8bd3c" class="postlink">https://github.com/moaiforge/moai-sdk/commit/53686b584ec80b0ec5467f7999c1c0fd22e8bd3c</a></div></blockquote><br /><br />Thanks man but it's really about having a dedicated xcode project that is never overwritten. There are a lot of settings for releasing like icons and texts that are done through xcode. When I rebuild from cmake all that is wiped out. And theres custom host code also so that adds to it. Anyway I think I've almost got it working to a point where I gather all .a files from a full build and link them to my project. I'll report back on it.</div>

			

		</div>

		
			<dl class="postprofile" id="profile13872">
			<dt>
				<img src="../download/file.php%253favatar%253d1128_1359560257.jpg" width="98" height="99" alt="User avatar" /><br />
				<strong>JDance</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 429</dd><dd><strong>Joined:</strong> Mon Oct 08, 2012 7:11 am</dd><dd><strong>Location:</strong> http://skyturns.se</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p13874" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p13874">Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>JDance</strong> &raquo; Mon Mar 31, 2014 7:45 am </p>

			

			<div class="content">Ok so I got it to work now! A first version of it at least.<br /><br />Upon building ios through bin/build-ios.sh the script is supposed to gather all lib files under release/ios/libs. It doesn't for me, it fails with some kind of &quot;Could not find path bin/..&quot;. So I manually run <dl class="codebox"><dt>Code: <a href="index.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">rm -rf release/ios/lib</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">mkdir -p release/ios/lib</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">find cmake/build -name &quot;*.a&quot; | xargs -J % cp -fp % release/ios/lib</div></li><br /></ol></code></dd></dl>. I have to learn shell scripting so I can fix that later <img src="../images/smilies/icon_e_smile.gif" alt=":)" title="Smile" /><br /><br />Now that all libraries are gathered I use the old 1.4 host project. It used to include a subproject for the whole &quot;libmoai&quot;. So I just removed that, and instead for target moai I add all the buildt libs from release/ios/libs as linked dependencies. I didn't have to add any library search paths for that. But now xcode will complain about unknown classes during compile so we need to add header search paths. This is the list I'm using (based on 1.4 project): <dl class="codebox"><dt>Code: <a href="index.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">//:configuration = Debug</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">HEADER_SEARCH_PATHS = &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/src&quot;/** &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/LuaJIT-2.0.1/src&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/contrib&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/tinyxml&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/lpng140&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/c-ares-1.7.5&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/openssl-1.0.0d/include-iphone&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/curl-7.19.7/include-iphone&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/curl-7.19.7/lib&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/expat-2.0.1/lib&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/freetype-2.4.4/include&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/box2d-2.2.1&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/chipmunk-5.3.4/include&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/chipmunk-5.3.4/include/chipmunk&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/luacrypto-0.2.0/src&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/luacurl-1.2.1/src&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/luasocket-2.0.2/src&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/luasql-2.2.0/src&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/libogg-1.2.2/include&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/jansson-<span style="">2.1</span>/src&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/jpeg-8c&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/untz/include&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/untz/src&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/libvorbis-1.3.2/lib&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/libvorbis-1.3.2/include&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/tlsf-<span style="">2.0</span>&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/zlib-1.2.3&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/ooid-<span style="">0.99</span>&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/tapjoyiOS-8.1.9/TapjoyConnect&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/crittercismiOS-3.3.3/CrittercismSDK-crashonly&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/chartboostiOS-3.0.7&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/facebookiOS-3.0.6.b/src&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/vungle116/lib&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/adcolonyiOS-<span style="">1911</span>/Library&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/mongoose&quot;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">//:configuration = Release</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">HEADER_SEARCH_PATHS = &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/src&quot;/** &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/LuaJIT-2.0.1/src&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/contrib&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/tinyxml&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/lpng140&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/c-ares-1.7.5&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/openssl-1.0.0d/include-iphone&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/curl-7.19.7/include-iphone&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/curl-7.19.7/lib&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/expat-2.0.1/lib&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/freetype-2.4.4/include&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/box2d-2.2.1&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/chipmunk-5.3.4/include&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/chipmunk-5.3.4/include/chipmunk&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/luacrypto-0.2.0/src&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/luacurl-1.2.1/src&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/luasocket-2.0.2/src&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/luasql-2.2.0/src&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/libogg-1.2.2/include&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/jansson-<span style="">2.1</span>/src&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/jpeg-8c&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/untz/include&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/untz/src&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/libvorbis-1.3.2/lib&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/libvorbis-1.3.2/include&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/tlsf-<span style="">2.0</span>&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/zlib-1.2.3&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/ooid-<span style="">0.99</span>&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/tapjoyiOS-8.1.9/TapjoyConnect&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/crittercismiOS-3.3.3/CrittercismSDK-crashonly&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/chartboostiOS-3.0.7&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/facebookiOS-3.0.6.b/src&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/vungle116/lib&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/adcolonyiOS-<span style="">1911</span>/Library&quot; &quot;$<span class="br0">&#40;</span>MOAI_SDK_ROOT<span class="br0">&#41;</span>/3rdparty/mongoose&quot;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">//:completeSettings = some</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">HEADER_SEARCH_PATHS</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /></ol></code></dd></dl><br /><br />Ok so now it will build, IF you have specified only to build for architecture armv7 which is what bin/build-ios.sh builds by default. So my next step is to get this working for armv7 + armv7s + simulator builds AND for release builds with a different provision profile. Sadface!<br /><br />Edit: Minor host modules disable fixes: <!-- m --><a class="postlink" href="https://github.com/moai/moai-dev/pull/877">https://github.com/moai/moai-dev/pull/877</a><!-- m --></div>

			

		</div>

		
			<dl class="postprofile" id="profile13874">
			<dt>
				<img src="../download/file.php%253favatar%253d1128_1359560257.jpg" width="98" height="99" alt="User avatar" /><br />
				<strong>JDance</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 429</dd><dd><strong>Joined:</strong> Mon Oct 08, 2012 7:11 am</dd><dd><strong>Location:</strong> http://skyturns.se</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p13906" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p13906">Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>halfnelson</strong> &raquo; Tue Apr 01, 2014 11:12 am </p>

			

			<div class="content">Awesome. If you have time to let me know which things you would like to change with the generated projects let me know.<br /><br />The things I can think of are provisioning/signing key, icon resources, start screens, orientation, custom host code?. I will endeavour to find a way that this can be accomplished easier (even if it means generating a bare host project and then only updating the libmoai portion with cmake (since this is the only part that really needs the cross platform make support)</div>

			

		</div>

		
			<dl class="postprofile" id="profile13906">
			<dt>
				<strong>halfnelson</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 629</dd><dd><strong>Joined:</strong> Thu Jun 14, 2012 4:48 am</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p13907" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p13907">Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>nosheet</strong> &raquo; Tue Apr 01, 2014 12:29 pm </p>

			

			<div class="content">@halfnelson, your past month contributions to Moai are worth millions, so just wanted to thank you so much!<br /><br />I started writing my typical iOS/OSX workflow (I have similar requirements as JDance) but figured out that I will probably be changing workflow dramatically when I have some time to reorganize next months. Previously I have been adding functionality to Moai (adding more Lua bindings and new classes) by expanding Moai library itself, then was building libraries and linking to static libraries from my host.<br />I will be probably changing that with the introduction of plugins, so I expect that in future I will not be touching the Moai libraries that much, and will migrate all extra functionality to plugins that I can add/remove from host itself.<br /><br />So I guess here is the new workflow I hope to migrate to soon, let see how others prefer to use Moai, probably there more practical ways:<br /><br />1 - I expect to<span style="font-weight: bold"> use cmake *only once* per platform </span>to build XCode projects (ie. once for making one iOS project, once for making one OSX project).<br /><br />2 - Xcode projects created from cmake will ideally link to <span style="font-weight: bold">static version of libraries</span>. Additionally these hosts will probably be very basic hosts - I imagine all of use use our own, heavily modified hosts, so trying to find a one-size-fits-all solution is probably &quot;the minimum working host&quot;, without any extra features.<br /><br />3 - Once I create Xcode projects for iOS and OSX, I will work to <span style="font-weight: bold">add my custom code and parameters</span>, in several wys ways:<br />    - adding code directly to hosts (ie. orientation code in iOS)<br />    - adding extra functionality through plugins (ie. new Moai classes). I think I will by default add all plugins I have available (and later will turn them off by commenting stuff I don't need)<br />    - adding ImageAssets for app icons, default start up images, etc...<br />    - adding my &quot;default&quot; developer info (ie. developer provisioning profile, etc... stuff that doesn't change between projects).<br /> <br />4 - When I finished adding my stuff, I will<span style="font-weight: bold"> keep these Xcode projects for future use</span>, for that I'd like to call them PROTOPROJECTS <img src="../images/smilies/icon_e_smile.gif" alt=":)" title="Smile" /> (PROTO as in &quot;prototype&quot;)<br /><br />5 - Then when I want to start making new app, I will not use cmake to create another Xcode project, but instead I will <span style="font-weight: bold">manually make a copy of entire PROTOPROJECT folder</span> (with xcode project, image assets etc.)<br /><br />6 - Finally, I will <span style="font-weight: bold">manually turn off plugins</span> I don't want to use (commenting stuff I don't need), and <span style="font-weight: bold">customize xcode project</span> according to app's particular needs (including distribution provisioning profiles, icons, start up images)<br /><br />7 - Extra step, probably not necessary: If I need to change version of Moai that the project uses, I would simply change the library and headers search paths (provided that the rest of the code is compatible, of course).<br /><br />Hope this worklow makes sense.<br />The basic idea is to isolate changes made to Moai library from changes made to hosts, as well as creating one set of PROTOHOSTS that can be reused for different projects.</div>

			<div id="sig13907" class="signature">A few games I've made, just before I stopped making them:<br /><a href="http://www.spin-up-game.com" class="postlink">http://www.spin-up-game.com</a> and <a href="http://www.foosballhero.com" class="postlink">http://www.foosballhero.com</a></div>

		</div>

		
			<dl class="postprofile" id="profile13907">
			<dt>
				<img src="../download/file.php%253favatar%253d912_1393431272.jpg" width="120" height="120" alt="User avatar" /><br />
				<strong>nosheet</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 424</dd><dd><strong>Joined:</strong> Mon May 28, 2012 9:40 pm</dd><dd><strong>Location:</strong> Madrid, Spain</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p13908" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p13908">Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>JDance</strong> &raquo; Tue Apr 01, 2014 1:23 pm </p>

			

			<div class="content">Yeah nosheets reply makes sense for a workflow. For Android this is really natural since the app/java project is entirely separate from the built native lib. So I have my java project and just symbolically link in the .so from my moai-dev folder. And I believe we want to have the same workflow for iOS. I second that if I would start a new project (game) I would probably copy my own iOS/Android hosts and really never generate it from the framework. Even though I compare the code sometimes and update my own host with new features from github. And people starting from scratch will of course need something to start from.<br /><br />If it's possible to generate xcode project with cmake that has the correct header search paths and maybe even adds libs as  dependencies that would be awesome. But I'm not sure yet how this will work out with different provision profiles for development/release.<br /><br />And yeah once again thanks a million! For Android and Windows this is a total blessing, especially with the plugin support, I could almost run moai straight from the official repo now. iOS for me just have a couple of rough edges then it's solid <img src="../images/smilies/icon_e_smile.gif" alt=":)" title="Smile" /> And hopefully I'll start a battle with Windows phone once my game is released.</div>

			

		</div>

		
			<dl class="postprofile" id="profile13908">
			<dt>
				<img src="../download/file.php%253favatar%253d1128_1359560257.jpg" width="98" height="99" alt="User avatar" /><br />
				<strong>JDance</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 429</dd><dd><strong>Joined:</strong> Mon Oct 08, 2012 7:11 am</dd><dd><strong>Location:</strong> http://skyturns.se</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p13920" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p13920">Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>halfnelson</strong> &raquo; Wed Apr 02, 2014 12:47 pm </p>

			

			<div class="content">cool. Yeah, the reason I went cmake was because changes to the libs (esp from patricks massive refactor) were hard to replicate to all the different hosts. I think cmake mainly shines for the libmoai portion. There is no real need for a cross platform project generator for the host projects since they each only work on one platform and updates done to one will not need to be done to the others.<br /><br />So maybe we bring back the hosts projects under hosts, and keep them (well the tricky ones like ios and android) out of the cmake stuff (or &quot;as well as&quot;, why not). These projects can link to cmake generated static libs or cmake generated libmoai projects (if you want to do full builds/debugging). <br /><br />The build scripts are a bit limited at the moment. They don't allow you to specify too much, but the actual cmake setup has an info.plist it uses for most of the app settings and also accepts a ${SIGN_IDENTITY} which lets you pick which certificate to sign with by default etc. <br /><br />I will keep the host build scripts up to date since moaicli uses them (you can specify icons, developer certificate and build profile/architectures) and they might even come in handy for generating the projects in the hosts folder which people can copy and modify etc.<br /><br />Something to think about anyway. Thanks for the feedback <img src="../images/smilies/icon_e_smile.gif" alt=":)" title="Smile" /></div>

			

		</div>

		
			<dl class="postprofile" id="profile13920">
			<dt>
				<strong>halfnelson</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 629</dd><dd><strong>Joined:</strong> Thu Jun 14, 2012 4:48 am</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p14234" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p14234">Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>kreios</strong> &raquo; Sun Apr 20, 2014 8:59 pm </p>

			

			<div class="content">@halfnelson <br />Thanks for all the hard work with the updates, and the explanation of the build process.<br />I just wanted to reiterate the workflow that nosheet outlined, as I think that would be essential to being productive when building for iOS/OSX.<br /><br />I'm at the point now where I've tried to make an archive build for release, and I'm getting 40 linker errors, and even after solving those the archive build gets lost somewhere. I've probably messed up some project settings somewhere while customising the project to my needs, so now I'm left in the position of either carrying on trying to fix the current project or building a new one from scratch and wiping all my work.<br /><br />I'm finding I'm at a complete loss when it comes to the cmake scripts. You mentioned that some settings can be changed in them, but finding which ones to edit and where is beyond me. Perhaps I'll get there, but even if I do I think there are still settings that you'd only be able to control inside the xcode project (for me, I have custom batch scripts that execute during the build phase). I'm probably not the only one who is intimidated by the new build setup, and having a fool-proof workflow for iOS will help attract new developers (although its still infinitely easier than trying to get monogame setup on a mac)<br /><br />Having an easy way to disable plugins would also be super handy, since I'd like to be able to take out thinks I don't need and get my binary size down<br /><br />Once again, thanks for the updates</div>

			

		</div>

		
			<dl class="postprofile" id="profile14234">
			<dt>
				<strong>kreios</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 66</dd><dd><strong>Joined:</strong> Thu Jun 13, 2013 12:50 am</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p14239" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p14239">Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>halfnelson</strong> &raquo; Sun Apr 20, 2014 9:56 pm </p>

			

			<div class="content">I have a branch that exports the compiled libraries to a lib folder and the headers to an include folder for everything but the host, this gives us the equivalent of a libmoai to statically link against. It also exports a libmoai.cmake file which defines all the pre-compiled files with cmake and allows a host project to be generated that links against these files.<br /> I have the host project setup to suppress regeneration via cmake.<br /><br />This setup allows the libmoai files to be regenerated with different configurations etc without needed to regenerate the host projects. The host project of course doesn't need to be cmake generated either, (it just makes it easier) which should allow you to just create a vanilla xcode iOS project and link in the libs and set the include path.<br /><br />I have it working for the glut and sdl hosts, I am just working on the IOS builds (bug in cmake I need to work around). The android and html host builds don't generate any host code anyway so they can probably stay as is.<br /><br />I believe this will keep the advantages of the cmake build system for the library/cross platform code and keep the advantages of the hosts native build ide/environments for the native parts.</div>

			

		</div>

		
			<dl class="postprofile" id="profile14239">
			<dt>
				<strong>halfnelson</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 629</dd><dd><strong>Joined:</strong> Thu Jun 14, 2012 4:48 am</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p14251" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p14251">Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>JDance</strong> &raquo; Mon Apr 21, 2014 6:48 am </p>

			

			<div class="content">Yeah this sounds really great <img src="../images/smilies/icon_e_smile.gif" alt=":)" title="Smile" /></div>

			

		</div>

		
			<dl class="postprofile" id="profile14251">
			<dt>
				<img src="../download/file.php%253favatar%253d1128_1359560257.jpg" width="98" height="99" alt="User avatar" /><br />
				<strong>JDance</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 429</dd><dd><strong>Joined:</strong> Mon Oct 08, 2012 7:11 am</dd><dd><strong>Location:</strong> http://skyturns.se</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p14470" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p14470">Re: How to Moai &quot;1.5&quot; As A Static Library in iOS host?</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>sshukul</strong> &raquo; Fri May 16, 2014 4:12 pm </p>

			

			<div class="content">Hi guys,<br /><br />So I'm trying to move over to the 1.5 host as well and built the projects using create-projects-ios.sh and it's running fine at first, but as soon as I try to set the deployment target to anything under iOS 7.0, it breaks with a bunch of linker errors. <br /><br />This is probably not good as a major chunk of the iOS market is still below 7.0 ... is there something I can do to configure it for earlier build targets? The older iOS host was set by default to have 4.3 as the deployment target, which is what I released my game with. Thanks.</div>

			

		</div>

		
			<dl class="postprofile" id="profile14470">
			<dt>
				<img src="../download/file.php%253favatar%253d1389_1402231553.jpg" width="100" height="100" alt="User avatar" /><br />
				<strong>sshukul</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 79</dd><dd><strong>Joined:</strong> Wed Mar 27, 2013 8:44 am</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<form id="viewtopic" method="post" action="index.html">

	<fieldset class="display-options" style="margin-top: 0; ">
		<a href="page20.html" class="right-box right">Next</a>
	</fieldset>

	</form>
	<hr />


<div class="topic-actions">
	<div class="buttons">
	
	</div>

	
		<div class="pagination">
			41 posts
			 &bull; <a href="index.html#" onclick="jumpto(); return false;" title="Click to jump to pageâ€¦">Page <strong>1</strong> of <strong>3</strong></a> &bull; <span><strong>1</strong><span class="page-sep">, </span><a href="page20.html">2</a><span class="page-sep">, </span><a href="page40.html">3</a></span>
		</div>
	
</div>


	<p></p><p><a href="../apple-f18.html" class="left-box left" accesskey="r">Return to Apple</a></p>

	<form method="post" id="jumpbox" action="http://192.168.20.226:3000/forums/viewforum.php" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	
		<fieldset class="jumpbox">
	
			<label for="f" accesskey="j">Jump to:</label>
			<select name="f" id="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">
			
				<option value="-1">Select a forum</option>
			<option value="-1">------------------</option>
				<option value="4">Moai Development Forums</option>
			
				<option value="7">&nbsp; &nbsp;Moai SDK</option>
			
				<option value="9">&nbsp; &nbsp;Questions and Tips</option>
			
				<option value="10">&nbsp; &nbsp;Bug Reports</option>
			
				<option value="29">&nbsp; &nbsp;Reviewers</option>
			
				<option value="3">Moai Community Forums</option>
			
				<option value="11">&nbsp; &nbsp;Community Contributions</option>
			
				<option value="25">&nbsp; &nbsp;&nbsp; &nbsp;Flower</option>
			
				<option value="28">&nbsp; &nbsp;&nbsp; &nbsp;Rapanui</option>
			
				<option value="26">&nbsp; &nbsp;&nbsp; &nbsp;Snippets</option>
			
				<option value="5">&nbsp; &nbsp;Moai Roadmap</option>
			
				<option value="8">&nbsp; &nbsp;&nbsp; &nbsp;Moai Cloud</option>
			
				<option value="6">&nbsp; &nbsp;Made With Moai</option>
			
				<option value="12">Platform Specifics</option>
			
				<option value="17">&nbsp; &nbsp;Android</option>
			
				<option value="18" selected="selected">&nbsp; &nbsp;Apple</option>
			
				<option value="20">&nbsp; &nbsp;Linux</option>
			
				<option value="19">&nbsp; &nbsp;Windows</option>
			
				<option value="21">&nbsp; &nbsp;Browser + Other</option>
			
				<option value="13">Third Party Libraries and Plugins</option>
			
				<option value="22">&nbsp; &nbsp;Physics</option>
			
				<option value="23">&nbsp; &nbsp;Sound + Music</option>
			
				<option value="24">&nbsp; &nbsp;Advertising + Networking + IAPs</option>
			
				<option value="14">Additional</option>
			
				<option value="16">&nbsp; &nbsp;Game Development</option>
			
				<option value="27">&nbsp; &nbsp;Off Topic</option>
			
			</select>
			<input type="submit" value="Go" class="button2" />
		</fieldset>
	</form>


	<h3>Who is online</h3>
	<p>Users browsing this forum: No registered users and 0 guests</p>
</div>

<div id="page-footer">

	<div class="navbar">
		<div class="inner"><span class="corners-top"><span></span></span>

		<ul class="linklist">
			<li class="icon-home"><a href="../index.html" accesskey="h">Board index</a></li>
				
			<li class="rightside">All times are UTC </li>
		</ul>

		<span class="corners-bottom"><span></span></span></div>
	</div>
	
	<div class="copyright">Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group<br />Style by <a href="http://www.m-a-styles.de">Marc Alexander</a> &copy;
		<br /><br /><a href="http://www.phpbb-seo.com/" title="Search Engine Optimization"><img src="../images/phpbb-seo.png" alt="phpBB SEO"/></a><br />Time : 0.082s | 11 Queries | GZIP : Off
	</div>
</div>

</div>

<div>
	<a id="bottom" name="bottom" accesskey="z"></a>
	
	</div>
	</div>
<div class="nobottomgap"></div>
</div>
<!--- end of box border -->
</div></div>
<!-- -->
<div class="bottom-left"></div><div class="bottom-center"></div><div class="bottom-right"></div>
</div>
<!-- JQuery Pop Up --><!-- PM Popup --><!-- PM Popup end --><!-- Image Popup -->
<div id="popupImage">
	<p id="ImagePopup"></p>
	<a id="popupImageClose">x</a> 
</div>
<!-- Image Popup -->
<div id="backgroundPopup"></div> 
<!-- JQuery Pop Up END -->
</body>
</html>