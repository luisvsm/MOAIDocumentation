<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>Moai Forum &bull; View topic - Steam Linux Runtime Build Notes</title>

<link rel="alternate" type="application/atom+xml" title="Feed - Moai Forum" href="../feed.php.html" /><link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="../feed.php%3Fmode=forums.html" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="../feed.php%3Fmode=topics.html" /><link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="../feed.php%3Fmode=topics_active.html" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - Linux" href="../feed.php%3Ff=20.html" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - Steam Linux Runtime Build Notes" href="http://192.168.20.226:3000/forums/feed.php?f=20&amp;t=3170" />

<!--
	phpBB style name: proFormell
	Based on style:   prosilver (this is the default phpBB3 style)
	Inspired by:	  Formell (Joomla Style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:  	  Marc Alexander
	
	NOTE: This page was generated by phpBB, the free open-source bulletin board package.
	      The phpBB Group is not responsible for the content of this page and forum. For more information
	      about phpBB please visit http://www.phpbb.com
-->

<script type="text/javascript">
// <![CDATA[
	var jump_page = 'Enter the page number you wish to go to:';
	var on_page = '1';
	var per_page = '';
	var base_url = '';
	var style_cookie = 'phpBBstyle';
	var style_cookie_settings = '; path=/';
	var onload_functions = new Array();
	var onunload_functions = new Array();
	var is_ie6 = false;

	/**
	* Find a member
	*/
	function find_username(url)
	{
		popup(url, 760, 570, '_usersearch');
		return false;
	}

	/**
	* New function for handling multiple calls to window.onload and window.unload by pentapenguin
	*/
	window.onload = function()
	{
		for (var i = 0; i < onload_functions.length; i++)
		{
			eval(onload_functions[i]);
		}
	}

	window.onunload = function()
	{
		for (var i = 0; i < onunload_functions.length; i++)
		{
			eval(onunload_functions[i]);
		}
	}

// ]]>
</script>
<!--[if lt IE 7]>
<script type="text/javascript">
// <![CDATA[
var is_ie6 = true;
// ]]>
</script>
<![endif]-->


<link href="../styles/proFormell/theme/print.css" rel="stylesheet" type="text/css" media="print" title="printonly" />

<link href="../style.css" rel="stylesheet" type="text/css" media="screen, projection" />



<link href="../styles/proFormell/theme/images/favicon.ico" rel="shortcut icon" />

<script type="text/javascript" src="../styles/prosilver/template/forum_fn.js"></script>
<script src="../styles/prosilver/template/jquery-1.4.4.min.js" type="text/javascript"></script>

<script type="text/javascript">
// <![CDATA[
/**
* New pop-up functions
* based on  http://yensdesign.com/2008/09/how-to-create-a-stunning-and-smooth-popup-using-jquery/
*/

//SETTING UP OUR POPUP
//0 means disabled; 1 means enabled;
var popupStatus = 0;
var openPopup = '';

//loading popup with jQuery magic!
function loadPopup()
{
	//loads popup only if it is disabled
	if(popupStatus==0)
	{
		$('#backgroundPopup').css({'opacity': '0.7'});
		// Now let's make sure we actually see the image
		var scroll = $(window).scrollTop();
		$('#popupPM').animate({marginTop: scroll}, 'fast', function() {
			// Animation complete.
			});
		$('#backgroundPopup').fadeIn('slow');
		$('#popupPM').fadeIn('slow');
		popupStatus = 1;
		openPopup = 'PM';
	}
}

//disabling popup with jQuery magic!
function disablePopup()
{
	//disables popup only if it is enabled
	if(popupStatus==1 && openPopup == 'PM')
	{
		$('#backgroundPopup').fadeOut('slow');
		$('#popupPM').fadeOut('slow');
		popupStatus = 0;
		openPopup = '';
	}
}

//centering popup
function centerPopup()
{
	//request data for centering
	var windowWidth = document.documentElement.clientWidth;
	var windowHeight = document.documentElement.clientHeight;
	var popupHeight = $('#popupPM').height();
	var popupWidth = $('#popupPM').width();
	//centering
	$('#popupPM').css({
	'position': 'absolute',
	'top': windowHeight/2-popupHeight/2,
	'left': windowWidth/2-popupWidth/2
	});
	//only need force for IE6
	$('#backgroundPopup').css({'height': windowHeight});
}

$(document).ready(function(){
	
	resize_images();
	
	
	// IE6 and below PNG fix (not really)
	if(is_ie6)
	{
		replace_png();
	}
	
	//CLOSING POPUP
	//Click the x event!
	$('#popupPMClose').click(function(){
		disablePopup();
	});
	//Click out event!
	$('#backgroundPopup').click(function(){
		disablePopup();
		disableImage();
	});
	//Press Escape event!
	$(document).keypress(function(e){
		if(e.keyCode==27 && popupStatus==1)
		{
			disablePopup();
			disableImage();
		}
	});
	
	
	// Image popup
	$('img', 'dt.attach-image').click(function(){
		image_load($(this).attr('src'), $(this).attr('alt'));
		centerImage();
	});
	
	$('.content img').click(function(){
		var check = $(this).parent().hasClass('content');
		if(check)
		{
			image_load($(this).attr('src'), $(this).attr('alt'));
			centerImage();
		}
	});
	
	// Closing Image popup
	//Click the x event!
	$('#popupImageClose').click(function(){
		disableImage();
	});
	
	//Click image box event
	$('#popupImage').click(function(){
		disableImage();
	});
	
	//Click image event
	$('#ImagePopup img').click(function(){
		disableImage();
	});
	

});

/**
* Replaces weird looking PNG files with the respectie GIF file
* Only run this if the browser is IE6 or below
*/
function replace_png()
{
	// Fix Logo
	var str = $('#logo img').attr('src'); 
	$('#logo img').attr('src', str.substring(0, str.length - 3) + 'gif');
	
	// Fix forum icons
	$('dl.icon').each(function() {
		var str = $(this).css('background-image');
		if(str != '')
		{
			$(this).css('background-image', str.substring(0, str.length - 5) + 'gif")');
		}
	});
}


/**
* Image resizer
*/
function resize_images()
{
	var hello = $('dl.attachbox dd dl.file dt.attach-image img').innerWidth();
	var maxWidth = $('div.content').innerWidth() - 30;
	
	// resize the attached images
	$('img', 'dt.attach-image').each(function(i){
		// check the width of the image
		if ($(this).width() > maxWidth)
		{
			// calculate new image dimensions
			newWidth = maxWidth;
			newHeight = $(this).height() / ( $(this).width() / maxWidth );
			   
			// set new image dimensions
			$(this).height(newHeight).width(newWidth);
		}
	});
	
	// resize the images that were added via [img] bbcode
	$('img', 'div.content').each(function(i){
		// check the width of the image
		$(this).css('max-width', maxWidth); // fix for IE
		if ($(this).width() > maxWidth)
		{
			// calculate new image dimensions
			newWidth = maxWidth;
			newHeight = $(this).height() / ( $(this).width() / maxWidth );
			   
			// set new image dimensions
			$(this).height(newHeight).width(newWidth);
		}
	});
}

/**
* Image pop-up
*/
function image_load(src, alt)
{
	//loads popup only if it is disabled
	if(popupStatus==0)
	{
		$('#ImagePopup').html('<img id="imgpopup" src="http://192.168.20.226:3000/forums/steam-linux-runtime-build-notes-t3170/'&#32;+&#32;src&#32;+&#32;'" alt="' + alt + '" />');
		var windowWidth = document.documentElement.clientWidth;
		var windowHeight = document.documentElement.clientHeight;
		var maxWidth = windowWidth * 0.85;
		var maxHeight = windowHeight * 0.85;
		$('#popupImage img').css('max-width', maxWidth);
		$('#popupImage img').css('max-height', maxHeight);
		$('#backgroundPopup').css({'opacity': '0.7'});
		// Now let's make sure we actually see the image
		var scroll = $(window).scrollTop();
		$('#popupImage').animate({marginTop: scroll}, 'fast', function() {
			// Animation complete.
			});
		$('#backgroundPopup').fadeIn('slow');
		$('#popupImage').fadeIn('slow');
		popupStatus = 1;
		openPopup = 'Image';
	}
}

//centering popup
function centerImage()
{
	//request data for centering
	var windowWidth = document.documentElement.clientWidth;
	var windowHeight = document.documentElement.clientHeight;
	var popupHeight = $('#popupImage').height();
	var popupWidth = $('#popupImage').width();
	var newTop = windowHeight/2-popupHeight/2;
	var newLeft = windowWidth/2-popupWidth/2;
	//centering
	$('#popupImage').css({
	'position': 'absolute',
	'top': newTop,
	'left': newLeft
	});
	
	//only need force for IE6
	$('#backgroundPopup').css({'height': windowHeight});
}

//disabling popup with jQuery magic!
function disableImage()
{
	//disables popup only if it is enabled
	if(popupStatus==1 && openPopup == 'Image')
	{
		$('#backgroundPopup').fadeOut('slow');
		$('#popupImage').fadeOut('slow');
		popupStatus = 0;
		openPopup = '';
	}
}


// ]]>
</script>

</head>

<body id="phpbb" class="section-viewtopic ltr">
<!--- box border START -->
<div id="box">

<div class="top-left"></div><div class="top-center"></div><div class="top-right"></div>
<div id="left-border">
<div id="right-border">


<!--- box border END -->
<div class="inside">
 <div class="notopgap">
<div id="wrap">
	<a id="top" name="top" accesskey="t"></a>
	<div id="page-header">
		<div class="headerbar">
			<div class="inner"><!-- <span class="corners-top"><span></span></span> -->
			<div style="height: 140px ;">
			<div id="site-description">
				<div class="header-pad"><a href="http://getmoai.com" title="" id="logo"><img src="../styles/proFormell/imageset/site-logo.png" width="410" height="98" alt="" title="" /></a></div>
			
		<!--		<p class="site-desc">The mobile platform for pro game developers</p> -->
				<p class="skiplink"><a href="index.html#start_here">Skip to content</a></p>
			</div>

		
    </div>

			<span class="corners-bottom"><span></span></span></div>
		</div>

		<div class="navbar">
			<div class="inner"><span class="corners-top"><span></span></span>

			<ul class="linklist navlinks">
				<li class="icon-home"><a href="../index.html" accesskey="h">Board index</a>  <strong>&#8249;</strong> <a href="../platform-specifics-f12.html">Platform Specifics</a> <strong>&#8249;</strong> <a href="../linux-f20.html">Linux</a></li>

				<li class="rightside"><a href="index.html#" onclick="fontsizeup(); return false;" onkeypress="return fontsizeup(event);" class="fontsize" title="Change font size">Change font size</a></li>

				<li class="rightside"><a href="http://192.168.20.226:3000/forums/memberlist.php?mode=email&amp;t=3170" title="E-mail friend" class="sendemail">E-mail friend</a></li><li class="rightside"><a href="http://192.168.20.226:3000/forums/viewtopic.php?f=20&amp;t=3170&amp;start=0&amp;view=print" title="Print view" accesskey="p" class="print">Print view</a></li>
			</ul>

			

			<ul class="linklist rightside">
				<li class="icon-faq"><a href="../faq.php.html" title="Frequently Asked Questions">FAQ</a></li>
				
				
			</ul>

			<span class="corners-bottom"><span></span></span></div>
		</div>
	</div>

	<a name="start_here"></a>
	<div id="page-body">
		
<h2><a href="index.html">Steam Linux Runtime Build Notes</a></h2>
<!-- NOTE: remove the style="display: none" when you want to have the forum description on the topic body --><div style="display: none !important;">64 bit / 32 bit desktops<br /></div>
	<p>
		
			<strong>Moderators:</strong> <span style="color: #AA0000;" class="username-coloured">ezraanderson</span>, spacepluk
		

	</p>


<div class="topic-actions">

	<div class="buttons">
	
	</div>

	
		<div class="pagination">
			4 posts
			 &bull; Page <strong>1</strong> of <strong>1</strong>
		</div>
	

</div>
<div class="clear"></div>


	<div id="p17391" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 class="first"><a href="index.html#p17391">Steam Linux Runtime Build Notes</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong><span style="color: #AA0000;" class="username-coloured">naturally</span></strong> &raquo; Fri Jul 10, 2015 1:06 am </p>

			

			<div class="content">RUNTIME GITHUB:<br /><!-- m --><a class="postlink" href="https://github.com/ValveSoftware/steam-runtime">https://github.com/ValveSoftware/steam-runtime</a><!-- m --><br /><br />STEAM README DOCS:<br /><!-- m --><a class="postlink" href="https://partner.steamgames.com/documentation/linux_landing">https://partner.steamgames.com/document ... ux_landing</a><!-- m --><br /><br />STEAM LINUX DEV FORUM:<br /><!-- m --><a class="postlink" href="http://steamcommunity.com/groups/steamworks/discussions/13/">http://steamcommunity.com/groups/steamw ... ssions/13/</a><!-- m --><br /><br />Instructions here help, but are incomplete/incorrect:<br /><!-- m --><a class="postlink" href="https://github.com/moaiforge/moai-sdk/wiki/Building-MOAI-for-linux-using-steam-runtime">https://github.com/moaiforge/moai-sdk/w ... am-runtime</a><!-- m --><br /><br /><span style="font-weight: bold">BUILD RUNTIME</span><br /><br /><dl class="codebox"><dt>Code: <a href="index.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="bash" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #c20cb9; font-weight: bold;">sudo</span> <span style="color: #c20cb9; font-weight: bold;">apt-get install</span> lib32stdc++<span style="color: #000000;">6</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">.<span style="color: #000000; font-weight: bold;">/</span>build-runtime.py</div></li><br /></ol></code></dd></dl><br /><br />BUILDING CHROOT OS:<br /><br /><dl class="codebox"><dt>Code: <a href="index.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="bash" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">.<span style="color: #000000; font-weight: bold;">/</span>setup_chroot.sh <span style="color: #660033;">--output-dir</span> i386 <span style="color: #660033;">--i386</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">.<span style="color: #000000; font-weight: bold;">/</span>setup_chroot.sh <span style="color: #660033;">--output-dir</span> amd64 <span style="color: #660033;">--amd64</span></div></li><br /></ol></code></dd></dl><br /><br />Might need --configure option as well?  Didn't try it...<br /><br />AFTER, TO GET INSIDE CHROOT:<br /><br /><!-- m --><a class="postlink" href="https://en.wikipedia.org/wiki/Chroot">https://en.wikipedia.org/wiki/Chroot</a><!-- m --><br /><!-- m --><a class="postlink" href="https://wiki.debian.org/Schroot">https://wiki.debian.org/Schroot</a><!-- m --><br /><br />example dir: ~/Engines/steam/steam-runtime/i386$ <br /><dl class="codebox"><dt>Code: <a href="index.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="bash" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #c20cb9; font-weight: bold;">sudo</span> <span style="color: #c20cb9; font-weight: bold;">chroot</span> steamrt_scout_i386</div></li><br /></ol></code></dd></dl><br /><br /><span style="font-weight: bold">INSIDE CHROOT:</span><br /><br />VERY IMPORTANT:<br />The setup_chroot script fails before installing the build environment (missing --configure flag?).  <br />If it does, then it's ok, you just have to do it manually.<br />Copy part of the setup_chroot.sh script into a new sh script inside the runtime:<br />- copy in the function: configure_chroot(), ~lines 137 to 287<br />- chmod +x and run the script<br />- note: it installs an older cmake, so might have to go back to new if u installed newer before, otherwise install after <br /><br /><dl class="codebox"><dt>Code: <a href="index.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="bash" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #c20cb9; font-weight: bold;">apt-get install</span> <span style="color: #c20cb9; font-weight: bold;">git</span> <span style="color: #c20cb9; font-weight: bold;">make</span></div></li><br /></ol></code></dd></dl><br /><br />32 BIT CMAKE<br /><dl class="codebox"><dt>Code: <a href="index.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="bash" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #c20cb9; font-weight: bold;">wget</span> <span style="color: #000000; font-weight: bold;">&lt;!</span>-- m --<span style="color: #000000; font-weight: bold;">&gt;&lt;</span>a <span style="color: #007800;">class</span>=<span style="color: #ff0000;">&quot;postlink&quot;</span> <span style="color: #007800;">href</span>=<span style="color: #ff0000;">&quot;http://www.cmake.org/files/v2.8/cmake-2.8.12.2-Linux-i386.sh&quot;</span><span style="color: #000000; font-weight: bold;">&gt;</span>http:<span style="color: #000000; font-weight: bold;">//</span>www.cmake.org<span style="color: #000000; font-weight: bold;">/</span>files<span style="color: #000000; font-weight: bold;">/</span>v2.8<span style="color: #000000; font-weight: bold;">/</span>cmake-<span style="color: #000000;">2</span> ... ux-i386.sh<span style="color: #000000; font-weight: bold;">&lt;/</span>a<span style="color: #000000; font-weight: bold;">&gt;&lt;!</span>-- m --<span style="color: #000000; font-weight: bold;">&gt;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #c20cb9; font-weight: bold;">chmod</span> +x cmake-2.8.12.2-Linux-i386.sh</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">.<span style="color: #000000; font-weight: bold;">/</span>cmake-2.8.12.2-Linux-i386.sh</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">Say Yes,Yes</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #c20cb9; font-weight: bold;">ln</span> <span style="color: #660033;">-s</span> <span style="color: #000000; font-weight: bold;">/</span>full<span style="color: #000000; font-weight: bold;">/</span>app<span style="color: #000000; font-weight: bold;">/</span>path<span style="color: #000000; font-weight: bold;">/</span>bin<span style="color: #000000; font-weight: bold;">/</span>cmake <span style="color: #000000; font-weight: bold;">/</span>usr<span style="color: #000000; font-weight: bold;">/</span>bin<span style="color: #000000; font-weight: bold;">/</span>cmake</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #c20cb9; font-weight: bold;">ln</span> <span style="color: #660033;">-s</span> <span style="color: #000000; font-weight: bold;">/</span>home<span style="color: #000000; font-weight: bold;">/</span>apps<span style="color: #000000; font-weight: bold;">/</span>cmake-2.8.12.2-Linux-i386<span style="color: #000000; font-weight: bold;">/</span>bin<span style="color: #000000; font-weight: bold;">/</span>cmake <span style="color: #000000; font-weight: bold;">/</span>usr<span style="color: #000000; font-weight: bold;">/</span>bin<span style="color: #000000; font-weight: bold;">/</span>cmake</div></li><br /></ol></code></dd></dl><br /><br />64 BIT CMAKE<br /><dl class="codebox"><dt>Code: <a href="index.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="bash" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #c20cb9; font-weight: bold;">wget</span> <span style="color: #000000; font-weight: bold;">&lt;!</span>-- m --<span style="color: #000000; font-weight: bold;">&gt;&lt;</span>a <span style="color: #007800;">class</span>=<span style="color: #ff0000;">&quot;postlink&quot;</span> <span style="color: #007800;">href</span>=<span style="color: #ff0000;">&quot;http://www.cmake.org/files/v2.8/cmake-2.8.12.2.tar.gz&quot;</span><span style="color: #000000; font-weight: bold;">&gt;</span>http:<span style="color: #000000; font-weight: bold;">//</span>www.cmake.org<span style="color: #000000; font-weight: bold;">/</span>files<span style="color: #000000; font-weight: bold;">/</span>v2.8<span style="color: #000000; font-weight: bold;">/</span>cmake-2.8.12.2.tar.gz<span style="color: #000000; font-weight: bold;">&lt;/</span>a<span style="color: #000000; font-weight: bold;">&gt;&lt;!</span>-- m --<span style="color: #000000; font-weight: bold;">&gt;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #c20cb9; font-weight: bold;">tar</span> <span style="color: #660033;">-xvf</span> cmake-2.8.12.2.tar.gz</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #7a0874; font-weight: bold;">cd</span> cmake-2.8.12.2</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">.<span style="color: #000000; font-weight: bold;">/</span>bootstrap; <span style="color: #c20cb9; font-weight: bold;">make</span>; <span style="color: #c20cb9; font-weight: bold;">make</span> <span style="color: #c20cb9; font-weight: bold;">install</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #c20cb9; font-weight: bold;">cp</span> <span style="color: #000000; font-weight: bold;">/</span>usr<span style="color: #000000; font-weight: bold;">/</span>local<span style="color: #000000; font-weight: bold;">/</span>bin<span style="color: #000000; font-weight: bold;">/</span>cmake <span style="color: #000000; font-weight: bold;">/</span>usr<span style="color: #000000; font-weight: bold;">/</span>bin<span style="color: #000000; font-weight: bold;">/</span>cmake</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /></ol></code></dd></dl><br /><br /><span style="font-weight: bold">BUILDING MOAI:</span><br /><br />Inside chroot, do:<br /><dl class="codebox"><dt>Code: <a href="index.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="bash" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #c20cb9; font-weight: bold;">sudo</span> <span style="color: #c20cb9; font-weight: bold;">apt-get install</span> build-essential freeglut3-dev libglew-dev libglu1-mesa-dev libxmu-dev libxi-dev libjpeg8-dev libpng-dev libfreetype6-dev liblua5.1-<span style="color: #000000;">0</span>-dev libcurl4-openssl-dev zlib1g-dev libexpat1-dev build-essential freeglut3 libxmu-dev libxi-dev zlib1g-dev libssl-dev sqlite3 libsqlite3-dev libexpat-dev libcurl4-openssl-dev libasound2-dev libogg-dev libvorbis-dev libpulse-dev libsdl1.2-dev libxcb-util0-dev libxcb-randr0-dev libxml2-dev libxxf86vm-dev</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #c20cb9; font-weight: bold;">git clone</span> <span style="color: #000000; font-weight: bold;">&lt;!</span>-- m --<span style="color: #000000; font-weight: bold;">&gt;&lt;</span>a <span style="color: #007800;">class</span>=<span style="color: #ff0000;">&quot;postlink&quot;</span> <span style="color: #007800;">href</span>=<span style="color: #ff0000;">&quot;http://github.com/moai/moai-dev&quot;</span><span style="color: #000000; font-weight: bold;">&gt;</span>http:<span style="color: #000000; font-weight: bold;">//</span>github.com<span style="color: #000000; font-weight: bold;">/</span>moai<span style="color: #000000; font-weight: bold;">/</span>moai-dev<span style="color: #000000; font-weight: bold;">&lt;/</span>a<span style="color: #000000; font-weight: bold;">&gt;&lt;!</span>-- m --<span style="color: #000000; font-weight: bold;">&gt;</span> <span style="color: #660033;">--branch</span>=<span style="color: #000000;">1.5</span>-stable <span style="color: #660033;">--depth</span>=<span style="color: #000000;">1</span> moai15stable</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #c20cb9; font-weight: bold;">git checkout</span> <span style="color: #000000;">1.5</span>-stable <span style="color: #7a0874; font-weight: bold;">&#40;</span>just to check<span style="color: #7a0874; font-weight: bold;">&#41;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">OR</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #c20cb9; font-weight: bold;">git clone</span> <span style="color: #000000; font-weight: bold;">&lt;!</span>-- m --<span style="color: #000000; font-weight: bold;">&gt;&lt;</span>a <span style="color: #007800;">class</span>=<span style="color: #ff0000;">&quot;postlink&quot;</span> <span style="color: #007800;">href</span>=<span style="color: #ff0000;">&quot;http://github.com/moai/moai-dev&quot;</span><span style="color: #000000; font-weight: bold;">&gt;</span>http:<span style="color: #000000; font-weight: bold;">//</span>github.com<span style="color: #000000; font-weight: bold;">/</span>moai<span style="color: #000000; font-weight: bold;">/</span>moai-dev<span style="color: #000000; font-weight: bold;">&lt;/</span>a<span style="color: #000000; font-weight: bold;">&gt;&lt;!</span>-- m --<span style="color: #000000; font-weight: bold;">&gt;</span> <span style="color: #660033;">--branch</span>=<span style="color: #000000;">1.6</span>-stable <span style="color: #660033;">--depth</span>=<span style="color: #000000;">1</span> moai16stable</div></li><br /></ol></code></dd></dl><br /><br />SDL ONLY:<br /><br />We had problems with GLUT host segfaulting on Steam exit.<br />So SDL host it is!  Compile 1.5 like so:<br /><br /><dl class="codebox"><dt>Code: <a href="index.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="bash" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #000000;">1.5</span>: .<span style="color: #000000; font-weight: bold;">/</span>bin<span style="color: #000000; font-weight: bold;">/</span>build-linux-sdl.sh</div></li><br /></ol></code></dd></dl><br /><br />SDL has more support for gaming features like joysticks, so use it for release.<br />For development we prefer GLUT because it can start/stop the app quicker.<br /><br /><span style="font-weight: bold">STEAM API:</span><br /><br />You can include the basic Steam API via Ezra Anderson's plugin:<br /><br /><!-- m --><a class="postlink" href="https://github.com/ezraanderson/moai-dev/tree/development/plugins/moai-steam">https://github.com/ezraanderson/moai-de ... moai-steam</a><!-- m --><br /><br />This logs in and logs off Steam.  Further support to come.  Steam API/SDK not included!<br /><br /><span style="font-weight: bold">BUILDING 32 BIT on 64 BIT LINUX</span><br /><br />You have to repeat the process for each architecture, 32 and 64, separate chroots.<br />So build a chroot for each one, and build moai in each one.<br /><br />Because of complications, it is recommended not to build 32 bit on 64 bit inside a chroot.<br />For example, 'uname' returns the OS as 64bit inside chroot, causing confusion.<br /><br />Instead, you can use VirtualBox.  <br />Download and install Ubuntu 12.04 32bit Minimal ISO.<br />Mount in a new VirtualBox machine and repeat the procudure above.<br /><br />Tried with minimal OS, but you miss out on copy/paste and other features that will be very handy.<br />Another approach is installing minimal and then adding &quot;lxde&quot; on top, its a bit less bulky than Unity.<br /><dl class="codebox"><dt>Code: <a href="index.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="bash" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #c20cb9; font-weight: bold;">sudo</span> <span style="color: #c20cb9; font-weight: bold;">apt-get install</span> lxde xinit</div></li><br /></ol></code></dd></dl><br />Another nifty thing is it seems to have guest additions automagically for mouse/shared folders.<br /><br /><span style="font-weight: bold">GCC 4.8 FOR MOAI 1.6</span><br /><br />You cant build the latest MOAI 1.6 without gcc4.8.<br /><br />set gcc 4.8:<br /><dl class="codebox"><dt>Code: <a href="index.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="bash" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">update-alternatives <span style="color: #660033;">--set</span> <span style="color: #c20cb9; font-weight: bold;">gcc</span> <span style="color: #000000; font-weight: bold;">/</span>usr<span style="color: #000000; font-weight: bold;">/</span>bin<span style="color: #000000; font-weight: bold;">/</span>gcc-<span style="color: #000000;">4.8</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">update-alternatives <span style="color: #660033;">--set</span> <span style="color: #c20cb9; font-weight: bold;">g++</span> <span style="color: #000000; font-weight: bold;">/</span>usr<span style="color: #000000; font-weight: bold;">/</span>bin<span style="color: #000000; font-weight: bold;">/</span>g++-<span style="color: #000000;">4.8</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">update-alternatives <span style="color: #660033;">--set</span> cpp-bin <span style="color: #000000; font-weight: bold;">/</span>usr<span style="color: #000000; font-weight: bold;">/</span>bin<span style="color: #000000; font-weight: bold;">/</span>cpp-<span style="color: #000000;">4.8</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #c20cb9; font-weight: bold;">gcc</span> <span style="color: #660033;">--version</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;"><span style="color: #c20cb9; font-weight: bold;">gcc</span> <span style="color: #7a0874; font-weight: bold;">&#40;</span>Ubuntu 4.8.1-2ubuntu1~<span style="color: #000000;">12.04</span>+steamrt2+srt1<span style="color: #7a0874; font-weight: bold;">&#41;</span> 4.8.1</div></li><br /></ol></code></dd></dl><br /><br /><span style="font-weight: bold">TRANSPORT OUT OF HOST</span><br /><br />Easiest way is to share a folder thru virtual box,<br />then go to &quot;/media/sf_Public&quot; or whatever in the chroot.<br /><br />Next, you'll have to copy two things:<br />- moai executable<br />- shared libraries<br /><br />That should be all!</div>

			
				<div class="notice">Last edited by <span style="color: #AA0000;" class="username-coloured">naturally</span> on Sat Aug 29, 2015 11:32 am, edited 12 times in total.
					
				</div>
			<div id="sig17391" class="signature"><a href="http://www.dontbepatchman.com" class="postlink"><img src="http://i.imgur.com/ney3Oo8.png" alt="Image" /></a> - <a href="http://www.dontbepatchman.com" class="postlink"><span style="font-weight: bold">Don't Be Patchman</span></a> - a sneak-and-grow adventure!</div>

		</div>

		
			<dl class="postprofile" id="profile17391">
			<dt>
				<img src="../download/file.php%253favatar%253d1551_1426308916.png" width="80" height="80" alt="User avatar" /><br />
				<strong><span style="color: #AA0000;" class="username-coloured">naturally</span></strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 650</dd><dd><strong>Joined:</strong> Fri Aug 30, 2013 3:05 am</dd><dd><strong>Location:</strong> Canada</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p17397" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p17397">Re: Steam Linux Runtime Build Notes</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong><span style="color: #AA0000;" class="username-coloured">naturally</span></strong> &raquo; Sat Jul 11, 2015 10:39 pm </p>

			

			<div class="content">It looks like I have successfully built the 32bit and 64bit versions of both MOAI 1.5 and 1.6!<br /><br />Haven't tested it too thoroughly but everything seems working...<br /><br /><span style="font-weight: bold">Not on Steam?</span>  This is still <span style="font-style: italic">very</span> useful.  The reason you might be interested in doing this is because it will build you a universal Linux host that can run on many systems.  If you build the host normally you'll be adding in your video hardware drivers and other stuff that can cause problems when transferring to another machine.  This is all open source, you don't have to have a Steam account or anything of that nature.  The Steam Runtime is available on GitHub and anyone can use it to make Linux hosts with/without Steam.  <br /><br />Since I have the hosts built (with no mods and no Steam API) maybe it might be useful if I post them up for download?</div>

			<div id="sig17397" class="signature"><a href="http://www.dontbepatchman.com" class="postlink"><img src="http://i.imgur.com/ney3Oo8.png" alt="Image" /></a> - <a href="http://www.dontbepatchman.com" class="postlink"><span style="font-weight: bold">Don't Be Patchman</span></a> - a sneak-and-grow adventure!</div>

		</div>

		
			<dl class="postprofile" id="profile17397">
			<dt>
				<img src="../download/file.php%253favatar%253d1551_1426308916.png" width="80" height="80" alt="User avatar" /><br />
				<strong><span style="color: #AA0000;" class="username-coloured">naturally</span></strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 650</dd><dd><strong>Joined:</strong> Fri Aug 30, 2013 3:05 am</dd><dd><strong>Location:</strong> Canada</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p17398" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p17398">Re: Steam Linux Runtime Build Notes</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong><span style="color: #AA0000;" class="username-coloured">ibisum</span></strong> &raquo; Sun Jul 12, 2015 8:27 am </p>

			

			<div class="content">I'm not sure I follow you - if I build the normal Linux host using the existing MOAI build scripts, it somehow magically bundles along video drivers and whatnot?  Huh?</div>

			<div id="sig17398" class="signature">;<br />--<br />Email: <!-- e --><a href="mailto:ibisum@gmail.com">ibisum@gmail.com</a><!-- e -->  <br />IRC:  torpor on FreeNode, see you in the #moai channel<br />Got a MOAI snippet?  Please consider adding it to <a href="http://moaisnippets.info/" class="postlink">http://moaisnippets.info/</a></div>

		</div>

		
			<dl class="postprofile" id="profile17398">
			<dt>
				<img src="../download/file.php%253favatar%253d262_1340630942.png" width="120" height="90" alt="User avatar" /><br />
				<strong><span style="color: #AA0000;" class="username-coloured">ibisum</span></strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 1499</dd><dd><strong>Joined:</strong> Mon Oct 17, 2011 8:11 am</dd><dd><strong>Location:</strong> Vienna, Austria</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p17399" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p17399">Re: Steam Linux Runtime Build Notes</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong><span style="color: #AA0000;" class="username-coloured">naturally</span></strong> &raquo; Sun Jul 12, 2015 9:49 am </p>

			

			<div class="content">Depends how you build it, mine links to Nvidia drivers preventing it from running on other machines.  I dunno what exactly is going on.  I just know I have to build the libraries on each machine OR do a contained build like this.   <img src="../images/smilies/icon_e_confused.gif" alt=":?" title="Confused" /></div>

			<div id="sig17399" class="signature"><a href="http://www.dontbepatchman.com" class="postlink"><img src="http://i.imgur.com/ney3Oo8.png" alt="Image" /></a> - <a href="http://www.dontbepatchman.com" class="postlink"><span style="font-weight: bold">Don't Be Patchman</span></a> - a sneak-and-grow adventure!</div>

		</div>

		
			<dl class="postprofile" id="profile17399">
			<dt>
				<img src="../download/file.php%253favatar%253d1551_1426308916.png" width="80" height="80" alt="User avatar" /><br />
				<strong><span style="color: #AA0000;" class="username-coloured">naturally</span></strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 650</dd><dd><strong>Joined:</strong> Fri Aug 30, 2013 3:05 am</dd><dd><strong>Location:</strong> Canada</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<form id="viewtopic" method="post" action="index.html">

	<fieldset class="display-options" style="margin-top: 0; ">
		
	</fieldset>

	</form>
	<hr />


<div class="topic-actions">
	<div class="buttons">
	
	</div>

	
		<div class="pagination">
			4 posts
			 &bull; Page <strong>1</strong> of <strong>1</strong>
		</div>
	
</div>


	<p></p><p><a href="../linux-f20.html" class="left-box left" accesskey="r">Return to Linux</a></p>

	<form method="post" id="jumpbox" action="http://192.168.20.226:3000/forums/viewforum.php" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	
		<fieldset class="jumpbox">
	
			<label for="f" accesskey="j">Jump to:</label>
			<select name="f" id="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">
			
				<option value="-1">Select a forum</option>
			<option value="-1">------------------</option>
				<option value="4">Moai Development Forums</option>
			
				<option value="7">&nbsp; &nbsp;Moai SDK</option>
			
				<option value="9">&nbsp; &nbsp;Questions and Tips</option>
			
				<option value="10">&nbsp; &nbsp;Bug Reports</option>
			
				<option value="29">&nbsp; &nbsp;Reviewers</option>
			
				<option value="3">Moai Community Forums</option>
			
				<option value="11">&nbsp; &nbsp;Community Contributions</option>
			
				<option value="25">&nbsp; &nbsp;&nbsp; &nbsp;Flower</option>
			
				<option value="28">&nbsp; &nbsp;&nbsp; &nbsp;Rapanui</option>
			
				<option value="26">&nbsp; &nbsp;&nbsp; &nbsp;Snippets</option>
			
				<option value="5">&nbsp; &nbsp;Moai Roadmap</option>
			
				<option value="8">&nbsp; &nbsp;&nbsp; &nbsp;Moai Cloud</option>
			
				<option value="6">&nbsp; &nbsp;Made With Moai</option>
			
				<option value="12">Platform Specifics</option>
			
				<option value="17">&nbsp; &nbsp;Android</option>
			
				<option value="18">&nbsp; &nbsp;Apple</option>
			
				<option value="20" selected="selected">&nbsp; &nbsp;Linux</option>
			
				<option value="19">&nbsp; &nbsp;Windows</option>
			
				<option value="21">&nbsp; &nbsp;Browser + Other</option>
			
				<option value="13">Third Party Libraries and Plugins</option>
			
				<option value="22">&nbsp; &nbsp;Physics</option>
			
				<option value="23">&nbsp; &nbsp;Sound + Music</option>
			
				<option value="24">&nbsp; &nbsp;Advertising + Networking + IAPs</option>
			
				<option value="14">Additional</option>
			
				<option value="16">&nbsp; &nbsp;Game Development</option>
			
				<option value="27">&nbsp; &nbsp;Off Topic</option>
			
			</select>
			<input type="submit" value="Go" class="button2" />
		</fieldset>
	</form>


	<h3>Who is online</h3>
	<p>Users browsing this forum: No registered users and 0 guests</p>
</div>

<div id="page-footer">

	<div class="navbar">
		<div class="inner"><span class="corners-top"><span></span></span>

		<ul class="linklist">
			<li class="icon-home"><a href="../index.html" accesskey="h">Board index</a></li>
				
			<li class="rightside">All times are UTC </li>
		</ul>

		<span class="corners-bottom"><span></span></span></div>
	</div>
	
	<div class="copyright">Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group<br />Style by <a href="http://www.m-a-styles.de">Marc Alexander</a> &copy;
		<br /><br /><a href="http://www.phpbb-seo.com/" title="Search Engine Optimization"><img src="../images/phpbb-seo.png" alt="phpBB SEO"/></a><br />Time : 0.185s | 11 Queries | GZIP : Off
	</div>
</div>

</div>

<div>
	<a id="bottom" name="bottom" accesskey="z"></a>
	
	</div>
	</div>
<div class="nobottomgap"></div>
</div>
<!--- end of box border -->
</div></div>
<!-- -->
<div class="bottom-left"></div><div class="bottom-center"></div><div class="bottom-right"></div>
</div>
<!-- JQuery Pop Up --><!-- PM Popup --><!-- PM Popup end --><!-- Image Popup -->
<div id="popupImage">
	<p id="ImagePopup"></p>
	<a id="popupImageClose">x</a> 
</div>
<!-- Image Popup -->
<div id="backgroundPopup"></div> 
<!-- JQuery Pop Up END -->
</body>
</html>