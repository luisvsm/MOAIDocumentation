<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>Moai Forum &bull; View topic - Trying to build HTML host - getting cmake error.</title>

<link rel="alternate" type="application/atom+xml" title="Feed - Moai Forum" href="../feed.php.html" /><link rel="alternate" type="application/atom+xml" title="Feed - All forums" href="../feed.php%3Fmode=forums.html" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="../feed.php%3Fmode=topics.html" /><link rel="alternate" type="application/atom+xml" title="Feed - Active Topics" href="../feed.php%3Fmode=topics_active.html" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - Browser + Other" href="../feed.php%3Ff=21.html" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - Trying to build HTML host - getting cmake error." href="../feed.php%3Ff=21&amp;t=2648.html" />

<!--
	phpBB style name: proFormell
	Based on style:   prosilver (this is the default phpBB3 style)
	Inspired by:	  Formell (Joomla Style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:  	  Marc Alexander
	
	NOTE: This page was generated by phpBB, the free open-source bulletin board package.
	      The phpBB Group is not responsible for the content of this page and forum. For more information
	      about phpBB please visit http://www.phpbb.com
-->

<script type="text/javascript">
// <![CDATA[
	var jump_page = 'Enter the page number you wish to go to:';
	var on_page = '1';
	var per_page = '';
	var base_url = '';
	var style_cookie = 'phpBBstyle';
	var style_cookie_settings = '; path=/';
	var onload_functions = new Array();
	var onunload_functions = new Array();
	var is_ie6 = false;

	/**
	* Find a member
	*/
	function find_username(url)
	{
		popup(url, 760, 570, '_usersearch');
		return false;
	}

	/**
	* New function for handling multiple calls to window.onload and window.unload by pentapenguin
	*/
	window.onload = function()
	{
		for (var i = 0; i < onload_functions.length; i++)
		{
			eval(onload_functions[i]);
		}
	}

	window.onunload = function()
	{
		for (var i = 0; i < onunload_functions.length; i++)
		{
			eval(onunload_functions[i]);
		}
	}

// ]]>
</script>
<!--[if lt IE 7]>
<script type="text/javascript">
// <![CDATA[
var is_ie6 = true;
// ]]>
</script>
<![endif]-->


<link href="../styles/proFormell/theme/print.css" rel="stylesheet" type="text/css" media="print" title="printonly" />

<link href="../style.css" rel="stylesheet" type="text/css" media="screen, projection" />



<link href="../styles/proFormell/theme/images/favicon.ico" rel="shortcut icon" />

<script type="text/javascript" src="../styles/prosilver/template/forum_fn.js"></script>
<script src="../styles/prosilver/template/jquery-1.4.4.min.js" type="text/javascript"></script>

<script type="text/javascript">
// <![CDATA[
/**
* New pop-up functions
* based on  http://yensdesign.com/2008/09/how-to-create-a-stunning-and-smooth-popup-using-jquery/
*/

//SETTING UP OUR POPUP
//0 means disabled; 1 means enabled;
var popupStatus = 0;
var openPopup = '';

//loading popup with jQuery magic!
function loadPopup()
{
	//loads popup only if it is disabled
	if(popupStatus==0)
	{
		$('#backgroundPopup').css({'opacity': '0.7'});
		// Now let's make sure we actually see the image
		var scroll = $(window).scrollTop();
		$('#popupPM').animate({marginTop: scroll}, 'fast', function() {
			// Animation complete.
			});
		$('#backgroundPopup').fadeIn('slow');
		$('#popupPM').fadeIn('slow');
		popupStatus = 1;
		openPopup = 'PM';
	}
}

//disabling popup with jQuery magic!
function disablePopup()
{
	//disables popup only if it is enabled
	if(popupStatus==1 && openPopup == 'PM')
	{
		$('#backgroundPopup').fadeOut('slow');
		$('#popupPM').fadeOut('slow');
		popupStatus = 0;
		openPopup = '';
	}
}

//centering popup
function centerPopup()
{
	//request data for centering
	var windowWidth = document.documentElement.clientWidth;
	var windowHeight = document.documentElement.clientHeight;
	var popupHeight = $('#popupPM').height();
	var popupWidth = $('#popupPM').width();
	//centering
	$('#popupPM').css({
	'position': 'absolute',
	'top': windowHeight/2-popupHeight/2,
	'left': windowWidth/2-popupWidth/2
	});
	//only need force for IE6
	$('#backgroundPopup').css({'height': windowHeight});
}

$(document).ready(function(){
	
	resize_images();
	
	
	// IE6 and below PNG fix (not really)
	if(is_ie6)
	{
		replace_png();
	}
	
	//CLOSING POPUP
	//Click the x event!
	$('#popupPMClose').click(function(){
		disablePopup();
	});
	//Click out event!
	$('#backgroundPopup').click(function(){
		disablePopup();
		disableImage();
	});
	//Press Escape event!
	$(document).keypress(function(e){
		if(e.keyCode==27 && popupStatus==1)
		{
			disablePopup();
			disableImage();
		}
	});
	
	
	// Image popup
	$('img', 'dt.attach-image').click(function(){
		image_load($(this).attr('src'), $(this).attr('alt'));
		centerImage();
	});
	
	$('.content img').click(function(){
		var check = $(this).parent().hasClass('content');
		if(check)
		{
			image_load($(this).attr('src'), $(this).attr('alt'));
			centerImage();
		}
	});
	
	// Closing Image popup
	//Click the x event!
	$('#popupImageClose').click(function(){
		disableImage();
	});
	
	//Click image box event
	$('#popupImage').click(function(){
		disableImage();
	});
	
	//Click image event
	$('#ImagePopup img').click(function(){
		disableImage();
	});
	

});

/**
* Replaces weird looking PNG files with the respectie GIF file
* Only run this if the browser is IE6 or below
*/
function replace_png()
{
	// Fix Logo
	var str = $('#logo img').attr('src'); 
	$('#logo img').attr('src', str.substring(0, str.length - 3) + 'gif');
	
	// Fix forum icons
	$('dl.icon').each(function() {
		var str = $(this).css('background-image');
		if(str != '')
		{
			$(this).css('background-image', str.substring(0, str.length - 5) + 'gif")');
		}
	});
}


/**
* Image resizer
*/
function resize_images()
{
	var hello = $('dl.attachbox dd dl.file dt.attach-image img').innerWidth();
	var maxWidth = $('div.content').innerWidth() - 30;
	
	// resize the attached images
	$('img', 'dt.attach-image').each(function(i){
		// check the width of the image
		if ($(this).width() > maxWidth)
		{
			// calculate new image dimensions
			newWidth = maxWidth;
			newHeight = $(this).height() / ( $(this).width() / maxWidth );
			   
			// set new image dimensions
			$(this).height(newHeight).width(newWidth);
		}
	});
	
	// resize the images that were added via [img] bbcode
	$('img', 'div.content').each(function(i){
		// check the width of the image
		$(this).css('max-width', maxWidth); // fix for IE
		if ($(this).width() > maxWidth)
		{
			// calculate new image dimensions
			newWidth = maxWidth;
			newHeight = $(this).height() / ( $(this).width() / maxWidth );
			   
			// set new image dimensions
			$(this).height(newHeight).width(newWidth);
		}
	});
}

/**
* Image pop-up
*/
function image_load(src, alt)
{
	//loads popup only if it is disabled
	if(popupStatus==0)
	{
		$('#ImagePopup').html('<img id="imgpopup" src="http://192.168.20.226:3000/forums/trying-to-build-html-host-getting-cmake-error-t2648/'&#32;+&#32;src&#32;+&#32;'" alt="' + alt + '" />');
		var windowWidth = document.documentElement.clientWidth;
		var windowHeight = document.documentElement.clientHeight;
		var maxWidth = windowWidth * 0.85;
		var maxHeight = windowHeight * 0.85;
		$('#popupImage img').css('max-width', maxWidth);
		$('#popupImage img').css('max-height', maxHeight);
		$('#backgroundPopup').css({'opacity': '0.7'});
		// Now let's make sure we actually see the image
		var scroll = $(window).scrollTop();
		$('#popupImage').animate({marginTop: scroll}, 'fast', function() {
			// Animation complete.
			});
		$('#backgroundPopup').fadeIn('slow');
		$('#popupImage').fadeIn('slow');
		popupStatus = 1;
		openPopup = 'Image';
	}
}

//centering popup
function centerImage()
{
	//request data for centering
	var windowWidth = document.documentElement.clientWidth;
	var windowHeight = document.documentElement.clientHeight;
	var popupHeight = $('#popupImage').height();
	var popupWidth = $('#popupImage').width();
	var newTop = windowHeight/2-popupHeight/2;
	var newLeft = windowWidth/2-popupWidth/2;
	//centering
	$('#popupImage').css({
	'position': 'absolute',
	'top': newTop,
	'left': newLeft
	});
	
	//only need force for IE6
	$('#backgroundPopup').css({'height': windowHeight});
}

//disabling popup with jQuery magic!
function disableImage()
{
	//disables popup only if it is enabled
	if(popupStatus==1 && openPopup == 'Image')
	{
		$('#backgroundPopup').fadeOut('slow');
		$('#popupImage').fadeOut('slow');
		popupStatus = 0;
		openPopup = '';
	}
}


// ]]>
</script>

</head>

<body id="phpbb" class="section-viewtopic ltr">
<!--- box border START -->
<div id="box">

<div class="top-left"></div><div class="top-center"></div><div class="top-right"></div>
<div id="left-border">
<div id="right-border">


<!--- box border END -->
<div class="inside">
 <div class="notopgap">
<div id="wrap">
	<a id="top" name="top" accesskey="t"></a>
	<div id="page-header">
		<div class="headerbar">
			<div class="inner"><!-- <span class="corners-top"><span></span></span> -->
			<div style="height: 140px ;">
			<div id="site-description">
				<div class="header-pad"><a href="http://getmoai.com" title="" id="logo"><img src="../styles/proFormell/imageset/site-logo.png" width="410" height="98" alt="" title="" /></a></div>
			
		<!--		<p class="site-desc">The mobile platform for pro game developers</p> -->
				<p class="skiplink"><a href="index.html#start_here">Skip to content</a></p>
			</div>

		
    </div>

			<span class="corners-bottom"><span></span></span></div>
		</div>

		<div class="navbar">
			<div class="inner"><span class="corners-top"><span></span></span>

			<ul class="linklist navlinks">
				<li class="icon-home"><a href="../index.html" accesskey="h">Board index</a>  <strong>&#8249;</strong> <a href="../platform-specifics-f12.html">Platform Specifics</a> <strong>&#8249;</strong> <a href="../browser-other-f21.html">Browser + Other</a></li>

				<li class="rightside"><a href="index.html#" onclick="fontsizeup(); return false;" onkeypress="return fontsizeup(event);" class="fontsize" title="Change font size">Change font size</a></li>

				<li class="rightside"><a href="../memberlist.php%3Fmode=email&amp;t=2648.html" title="E-mail friend" class="sendemail">E-mail friend</a></li><li class="rightside"><a href="../viewtopic.php%3Ff=21&amp;t=2648&amp;start=0&amp;view=print.html" title="Print view" accesskey="p" class="print">Print view</a></li>
			</ul>

			

			<ul class="linklist rightside">
				<li class="icon-faq"><a href="../faq.php.html" title="Frequently Asked Questions">FAQ</a></li>
				
				
			</ul>

			<span class="corners-bottom"><span></span></span></div>
		</div>
	</div>

	<a name="start_here"></a>
	<div id="page-body">
		
<h2><a href="index.html">Trying to build HTML host - getting cmake error.</a></h2>
<!-- NOTE: remove the style="display: none" when you want to have the forum description on the topic body --><div style="display: none !important;">Chrome / HTML+JS / Kindle / Blackberry<br /></div>
	<p>
		
			<strong>Moderator:</strong> halfnelson
		

	</p>


<div class="topic-actions">

	<div class="buttons">
	
	</div>

	
		<div class="pagination">
			14 posts
			 &bull; Page <strong>1</strong> of <strong>1</strong>
		</div>
	

</div>
<div class="clear"></div>


	<div id="p14213" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 class="first"><a href="index.html#p14213">Trying to build HTML host - getting cmake error.</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>Ascorbius</strong> &raquo; Sat Apr 19, 2014 12:05 pm </p>

			

			<div class="content">OK Guys,<br /><br />I need help here..<br /><br />I've installed enscripten - set the environment variable (by hand) ENSCRIPTEN_HOME<br />Installed MinGW 32<br />Installed CMake 2.8<br />Installed Python 3.4.0 <br /><br />--Running Windows7 Pro SP1 just in case it's relevant.<br /><br />I open a console window and cd to the moai-dev-master (which is the recent 1.5 release)<br />type bin\build-html-win and it returns an error.<br /><br />What am I doing wrong?<br /><br />It returns this:<br /><br /><blockquote class="uncited"><div>-- Configuring done<br />-- Generating done<br />-- Build files have been written to: C:/Users/jasonf/Desktop/moai-dev-master-15/moai-dev-master/cmake/build<br />Scanning dependencies of target zlib<br />[  0%] Building C object third-party/zlib/CMakeFiles/zlib.dir/C_/Users/jasonf/Desktop/moai-dev-master-15/moai-dev-master/3rdparty/zlib-1.2.3/adler32.c.o<br />  File &quot;C:\emscripten\\emcc&quot;, line 553<br />    ''' % (this, this, this)<br />      ^<br />SyntaxError: invalid syntax<br />third-party\zlib\CMakeFiles\zlib.dir\build.make:57: recipe for target 'third-party/zlib/CMakeFiles/zlib.dir/C_/Users/jasonf/Desktop/moai-dev-master-15/moai-dev-master/3rdparty/zlib-1.2.3/adler32.c.o' failed<br />mingw32-make.exe[3]: *** [third-party/zlib/CMakeFiles/zlib.dir/C_/Users/jasonf/Desktop/moai-dev-master-15/moai-dev-master/3rdparty/zlib-1.2.3/adler32.c.o] Error 1<br />CMakeFiles\Makefile2:1386: recipe for target 'third-party/zlib/CMakeFiles/zlib.dir/all' failed<br />CMakeFiles\Makefile2:2132: recipe for target 'host-html/CMakeFiles/host-html-template.dir/rule' failed<br />Makefile:589: recipe for target 'host-html-template' failed<br />mingw32-make.exe[2]: *** [third-party/zlib/CMakeFiles/zlib.dir/all] Error 2<br />mingw32-make.exe[1]: *** [host-html/CMakeFiles/host-html-template.dir/rule] Error 2<br />mingw32-make.exe: *** [host-html-template] Error 2<br /></div></blockquote><br /><br />I'm running out of energy on this now, it's been hours and I'm hitting a wall - the documentation is spartan and I feel like only Sherlock Holmes or Linus Torvalds can get this stuff done easily, never mind a guy trying to make a game in Lua.  <img src="../images/smilies/icon_e_sad.gif" alt=":(" title="Sad" /> <br /><br />Help!...</div>

			

		</div>

		
			<dl class="postprofile" id="profile14213">
			<dt>
				<img src="../download/file.php%253favatar%253d1322_1360622089.png" width="89" height="99" alt="User avatar" /><br />
				<strong>Ascorbius</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 34</dd><dd><strong>Joined:</strong> Mon Feb 11, 2013 9:52 pm</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p14214" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p14214">Re: Trying to build HTML host - getting cmake error.</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>halfnelson</strong> &raquo; Sat Apr 19, 2014 1:14 pm </p>

			

			<div class="content">python 2.7 is probably a better bet.<br />Or you could try out the updated moaicli released today <a href="http://halfnelson.github.io/moaicli/" class="postlink">http://halfnelson.github.io/moaicli/</a><br />(it is what I use to build, I hated trying to set up emscripten and android builds by hand)<br /><br />If you get stuck let me know.</div>

			

		</div>

		
			<dl class="postprofile" id="profile14214">
			<dt>
				<strong>halfnelson</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 471</dd><dd><strong>Joined:</strong> Thu Jun 14, 2012 4:48 am</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p14217" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p14217">Re: Trying to build HTML host - getting cmake error.</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>Ascorbius</strong> &raquo; Sat Apr 19, 2014 4:35 pm </p>

			

			<div class="content">Thanks for the tip on the python version. 2.3 gave slightly better results.<br />I'm hesitant to use a different build method though, there should be one well understood build method for all platforms IMHO - however, my current experience with this (and I'm an incredibly patient person) are starting to cause me to doubt MOAI itself as a viable platform.<br /><br />So now my system is:<br />Installed MinGW 32<br />Installed CMake 2.8<br />Installed Python 2.3.0  (downgraded from 3.4)<br />Installed NodeJS<br />Installed LLVM 3.4  &lt;--- only available windows pre-built binary.. Enscripten expects 3.3<br />Enscripten now knows where they all are...<br /><br />I now get this:<br /><br /><blockquote class="uncited"><div>-- Configuring done<br />-- Generating done<br />-- Build files have been written to: C:/Users/jasonf/Desktop/moai-dev-master-15/moai-dev-master/cmake/build<br />Scanning dependencies of target zlib<br />[  0%] Building C object third-party/zlib/CMakeFiles/zlib.dir/C_/Users/jasonf/Desktop/moai-dev-master-15/moai-dev-master/3rdparty/zlib-1.2.3/adler32.c.o<br />WARNING  root: LLVM version appears incorrect (seeing &quot;3.4&quot;, expected &quot;3.3&quot;)<br />WARNING  root: could not check fastcomp: [Error 2] The system cannot find the file specified INFO     root: (Emscripten: Running sanity checks)<br />CRITICAL root: Cannot find C:\Program Files (x86)\LLVM\bin\llvm-link, check the paths in ~/.emscripten<br />third-party\zlib\CMakeFiles\zlib.dir\build.make:57: recipe for target 'third-party/zlib/CMakeFiles/zlib.dir/C_/Users/jasonf/Desktop/moai-dev-master-15/moai-dev-master/3rdparty/zlib-1.2.3/adler32.c.o' failed<br />mingw32-make.exe[3]: *** [third-party/zlib/CMakeFiles/zlib.dir/C_/Users/jasonf/Desktop/moai-dev-master-15/moai-dev-master/3rdparty/zlib-1.2.3/adler32.c.o] Error 1<br />CMakeFiles\Makefile2:1386: recipe for target 'third-party/zlib/CMakeFiles/zlib.dir/all' failed<br />CMakeFiles\Makefile2:2132: recipe for target 'host-html/CMakeFiles/host-html-template.dir/rule' failed<br />Makefile:589: recipe for target 'host-html-template' failed<br />mingw32-make.exe[2]: *** [third-party/zlib/CMakeFiles/zlib.dir/all] Error 2<br />mingw32-make.exe[1]: *** [host-html/CMakeFiles/host-html-template.dir/rule] Error 2<br />mingw32-make.exe: *** [host-html-template] Error 2</div></blockquote><br /><br />So next do I have to get LLVM 3.3 from source and build it? The file llvm-linkexists in my cygwin install - is this build process using cygwin too?<br /><br />I feel a little like Alice tumbling down the rabbit hole, but instead of following to see where it goes, I'm tempted to throw some grenades and say screw the white rabbit.<br /><br />Is this stuff all experimental?<br />I get the feeling that there are too many disparate tools being relied upon for this to be reliable for a long-term solution - too much effort will be required to keep the build chain compatible. Doesn't this worry anyone?<br /><br />It worries me, I love MOAI, I've spent over a year writing an engine on the top of it in MOAI, producing 2 games, one for a client which is almost finished and another with quite a way to go still. I've not really struggled with it before and although the documentation was lacking, at least there was something and it was relevant - I even purchased the book. The guides issued with the 1.5 release contain no mention of building with cmake or any of the pre-requisites, and the host solutions aren't included anyway.<br /><br />Maybe I'm not up to this task, I've been writing software professionally for almost 20 years, no language has defeated me, no system too complicated - but it seems that I can't get MOAI to be built to use the HTML5 host so I can pitch a browser based version to my client.<br /><br />I really really truly hope that up-to-date documentation on how to build the various hosts is on it's way, along with pre-compiled hosts for each platform (a fully featured OUYA host would be really nice BTW).<br /><br />Compared to the alternatives Unity2D, Game Maker Studio - which are all gaining ground, MOAI is being left behind - which is a shame because it has the potential to be much better, and for a time, it was.<br /><br /><br />Disclaimer: This post is written by a frustrated developer who's spent the last several hours trying to understand something which should be straight forward given the patience and direction. It is in no way to be read as a personal attack on anyone and hopes to serve as an indicator as to what other developers may be feeling too.</div>

			

		</div>

		
			<dl class="postprofile" id="profile14217">
			<dt>
				<img src="../download/file.php%253favatar%253d1322_1360622089.png" width="89" height="99" alt="User avatar" /><br />
				<strong>Ascorbius</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 34</dd><dd><strong>Joined:</strong> Mon Feb 11, 2013 9:52 pm</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p14218" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p14218">Re: Trying to build HTML host - getting cmake error.</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>ezraanderson</strong> &raquo; Sat Apr 19, 2014 5:19 pm </p>

			

			<div class="content">~<br />I feel your pain, sometimes it can be very frustrating to get it to build successfully for any host. That's the cost for using a MOAI as an open source  SDK. But the benefit is, someone made an HTML host and shared it with the community.  <br /><br /><blockquote class="uncited"><div>Is this stuff all experimental?</div></blockquote><br /><br />The new build system &amp; the HTML is experimental(WIP), and needs further testing. However the HTML host builds for me perfectly  on my windows-xp. <br /><br /><br />The only noticeable difference in my setup is a system variable to --&gt; C:\msys\bin <br /><ul><li> <!-- m --><a class="postlink" href="http://www.mingw.org/wiki/MSYS/">http://www.mingw.org/wiki/MSYS/</a><!-- m --></li></ul></div>

			<div id="sig14218" class="signature">Dead Dark: A roguelike, zombie apocalypse survival game<br /><!-- w --><a class="postlink" href="http://www.dead-dark.com">www.dead-dark.com</a><!-- w --></div>

		</div>

		
			<dl class="postprofile" id="profile14218">
			<dt>
				<img src="../download/file.php%253favatar%253d1202_1372191800.jpg" width="120" height="120" alt="User avatar" /><br />
				<strong>ezraanderson</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 849</dd><dd><strong>Joined:</strong> Wed Nov 21, 2012 9:24 pm</dd><dd><strong>Location:</strong> Canada</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p14219" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p14219">Re: Trying to build HTML host - getting cmake error.</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>halfnelson</strong> &raquo; Sat Apr 19, 2014 9:27 pm </p>

			

			<div class="content">To be honest, it sounds like you are having problems with emscripten not moai.<br /><br />I suggest ditching the emscripten setup you have and starting fresh by following the guide <!-- m --><a class="postlink" href="https://github.com/moai/moai-dev/blob/master/src/host-html/README.md">https://github.com/moai/moai-dev/blob/m ... /README.md</a><!-- m --> linked to from the main repo readme.md.<br /><br />That should take you to the <!-- m --><a class="postlink" href="https://github.com/kripken/emscripten/wiki/Tutorial">https://github.com/kripken/emscripten/wiki/Tutorial</a><!-- m --> <br /><br />Having a working emscripten is required for the cmake build to work (just like having a working gcc for the linux build)<br /><br />The tutorial has a link to the downloads <!-- m --><a class="postlink" href="https://github.com/kripken/emscripten/wiki/Emscripten-SDK">https://github.com/kripken/emscripten/w ... ripten-SDK</a><!-- m --> <br /><br />you can just grab the emsdk-1.12.0-portable-32bit.zip which should work ok. The emscripten guys realized that setting up emscripten on anything but linux was a pain (as you found out) and have given us an all in one zip file that contains the correct python, clang, llvm and node versions.<br /><br />(as an aside, the moaicli program uses the same cmake files from the repo, it just downloads cmake binaries and a known good copy of emscripten and sets them up first, it isn't really a different way of building, just a way of ensuring known good dependencies are installed. kinda like that emscripten portable zip, which has all the working versions needed squished together)<br /><br />Then there might be a small patch needed to upgrade the host to work with the generated moaijs.js file (if it doesn't just work out of the box for you and you end up with a black screen)<br /><br />change src/host-html/host-template/www/moaihost.js (line 357)<br /><dl class="codebox"><dt>Code: <a href="index.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="lua" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; that<span style="color: #66cc66;">.</span>emscripten<span style="color: #66cc66;">.</span>addOnPreMain<span style="color: #66cc66;">&#40;</span><span style="color: #aa9900; font-weight: bold;">function</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#123;</span> that<span style="color: #66cc66;">.</span>runhost<span style="color: #66cc66;">&#40;</span>mainLua<span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">;</span> <span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;that<span style="color: #66cc66;">.</span>emscripten<span style="color: #66cc66;">.</span>run<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">;</span> &nbsp; </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /></ol></code></dd></dl><br /><br />to<br /><dl class="codebox"><dt>Code: <a href="index.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="lua" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp;that<span style="color: #66cc66;">.</span>emscripten<span style="color: #66cc66;">.</span>run<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">;</span></div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp;that<span style="color: #66cc66;">.</span>runhost<span style="color: #66cc66;">&#40;</span>mainLua<span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">;</span> &nbsp; </div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /></ol></code></dd></dl><br /><br />Thanks for the feedback, we are all trying to get builds going smoothly. Best of luck and let us know if that doesn't work for you.</div>

			

		</div>

		
			<dl class="postprofile" id="profile14219">
			<dt>
				<strong>halfnelson</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 471</dd><dd><strong>Joined:</strong> Thu Jun 14, 2012 4:48 am</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p14222" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p14222">Re: Trying to build HTML host - getting cmake error.</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>JDance</strong> &raquo; Sun Apr 20, 2014 11:16 am </p>

			

			<div class="content">I couldn't get emscripten to build moai on windows. It started compiling without problem but eventually it hit &quot;too long command line&quot; at like 50% or something, a limitation in the way windows handles commands. I move my moai root to E:\m to keep it short but the command line still got too long at like 90% or something <img src="../images/smilies/icon_e_smile.gif" alt=":)" title="Smile" /> I switched to building it through virtual ubuntu again instead. I think cmake handles the problem with long command lines on windows but the emscripten script for cmake probably isn't. Way over my head to fix that.<br /><br />Maybe I should report issues for stuff like this.. <img src="../images/smilies/icon_e_smile.gif" alt=":)" title="Smile" /></div>

			

		</div>

		
			<dl class="postprofile" id="profile14222">
			<dt>
				<img src="../download/file.php%253favatar%253d1128_1359560257.jpg" width="98" height="99" alt="User avatar" /><br />
				<strong>JDance</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 393</dd><dd><strong>Joined:</strong> Mon Oct 08, 2012 7:11 am</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p14223" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p14223">Re: Trying to build HTML host - getting cmake error.</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>JDance</strong> &raquo; Sun Apr 20, 2014 11:24 am </p>

			

			<div class="content">By the way: html host would be one of the easiest platforms to offer a prebuilt version of moai, since it's architecture independent. I guess people could just download moaijs.js from moaifiddle if they find the url <img src="../images/smilies/icon_e_smile.gif" alt=":)" title="Smile" /></div>

			

		</div>

		
			<dl class="postprofile" id="profile14223">
			<dt>
				<img src="../download/file.php%253favatar%253d1128_1359560257.jpg" width="98" height="99" alt="User avatar" /><br />
				<strong>JDance</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 393</dd><dd><strong>Joined:</strong> Mon Oct 08, 2012 7:11 am</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p14226" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p14226">Re: Trying to build HTML host - getting cmake error.</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>halfnelson</strong> &raquo; Sun Apr 20, 2014 11:58 am </p>

			

			<div class="content">jdance: how long ago was this?  is this with 1.5 and the latest emscripten? I have a work around on windows for this but thought the problem had gone away with 1.5<br /><br />edit: I had a link on the original html5/js contrib thread for the latest prebuild host: <!-- m --><a class="postlink" href="https://app.box.com/s/364pmddu0nymztg3rctt">https://app.box.com/s/364pmddu0nymztg3rctt</a><!-- m --></div>

			

		</div>

		
			<dl class="postprofile" id="profile14226">
			<dt>
				<strong>halfnelson</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 471</dd><dd><strong>Joined:</strong> Thu Jun 14, 2012 4:48 am</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p14227" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p14227">Re: Trying to build HTML host - getting cmake error.</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>JDance</strong> &raquo; Sun Apr 20, 2014 12:34 pm </p>

			

			<div class="content"><blockquote><div><cite>halfnelson wrote:</cite>jdance: how long ago was this?  is this with 1.5 and the latest emscripten? I have a work around on windows for this but thought the problem had gone away with 1.5<br /><br />edit: I had a link on the original html5/js contrib thread for the latest prebuild host: <!-- m --><a class="postlink" href="https://app.box.com/s/364pmddu0nymztg3rctt">https://app.box.com/s/364pmddu0nymztg3rctt</a><!-- m --></div></blockquote><br /><br />Yeah it was the latest and greatest, it was like 3 weeks ago. I checked my emscripten version now and seems i used 1.13.0 - which seems newer then the stable 1.12.0 - not sure how I ended up with that version. Not sure if that had anything to do with it. I'll rerun and post the results.</div>

			

		</div>

		
			<dl class="postprofile" id="profile14227">
			<dt>
				<img src="../download/file.php%253favatar%253d1128_1359560257.jpg" width="98" height="99" alt="User avatar" /><br />
				<strong>JDance</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 393</dd><dd><strong>Joined:</strong> Mon Oct 08, 2012 7:11 am</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p14229" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p14229">Re: Trying to build HTML host - getting cmake error.</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>JDance</strong> &raquo; Sun Apr 20, 2014 12:48 pm </p>

			

			<div class="content"><dl class="codebox"><dt>Code: <a href="index.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="txt" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">[ 97%] Building CXX object moai-sim/CMakeFiles/moai-sim.dir/E_/dev/dist/moai-dev-jblo/src/moai-sim/MOAIWheelSensor.cpp.o</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">[ 97%] Building CXX object moai-sim/CMakeFiles/moai-sim.dir/E_/dev/dist/moai-dev-jblo/src/moai-sim/pch.cpp.o</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">Linking CXX static library libmoai-sim.a</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">The command line is too long.</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">moai-sim\CMakeFiles\moai-sim.dir\build.make:3572: recipe for target 'moai-sim/libmoai-sim.a' failed</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">mingw32-make.exe[3]: *** [moai-sim/libmoai-sim.a] Error 1</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">CMakeFiles\Makefile2:1751: recipe for target 'moai-sim/CMakeFiles/moai-sim.dir/all' failed</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">CMakeFiles\Makefile2:2201: recipe for target 'host-html/CMakeFiles/host-html-template.dir/rule' failed</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">mingw32-make.exe[2]: *** [moai-sim/CMakeFiles/moai-sim.dir/all] Error 2</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">mingw32-make.exe[1]: *** [host-html/CMakeFiles/host-html-template.dir/rule] Error 2</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">mingw32-make.exe: *** [host-html-template] Error 2</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">Makefile:615: recipe for target 'host-html-template' failed</div></li><br /></ol></code></dd></dl><br /><br />build.make:3572<br /><dl class="codebox"><dt>Code: <a href="index.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code style="line-height: 30%;"><ol class="txt" style="font-family:monospace;"><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; @$(CMAKE_COMMAND) -E cmake_echo_color --switch=$(COLOR) --red --bold &quot;Linking CXX static library libmoai-sim.a&quot;</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; cd /d E:\dev\dist\moai-dev-jblo\cmake\build-html\moai-sim &amp;&amp; $(CMAKE_COMMAND) -P CMakeFiles\moai-sim.dir\cmake_clean_target.cmake</div></li><br /><li style="line-height: 50%;"><div style="font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;">&nbsp; &nbsp; &nbsp; &nbsp; cd /d E:\dev\dist\moai-dev-jblo\cmake\build-html\moai-sim &amp;&amp; $(CMAKE_COMMAND) -E cmake_link_script CMakeFiles\moai-sim.dir\link.txt --verbose=$(VERBOSE)</div></li><br /></ol></code></dd></dl><br />So I guess linking the sim is a mighty long command! (Altough that hints at some link.txt file?) I could re run it in some kind of verbose mode if you like <img src="../images/smilies/icon_e_smile.gif" alt=":)" title="Smile" /></div>

			

		</div>

		
			<dl class="postprofile" id="profile14229">
			<dt>
				<img src="../download/file.php%253favatar%253d1128_1359560257.jpg" width="98" height="99" alt="User avatar" /><br />
				<strong>JDance</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 393</dd><dd><strong>Joined:</strong> Mon Oct 08, 2012 7:11 am</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p14230" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p14230">Re: Trying to build HTML host - getting cmake error.</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>halfnelson</strong> &raquo; Sun Apr 20, 2014 1:10 pm </p>

			

			<div class="content">ahh, ok still too huge. what a pain. I fixed that for moaicli ages ago. Here is the workaround:<br /><br /><!-- m --><a class="postlink" href="https://github.com/halfnelson/moaicli/blob/master/0002-mods-to-emscripten-cmake-so-that-it-works-with-moai.patch">https://github.com/halfnelson/moaicli/b ... moai.patch</a><!-- m --><br /><br />this calls the python script as &quot;python emar&quot; via cmakes &quot;process_create&quot; instead of calling emar.bat which calls the python script via cmd.exe which limits the command line size.<br /><br />Actually, those could probably be moved into our main cmake scripts (the root cmakelists.txt) with an if(BUILD_HTML) guard, and would save us having to edit the one included with emscripten. If you do this and it works, let me know or issue a pull so everyone wins <img src="../images/smilies/icon_e_smile.gif" alt=":)" title="Smile" /></div>

			

		</div>

		
			<dl class="postprofile" id="profile14230">
			<dt>
				<strong>halfnelson</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 471</dd><dd><strong>Joined:</strong> Thu Jun 14, 2012 4:48 am</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p14231" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p14231">Re: Trying to build HTML host - getting cmake error.</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>Ascorbius</strong> &raquo; Sun Apr 20, 2014 2:46 pm </p>

			

			<div class="content">I took your advice halfnelson, I ditched emscripten and uninstalled the nodejs set-up I had.<br /><br />I downloaded the emsdk-1.12.0-web.32bit.exe file - which did as it said and installed everything it needed to..<br />I then had to move it from Program Files(86) to the root and alter the environment variables, my path and the .enscripten file in my home directory.<br /><br />After a couple of false starts, I finally got it to start building - took a really long time.<br /><br />then It errored with:<br /><br /><blockquote class="uncited"><div>[ 97%] Building CXX object moai-sim/CMakeFiles/moai-sim.dir/C_/Users/jasonf/Desktop/moai-dev-master-15/moai-dev-master/src/moai-sim/pch.cpp.o<br />Linking CXX static library libmoai-sim.a<br />The command line is too long.<br />moai-sim\CMakeFiles\moai-sim.dir\build.make:3546: recipe for target 'moai-sim/li<br />bmoai-sim.a' failed<br />mingw32-make.exe[3]: *** [moai-sim/libmoai-sim.a] Error 1<br />CMakeFiles\Makefile2:1702: recipe for target 'moai-sim/CMakeFiles/moai-sim.dir/all' failed<br />mingw32-make.exe[2]: *** [moai-sim/CMakeFiles/moai-sim.dir/all] Error 2<br />mingw32-make.exe[1]: *** [host-html/CMakeFiles/host-html-template.dir/rule] Error 2<br />CMakeFiles\Makefile2:2132: recipe for target 'host-html/CMakeFiles/host-html-template.dir/rule' failed<br />Makefile:589: recipe for target 'host-html-template' failed<br />mingw32-make.exe: *** [host-html-template] Error 2</div></blockquote><br /><br />Looks like this is an issue with the build process that you're aware of.</div>

			

		</div>

		
			<dl class="postprofile" id="profile14231">
			<dt>
				<img src="../download/file.php%253favatar%253d1322_1360622089.png" width="89" height="99" alt="User avatar" /><br />
				<strong>Ascorbius</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 34</dd><dd><strong>Joined:</strong> Mon Feb 11, 2013 9:52 pm</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p14237" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p14237">Re: Trying to build HTML host - getting cmake error.</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>halfnelson</strong> &raquo; Sun Apr 20, 2014 9:11 pm </p>

			

			<div class="content">Glad you got it going. See the patch in the post above yours to work around that. Working on a permanent fix.</div>

			

		</div>

		
			<dl class="postprofile" id="profile14237">
			<dt>
				<strong>halfnelson</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 471</dd><dd><strong>Joined:</strong> Thu Jun 14, 2012 4:48 am</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p14252" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="index.html#p14252">Re: Trying to build HTML host - getting cmake error.</a></h3>
			<p class="author"><img src="../styles/proFormell/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>JDance</strong> &raquo; Mon Apr 21, 2014 8:15 am </p>

			

			<div class="content"><blockquote><div><cite>halfnelson wrote:</cite>ahh, ok still too huge. what a pain. I fixed that for moaicli ages ago. Here is the workaround:<br /><br /><!-- m --><a class="postlink" href="https://github.com/halfnelson/moaicli/blob/master/0002-mods-to-emscripten-cmake-so-that-it-works-with-moai.patch">https://github.com/halfnelson/moaicli/b ... moai.patch</a><!-- m --><br /><br />this calls the python script as &quot;python emar&quot; via cmakes &quot;process_create&quot; instead of calling emar.bat which calls the python script via cmd.exe which limits the command line size.<br /><br />Actually, those could probably be moved into our main cmake scripts (the root cmakelists.txt) with an if(BUILD_HTML) guard, and would save us having to edit the one included with emscripten. If you do this and it works, let me know or issue a pull so everyone wins <img src="../images/smilies/icon_e_smile.gif" alt=":)" title="Smile" /></div></blockquote><br /><br />Thanks man that worked great <img src="../images/smilies/icon_e_smile.gif" alt=":)" title="Smile" /> Now I won't have to fire up my slow ubuntu any more it seems.. !<br /><br />Heres a pull request, could you check that it's alright ? <!-- m --><a class="postlink" href="https://github.com/moai/moai-dev/pull/906/">https://github.com/moai/moai-dev/pull/906/</a><!-- m --></div>

			

		</div>

		
			<dl class="postprofile" id="profile14252">
			<dt>
				<img src="../download/file.php%253favatar%253d1128_1359560257.jpg" width="98" height="99" alt="User avatar" /><br />
				<strong>JDance</strong>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 393</dd><dd><strong>Joined:</strong> Mon Oct 08, 2012 7:11 am</dd>

		</dl>
	

		<div class="back2top"><a href="index.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<form id="viewtopic" method="post" action="index.html">

	<fieldset class="display-options" style="margin-top: 0; ">
		
	</fieldset>

	</form>
	<hr />


<div class="topic-actions">
	<div class="buttons">
	
	</div>

	
		<div class="pagination">
			14 posts
			 &bull; Page <strong>1</strong> of <strong>1</strong>
		</div>
	
</div>


	<p></p><p><a href="../browser-other-f21.html" class="left-box left" accesskey="r">Return to Browser + Other</a></p>

	<form method="post" id="jumpbox" action="http://192.168.20.226:3000/forums/viewforum.php" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	
		<fieldset class="jumpbox">
	
			<label for="f" accesskey="j">Jump to:</label>
			<select name="f" id="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">
			
				<option value="-1">Select a forum</option>
			<option value="-1">------------------</option>
				<option value="4">Moai Development Forums</option>
			
				<option value="7">&nbsp; &nbsp;Moai SDK</option>
			
				<option value="9">&nbsp; &nbsp;Questions and Tips</option>
			
				<option value="10">&nbsp; &nbsp;Bug Reports</option>
			
				<option value="29">&nbsp; &nbsp;Reviewers</option>
			
				<option value="3">Moai Community Forums</option>
			
				<option value="11">&nbsp; &nbsp;Community Contributions</option>
			
				<option value="25">&nbsp; &nbsp;&nbsp; &nbsp;Flower</option>
			
				<option value="28">&nbsp; &nbsp;&nbsp; &nbsp;Rapanui</option>
			
				<option value="26">&nbsp; &nbsp;&nbsp; &nbsp;Snippets</option>
			
				<option value="5">&nbsp; &nbsp;Moai Roadmap</option>
			
				<option value="8">&nbsp; &nbsp;&nbsp; &nbsp;Moai Cloud</option>
			
				<option value="6">&nbsp; &nbsp;Made With Moai</option>
			
				<option value="12">Platform Specifics</option>
			
				<option value="17">&nbsp; &nbsp;Android</option>
			
				<option value="18">&nbsp; &nbsp;Apple</option>
			
				<option value="20">&nbsp; &nbsp;Linux</option>
			
				<option value="19">&nbsp; &nbsp;Windows</option>
			
				<option value="21" selected="selected">&nbsp; &nbsp;Browser + Other</option>
			
				<option value="13">Third Party Libraries and Plugins</option>
			
				<option value="22">&nbsp; &nbsp;Physics</option>
			
				<option value="23">&nbsp; &nbsp;Sound + Music</option>
			
				<option value="24">&nbsp; &nbsp;Advertising + Networking + IAPs</option>
			
				<option value="14">Additional</option>
			
				<option value="16">&nbsp; &nbsp;Game Development</option>
			
				<option value="27">&nbsp; &nbsp;Off Topic</option>
			
			</select>
			<input type="submit" value="Go" class="button2" />
		</fieldset>
	</form>


	<h3>Who is online</h3>
	<p>Users browsing this forum: No registered users and 0 guests</p>
</div>

<div id="page-footer">

	<div class="navbar">
		<div class="inner"><span class="corners-top"><span></span></span>

		<ul class="linklist">
			<li class="icon-home"><a href="../index.html" accesskey="h">Board index</a></li>
				
			<li class="rightside">All times are UTC </li>
		</ul>

		<span class="corners-bottom"><span></span></span></div>
	</div>
	
	<div class="copyright">Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group<br />Style by <a href="http://www.m-a-styles.de">Marc Alexander</a> &copy;
		<br /><br /><a href="http://www.phpbb-seo.com/" title="Search Engine Optimization"><img src="../images/phpbb-seo.png" alt="phpBB SEO"/></a><br />Time : 0.060s | 14 Queries | GZIP : Off
	</div>
</div>

</div>

<div>
	<a id="bottom" name="bottom" accesskey="z"></a>
	
	</div>
	</div>
<div class="nobottomgap"></div>
</div>
<!--- end of box border -->
</div></div>
<!-- -->
<div class="bottom-left"></div><div class="bottom-center"></div><div class="bottom-right"></div>
</div>
<!-- JQuery Pop Up --><!-- PM Popup --><!-- PM Popup end --><!-- Image Popup -->
<div id="popupImage">
	<p id="ImagePopup"></p>
	<a id="popupImageClose">x</a> 
</div>
<!-- Image Popup -->
<div id="backgroundPopup"></div> 
<!-- JQuery Pop Up END -->
</body>
</html>