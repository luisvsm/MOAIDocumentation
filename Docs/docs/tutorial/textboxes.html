<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Textboxes</title>
 
    <!-- Bootstrap -->
    <link href="../../css/bootstrap.css" rel="stylesheet">
    
    
    
    
    
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
    <link href="../../css/syntax.css" rel="stylesheet">
    <link href="../../css/styles.css" rel="stylesheet">
    <link href="../../css/doc-style.css" rel="stylesheet">
    
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://code.jquery.com/jquery.js"></script>
    
    
  </head>
  <body>
  <nav class="navbar navbar-inverse navbar-static-top" role="navigation" >
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <!-- You'll want to use a responsive image option so this logo looks good on devices - I recommend using something like retina.js (do a quick Google search for it and you'll find it) -->
            <a class="navbar-brand" href="../../index.html">MoaiForge - Community Docs</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav navbar-right">

           </ul>
        </div><!-- /.navbar-collapse -->
    </div><!-- /.container -->
</nav>

    
    <div class="container">
<div class="row-fluid">
   
        <div id="navigation" class="col-md-3">
            
<ul id="nav-menu" class="nav nav-list">
    
    
  
    
        
        
        
        
        
        
        
        
        <!-- DEBUG page relative path _docs/tutorial/textboxes.md does NOT contain pathseg /basics/ -->
        <li class="parent collapsibleListOpen"> 
        
          <div class="subtree-name">Moai Basics</div>
        
        
        <ul class="nav nav-list">
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
            
                
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
                  <li  ><a href="../basics/moai-sdk-basics-part-two.html">Moai SDK Basics Part Two</a></li>
                
            
        
             
             
            
            
                
            
        
             
             
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
                  <li  ><a href="../basics/moai-sdk-basics-part-one.html">Moai SDK Basics Part One</a></li>
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
        </ul>
      </li>
    
        
        
        
        
        
        
        
        
        <!-- DEBUG page relative path _docs/tutorial/textboxes.md does NOT contain pathseg /sdk/ -->
        <li class="parent collapsibleListOpen"> 
        
          <div class="subtree-name">The Moai SDK</div>
        
        
        <ul class="nav nav-list">
        
             
             
            
            
                
            
        
             
             
            
            
                
                  <li  ><a href="../sdk/what-is-moai-sdk.html">What is Moai SDK?</a></li>
                
            
        
             
             
            
            
                
                  <li  ><a href="../sdk/moai-sdk-desktop-basics.html">Moai SDK Desktop Basics</a></li>
                
            
        
             
             
            
            
                
                  <li  ><a href="../sdk/the-moai-runtime.html">The Moai Runtime</a></li>
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
                  <li  ><a href="../sdk/moai-hosts.html">Moai Hosts</a></li>
                
            
        
             
             
            
            
                
                  <li  ><a href="../sdk/structuring-your-moai-game-in-lua.html">Structuring Your Moai Game in Lua</a></li>
                
            
        
             
             
            
            
                
                  <li  ><a href="../sdk/moai-project-setup.html">Moai Project Setup</a></li>
                
            
        
             
             
            
            
                
                  <li  ><a href="../sdk/extending-moai-sdk.html">Extending Moai SDK</a></li>
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
            
                
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
                  <li  ><a href="../sdk/protecting-your-lua-files.html">Protecting Your Lua Files</a></li>
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
                  <li  ><a href="../sdk/tools-that-work-with-moai.html">Tools that work with Moai</a></li>
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
        </ul>
      </li>
    
        
        
        
        
        
        
        
        
        <!-- DEBUG page relative path _docs/tutorial/textboxes.md does NOT contain pathseg /buildsdk/ -->
        <li class="parent collapsibleListOpen"> 
        
          <div class="subtree-name">Build the SDK from Source</div>
        
        
        <ul class="nav nav-list">
        
             
             
            
            
                
                  <li  ><a href="../buildsdk/introduction.html">Introduction</a></li>
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
                  <li  ><a href="../buildsdk/installing-cmake.html">Installing CMake</a></li>
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
                  <li  ><a href="../buildsdk/building-moai-libraries-for-android-ndk.html">Building Moai Libraries For Android</a></li>
                
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
            
                
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
                  <li  ><a href="../buildsdk/building-moai-from-source-with-xcode.html">Building Moai From Source With Xcode</a></li>
                
            
        
             
             
            
            
                
                  <li  ><a href="../buildsdk/building-moai-from-source-with-visual-studio.html">Building Moai From Source With Visual Studio</a></li>
                
            
        
             
             
            
            
                
                  <li  ><a href="../buildsdk/building-moai-from-source-with-scons.html">Building Moai From Source With Scons</a></li>
                
            
        
        </ul>
      </li>
    
        
        
        
        
        
        
        
        
        <!-- DEBUG page relative path _docs/tutorial/textboxes.md does NOT contain pathseg /building/ -->
        <li class="parent collapsibleListOpen"> 
        
          <div class="subtree-name">Building Moai Games</div>
        
        
        <ul class="nav nav-list">
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
            
                
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
                  <li  ><a href="../building/setup-landscape-in-moai-games-for-ios-devices.html">Setup landscape in Moai Games For iOS Devices</a></li>
                
            
        
             
             
            
            
                
                  <li  ><a href="../building/cross-platform-development-with-moai.html">Cross Platform Development With Moai</a></li>
                
            
        
             
             
            
            
                
                  <li  ><a href="../building/building-moai-games-for-ios-devices.html">Building Moai Games For iOS Devices</a></li>
                
            
        
             
             
            
            
                
                  <li  ><a href="../building/building-moai-games-for-google-chrome.html">Building Moai Games for Google Chrome</a></li>
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
                  <li  ><a href="../building/building-moai-games-for-android-devices.html">Building Moai Games For Android Devices</a></li>
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
        </ul>
      </li>
    
        
        
        
        
        
        
        
        
        <!-- DEBUG page relative path _docs/tutorial/textboxes.md does NOT contain pathseg /reference/ -->
        <li class="parent collapsibleListOpen"> 
        
          <div class="subtree-name">Reference</div>
        
        
        <ul class="nav nav-list">
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
                  <li  ><a href="../reference/moai-sdk-samples-guide.html">Moai SDK Samples Guide</a></li>
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
                  <li  ><a href="../reference/cmake-basics.html">Crash Course on CMAKE</a></li>
                
            
        
             
             
            
            
                
                  <li  ><a href="../reference/code-snips.html">Code snips</a></li>
                
            
        
             
             
            
            
                
                  <li  ><a href="../reference/how-moai's-c-to-lua-binding-works.html">How Moai's C++ to Lua Binding Works</a></li>
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
            
                
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
            
                
                  <li  ><a href="../reference/understanding-decks-and-props.html">Understanding Decks and Props</a></li>
                
            
        
             
             
            
            
                
                  <li  ><a href="../reference/using-moaianim.html">Using MOAIAnim</a></li>
                
            
        
             
             
            
            
                
                  <li  ><a href="../reference/wrapping-modes.html">Wrapping modes</a></li>
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
        </ul>
      </li>
    
        
        
        
        
        
        
        
        
        <!-- DEBUG page relative path _docs/tutorial/textboxes.md contains pathseg /tutorial/ -->
        <li class="parent collapsibleListClosed">
        
          <div class="subtree-name">Tutorials</div>
        
        
        <ul class="nav nav-list">
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
                  <li  ><a href="your-first-game-rocket-lobster.html">Your First Game : Rocket Lobster</a></li>
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
                  <li  ><a href="using-particlehelper.html">Using ParticleHelper</a></li>
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
                  <li class="active" ><a href="textboxes.html">Textboxes</a></li>
                
            
        
             
             
            
            
                
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
            
                
                  <li  ><a href="your-first-cloud-game-wolf-clicker.html">Your First Cloud Game : Wolf Clicker</a></li>
                
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
                  <li  ><a href="setup-moai-sdk-on-windows-using-sublime2.html">Setup Moai SDK on Windows using Sublime2</a></li>
                
            
        
             
             
            
        
             
             
            
            
                
                  <li  ><a href="basic-prop-animations.html">Basic Prop Animations</a></li>
                
            
        
             
             
            
            
                
                  <li  ><a href="bin2c-lua.html">Bin2c.lua</a></li>
                
            
        
             
             
            
            
                
                  <li  ><a href="binding-c-apis-to-moai-using-moailuaobject.html">Binding C++ APIs to Moai using MOAILuaObject</a></li>
                
            
        
             
             
            
            
                
                  <li  ><a href="build-on-steam-runtime.html">Building Moai with Steam Runtime</a></li>
                
            
        
             
             
            
            
                
                  <li  ><a href="concatenate-your-lua-source-tree.html">Concatenate your Lua source tree</a></li>
                
            
        
             
             
            
            
                
                  <li  ><a href="density-friction-and-restitution.html">Density, Friction And Restitution</a></li>
                
            
        
             
             
            
            
                
                  <li  ><a href="getting-started-with-box2d.html">Getting Started With Box2D</a></li>
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
             
             
            
            
                
            
        
        </ul>
      </li>
    

</ul>

<script src="../../js/collapsiblelists.min.js"> </script>
<script>
$(function() {
CollapsibleLists.applyTo(document.getElementById('nav-menu'));
});

</script>
        </div>

        <div id="content" class="col-md-9">
            <a href="https://github.com/moaiforge/moai-sdk/tree/gh-pages/_docs/tutorial/textboxes.md" class="improve-docs btn"><i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this doc</a>
            <h1>Textboxes</h1>
            
            
            <p>This tutorial will focus on text boxes and the things you can do with them. But first, a bit of information on how Moai handles fonts. When a font is loaded in, Moai creates a new texture so that it can draw the glyphs quickly. The downside to this is that once the font is called with a certain point size, scaling up or down from there will make the fonts look less smooth, so if you want nice looking fonts in different sizes, it is suggested to create a separate font for each point size.</p>

<p>To get started, like always, you’ll need to set up a MOAISim window.</p>
<div class="highlight"><pre><code class="language-lua" data-lang="lua"><span class="n">MOAISim</span><span class="p">.</span><span class="n">openWindow</span> <span class="p">(</span> <span class="s2">"Textboxes"</span><span class="p">,</span> <span class="mi">320</span><span class="p">,</span> <span class="mi">480</span> <span class="p">)</span>

<span class="n">viewport</span> <span class="o">=</span> <span class="n">MOAIViewport</span><span class="p">.</span><span class="n">new</span> <span class="p">()</span>
<span class="n">viewport</span><span class="p">:</span><span class="n">setScale</span> <span class="p">(</span> <span class="mi">320</span><span class="p">,</span> <span class="mi">480</span> <span class="p">)</span>
<span class="n">viewport</span><span class="p">:</span><span class="n">setSize</span> <span class="p">(</span> <span class="mi">320</span><span class="p">,</span> <span class="mi">480</span> <span class="p">)</span>
<span class="n">layer</span> <span class="o">=</span> <span class="n">MOAILayer2D</span><span class="p">.</span><span class="n">new</span> <span class="p">()</span>
<span class="n">layer</span><span class="p">:</span><span class="n">setViewport</span> <span class="p">(</span> <span class="n">viewport</span> <span class="p">)</span>
<span class="n">MOAISim</span><span class="p">.</span><span class="n">pushRenderPass</span> <span class="p">(</span> <span class="n">layer</span> <span class="p">)</span>
</code></pre></div>
<p>Now that the window is ready, it&#39;s time to set up your charCodes. This will tell Moai which of the glyphs to use from the ttf, instead of just loading the entire file (which can take up a lot of unnecessary space.) The order doesn’t matter, just as long as every symbol you will use is included. Also, be sure to include a space! For the entirety of this tutorial, the following line of code will suffice.</p>
<div class="highlight"><pre><code class="language-lua" data-lang="lua"><span class="n">charcodes</span> <span class="o">=</span> <span class="s1">'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789 .,:;!?()&amp;/-'</span>
</code></pre></div>
<p>Your next step is to load in the font that you want to use. Moai allows users to load a font directly from a true type font file and use that. Feel free to use any TTF file that you would like.</p>
<div class="highlight"><pre><code class="language-lua" data-lang="lua"><span class="n">font</span> <span class="o">=</span> <span class="n">MOAIFont</span><span class="p">.</span><span class="n">new</span> <span class="p">()</span>
<span class="n">font</span><span class="p">:</span><span class="n">loadFromTTF</span> <span class="p">(</span> <span class="s1">'Bastarda-K.ttf'</span><span class="p">,</span> <span class="n">charcodes</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">163</span> <span class="p">)</span>
</code></pre></div>
<p>The loadFromTTF function takes in the following parameters:</p>
<div class="highlight"><pre><code class="language-lua" data-lang="lua"><span class="n">loadFromTTF</span> <span class="p">(</span> <span class="n">file</span> <span class="n">name</span><span class="p">,</span> <span class="n">char</span> <span class="n">codes</span><span class="p">,</span> <span class="n">point</span> <span class="n">size</span> <span class="k">for</span> <span class="n">the</span> <span class="n">font</span> <span class="n">to</span> <span class="n">render</span><span class="p">,</span> <span class="n">device</span> <span class="n">dpi</span> <span class="p">)</span>
</code></pre></div>
<p>Now that font setup is complete, it is time to create a text box.</p>
<div class="highlight"><pre><code class="language-lua" data-lang="lua"><span class="n">textbox</span> <span class="o">=</span> <span class="n">MOAITextBox</span><span class="p">.</span><span class="n">new</span> <span class="p">()</span>
<span class="n">textbox</span><span class="p">:</span><span class="n">setString</span> <span class="p">(</span> <span class="s2">"This is our text for the tutorial over textboxes"</span> <span class="p">)</span>
<span class="n">textbox</span><span class="p">:</span><span class="n">setFont</span> <span class="p">(</span> <span class="n">font</span> <span class="p">)</span>
<span class="n">textbox</span><span class="p">:</span><span class="n">setTextSize</span> <span class="p">(</span> <span class="n">font</span><span class="p">:</span><span class="n">getScale</span> <span class="p">())</span>
<span class="n">textbox</span><span class="p">:</span><span class="n">setRect</span> <span class="p">(</span> <span class="o">-</span><span class="mi">150</span><span class="p">,</span> <span class="o">-</span><span class="mi">230</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">230</span> <span class="p">)</span>
<span class="n">textbox</span><span class="p">:</span><span class="n">setYFlip</span> <span class="p">(</span> <span class="kc">true</span> <span class="p">)</span>
<span class="n">layer</span><span class="p">:</span><span class="n">insertProp</span> <span class="p">(</span> <span class="n">textbox</span> <span class="p">)</span>
</code></pre></div>
<p>One thing to note about “setYFlip.” While all other props in Moai will automatically assume a world style coordinate, a textbox will assume a window style. To get the textbox to render with world style, you set YFlip to true. And running that, you should see the following:</p>

<p><img src="../../img/docs/Textboxes1.jpg" alt=""></p>

<p>Now that you&#39;ve created a text box, you can start changing it a bit. You may have noticed that the text appeared instantly. You can change that behavior to spool in with</p>
<div class="highlight"><pre><code class="language-lua" data-lang="lua"><span class="n">textbox</span><span class="p">:</span><span class="n">spool</span> <span class="p">()</span>
</code></pre></div>
<p>This will slowly scroll the text through one space at a time. Perhaps you aren’t too fond of the color white for your text. That is simply changed by using seekColor.</p>
<div class="highlight"><pre><code class="language-lua" data-lang="lua"><span class="n">textbox</span><span class="p">:</span><span class="n">seekColor</span> <span class="p">(</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">MOAIEaseType</span><span class="p">.</span><span class="n">EASE_IN</span> <span class="p">)</span>
</code></pre></div>
<p><img src="../../img/docs/Textboxes2.jpg" alt=""></p>

<p>If you&#39;ve read the tutorial on prop animations, this should look familiar to you. Textboxes in Moai are actually considered props, so any of the animations talked about in that tutorial will also apply here. Moves, rotates, scale; all of them apply to textboxes. Now suppose that you want to change the alignment of the textbox, it’s as easy as inserting another line. This can just be added in the main textbox chunk.</p>
<div class="highlight"><pre><code class="language-lua" data-lang="lua"><span class="n">textbox</span><span class="p">:</span><span class="n">setAlignment</span> <span class="p">(</span> <span class="n">MOAITextBox</span><span class="p">.</span><span class="n">RIGHT_JUSTIFY</span> <span class="p">)</span>
</code></pre></div>
<p>And now the text will be justified to the right side of the screen. You could also do MOAITextBox.LEFT_JUSTIFY or MOAITextBox.CENTER_JUSTIFY if that was what you wanted.</p>

<p><img src="../../img/docs/Textboxes3.jpg" alt=""></p>

<p>Time to get a bit more complicated. The textbox is currently the size of the screen, but what if it was smaller? And what if there was too much text for it? Go ahead and delete the shading and the alignment, you don’t need them for what you’re doing. Now edit the size of the textbox rect, replacing your code with this:</p>
<div class="highlight"><pre><code class="language-lua" data-lang="lua"><span class="n">textbox</span><span class="p">:</span><span class="n">setRect</span> <span class="p">(</span> <span class="o">-</span><span class="mi">150</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">230</span> <span class="p">)</span>
</code></pre></div>
<p>and run the file. You should get:</p>

<p><img src="../../img/docs/Textboxes4.jpg" alt=""></p>

<p>As you can see, the text didn’t finish displaying. One method thatyou can use in order to scroll through the rest of the text is to create a function that will check, once the text can spool no more, if there is any more text in the string; if there is, it will then start spooling the rest of the text. This sample will just quickly run through the text; for games, you might want to wait for user input before moving onto a the next textbox. This is what the completed file will look like:</p>
<div class="highlight"><pre><code class="language-lua" data-lang="lua"><span class="n">MOAISim</span><span class="p">.</span><span class="n">openWindow</span> <span class="p">(</span> <span class="s2">"Textboxes"</span><span class="p">,</span> <span class="mi">320</span><span class="p">,</span> <span class="mi">480</span> <span class="p">)</span>
<span class="n">viewport</span> <span class="o">=</span> <span class="n">MOAIViewport</span><span class="p">.</span><span class="n">new</span> <span class="p">()</span>
<span class="n">viewport</span><span class="p">:</span><span class="n">setScale</span> <span class="p">(</span> <span class="mi">320</span><span class="p">,</span> <span class="mi">480</span> <span class="p">)</span>
<span class="n">viewport</span><span class="p">:</span><span class="n">setSize</span> <span class="p">(</span> <span class="mi">320</span><span class="p">,</span> <span class="mi">480</span> <span class="p">)</span>
<span class="n">layer</span> <span class="o">=</span> <span class="n">MOAILayer2D</span><span class="p">.</span><span class="n">new</span> <span class="p">()</span>
<span class="n">layer</span><span class="p">:</span><span class="n">setViewport</span> <span class="p">(</span> <span class="n">viewport</span> <span class="p">)</span>
<span class="n">MOAISim</span><span class="p">.</span><span class="n">pushRenderPass</span> <span class="p">(</span> <span class="n">layer</span> <span class="p">)</span>

<span class="n">charcodes</span> <span class="o">=</span> <span class="s1">'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789 .,:;!?()&amp;/-'</span>
<span class="n">text1</span> <span class="o">=</span> <span class="s1">'This is our text for the tutorial over textboxes'</span>
<span class="n">font</span> <span class="o">=</span> <span class="n">MOAIFont</span><span class="p">.</span><span class="n">new</span> <span class="p">()</span>
<span class="n">font</span><span class="p">:</span><span class="n">loadFromTTF</span> <span class="p">(</span> <span class="s1">'Bastarda-K.ttf'</span><span class="p">,</span> <span class="n">charcodes</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">163</span> <span class="p">)</span>
<span class="n">textbox</span> <span class="o">=</span> <span class="n">MOAITextBox</span><span class="p">.</span><span class="n">new</span> <span class="p">()</span>
<span class="n">textbox</span><span class="p">:</span><span class="n">setFont</span> <span class="p">(</span> <span class="n">font</span> <span class="p">)</span>
<span class="n">textbox</span><span class="p">:</span><span class="n">setTextSize</span> <span class="p">(</span> <span class="n">font</span><span class="p">:</span><span class="n">getScale</span> <span class="p">())</span>
<span class="n">textbox</span><span class="p">:</span><span class="n">setRect</span> <span class="p">(</span> <span class="o">-</span><span class="mi">150</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">230</span> <span class="p">)</span>
<span class="n">textbox</span><span class="p">:</span><span class="n">setYFlip</span> <span class="p">(</span> <span class="kc">true</span> <span class="p">)</span>
<span class="n">layer</span><span class="p">:</span><span class="n">insertProp</span> <span class="p">(</span> <span class="n">textbox</span> <span class="p">)</span>

<span class="k">function</span> <span class="nf">page</span> <span class="p">(</span> <span class="n">text</span> <span class="p">)</span>
 <span class="n">textbox</span><span class="p">:</span><span class="n">setString</span> <span class="p">(</span> <span class="n">text</span> <span class="p">)</span>
 <span class="n">textbox</span><span class="p">:</span><span class="n">spool</span> <span class="p">()</span>

 <span class="k">while</span> <span class="n">textbox</span><span class="p">:</span><span class="n">more</span> <span class="p">()</span> <span class="k">do</span>

   <span class="k">while</span> <span class="n">textbox</span><span class="p">:</span><span class="n">isBusy</span> <span class="p">()</span> <span class="k">do</span> <span class="nb">coroutine.yield</span> <span class="p">()</span> <span class="k">end</span>
   <span class="k">if</span> <span class="n">textbox</span><span class="p">:</span><span class="n">more</span> <span class="p">()</span> <span class="k">then</span>    
     <span class="n">textbox</span><span class="p">:</span><span class="n">nextPage</span> <span class="p">()</span>
     <span class="n">textbox</span><span class="p">:</span><span class="n">spool</span> <span class="p">()</span>
   <span class="k">end</span>
 <span class="k">end</span>
<span class="k">end</span>

<span class="k">function</span> <span class="nf">main</span> <span class="p">()</span>
 <span class="n">page</span> <span class="p">(</span> <span class="n">text1</span> <span class="p">)</span>
<span class="k">end</span>
<span class="n">thread</span> <span class="o">=</span> <span class="n">MOAIThread</span><span class="p">.</span><span class="n">new</span> <span class="p">()</span>
<span class="n">thread</span><span class="p">:</span><span class="n">run</span> <span class="p">(</span> <span class="n">main</span> <span class="p">)</span>
</code></pre></div>
<p>Now to break this down piece by piece. From the top, the first change is that the string has been moved to a variable called “text1”. This is so you can just call “text1” inside the function instead of having to call the entirety of the textbox. After that, you create the page scrolling function.</p>
<div class="highlight"><pre><code class="language-lua" data-lang="lua"><span class="k">function</span> <span class="nf">page</span> <span class="p">(</span> <span class="n">text</span> <span class="p">)</span>
 <span class="c1">-- start spooling the text</span>
 <span class="n">textbox</span><span class="p">:</span><span class="n">setString</span> <span class="p">(</span> <span class="n">text</span> <span class="p">)</span>
 <span class="n">textbox</span><span class="p">:</span><span class="n">spool</span> <span class="p">()</span>
 <span class="c1">-- more will be true as long as there is any remaining text</span>
 <span class="k">while</span> <span class="n">textbox</span><span class="p">:</span><span class="n">more</span> <span class="p">()</span> <span class="k">do</span>

   <span class="c1">-- wait until we're done spooling the page</span>
   <span class="k">while</span> <span class="n">textbox</span><span class="p">:</span><span class="n">isBusy</span> <span class="p">()</span> <span class="k">do</span> <span class="nb">coroutine.yield</span> <span class="p">()</span> <span class="k">end</span>
   <span class="c1">-- if there's more to spool, show the next page</span>
   <span class="k">if</span> <span class="n">textbox</span><span class="p">:</span><span class="n">more</span> <span class="p">()</span> <span class="k">then</span>
     <span class="c1">-- this shows the next page and restarts the spool action</span>
     <span class="n">textbox</span><span class="p">:</span><span class="n">nextPage</span> <span class="p">()</span>
     <span class="n">textbox</span><span class="p">:</span><span class="n">spool</span> <span class="p">()</span>
   <span class="k">end</span>
 <span class="k">end</span>
<span class="k">end</span>
</code></pre></div>
<p>Now that you&#39;ve created the page scrolling function, create your main game loop and the thread to run it.</p>
<div class="highlight"><pre><code class="language-lua" data-lang="lua"><span class="k">function</span> <span class="nf">main</span> <span class="p">()</span>
 <span class="n">page</span> <span class="p">(</span> <span class="n">text1</span> <span class="p">)</span>
<span class="k">end</span>

<span class="n">thread</span> <span class="o">=</span> <span class="n">MOAIThread</span><span class="p">.</span><span class="n">new</span> <span class="p">()</span>
<span class="n">thread</span><span class="p">:</span><span class="n">run</span> <span class="p">(</span> <span class="n">main</span> <span class="p">)</span>
</code></pre></div>
<p>And with that, thread running is complete. When it’s all finished, you should see the following:</p>

<p><img src="../../img/docs/Textboxes5.jpg" alt=""></p>

<p>There you have the basics of textboxes!</p>

        </div>
               
</div>
</div>


    <!-- SUB FOOTER-->
   <!-- <div class="subfooter">
      <div class="container">
        <div class="row">
          <div class="col-sm-4">
            <p class="text-center"><a href="http://getmoai.com/marketing/made-with-moai.html">License / Attribution</a></p>
          </div>
          <div class="col-sm-4">
            <p class="text-center"><a class="text-center" href="http://getmoai.com/tools-partners.html">Useful Tools</a></p>
          </div>
          <div class="col-sm-4">
            <p class="text-center"><a class="text-center" href="http://getmoai.com/partner-services.html">Partner Services</a></p>
          </div>
        </div>
      </div>
    </div>-->
    <!-- /SUB FOOTER-->
    <!-- FOOTER -->
    <footer>
      <div class="container">
       
        <footer>
        <div class="row">
            <div class="col-lg-12">
                <p>Copyright &copy; David Pershouse 2024</p>
            </div>
        </div>
    </footer>

      </div>
    </footer>

      <script src="../../js/bootstrap.min.js"></script>
    
  </body>
</html>
